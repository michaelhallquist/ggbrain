[{"path":"https://michaelhallquist.github.io/ggbrain/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"GNU General Public License","title":"GNU General Public License","text":"Version 3, 29 June 2007Copyright © 2007 Free Software Foundation, Inc. <http://fsf.org/> Everyone permitted copy distribute verbatim copies license document, changing allowed.","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/LICENSE.html","id":"preamble","dir":"","previous_headings":"","what":"Preamble","title":"GNU General Public License","text":"GNU General Public License free, copyleft license software kinds works. licenses software practical works designed take away freedom share change works. contrast, GNU General Public License intended guarantee freedom share change versions program–make sure remains free software users. , Free Software Foundation, use GNU General Public License software; applies also work released way authors. can apply programs, . speak free software, referring freedom, price. General Public Licenses designed make sure freedom distribute copies free software (charge wish), receive source code can get want , can change software use pieces new free programs, know can things. protect rights, need prevent others denying rights asking surrender rights. Therefore, certain responsibilities distribute copies software, modify : responsibilities respect freedom others. example, distribute copies program, whether gratis fee, must pass recipients freedoms received. must make sure , , receive can get source code. must show terms know rights. Developers use GNU GPL protect rights two steps: (1) assert copyright software, (2) offer License giving legal permission copy, distribute /modify . developers’ authors’ protection, GPL clearly explains warranty free software. users’ authors’ sake, GPL requires modified versions marked changed, problems attributed erroneously authors previous versions. devices designed deny users access install run modified versions software inside , although manufacturer can . fundamentally incompatible aim protecting users’ freedom change software. systematic pattern abuse occurs area products individuals use, precisely unacceptable. Therefore, designed version GPL prohibit practice products. problems arise substantially domains, stand ready extend provision domains future versions GPL, needed protect freedom users. Finally, every program threatened constantly software patents. States allow patents restrict development use software general-purpose computers, , wish avoid special danger patents applied free program make effectively proprietary. prevent , GPL assures patents used render program non-free. precise terms conditions copying, distribution modification follow.","code":""},{"path":[]},{"path":"https://michaelhallquist.github.io/ggbrain/LICENSE.html","id":"id_0-definitions","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"0. Definitions","title":"GNU General Public License","text":"“License” refers version 3 GNU General Public License. “Copyright” also means copyright-like laws apply kinds works, semiconductor masks. “Program” refers copyrightable work licensed License. licensee addressed “”. “Licensees” “recipients” may individuals organizations. “modify” work means copy adapt part work fashion requiring copyright permission, making exact copy. resulting work called “modified version” earlier work work “based ” earlier work. “covered work” means either unmodified Program work based Program. “propagate” work means anything , without permission, make directly secondarily liable infringement applicable copyright law, except executing computer modifying private copy. Propagation includes copying, distribution (without modification), making available public, countries activities well. “convey” work means kind propagation enables parties make receive copies. Mere interaction user computer network, transfer copy, conveying. interactive user interface displays “Appropriate Legal Notices” extent includes convenient prominently visible feature (1) displays appropriate copyright notice, (2) tells user warranty work (except extent warranties provided), licensees may convey work License, view copy License. interface presents list user commands options, menu, prominent item list meets criterion.","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/LICENSE.html","id":"id_1-source-code","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"1. Source Code","title":"GNU General Public License","text":"“source code” work means preferred form work making modifications . “Object code” means non-source form work. “Standard Interface” means interface either official standard defined recognized standards body, , case interfaces specified particular programming language, one widely used among developers working language. “System Libraries” executable work include anything, work whole, () included normal form packaging Major Component, part Major Component, (b) serves enable use work Major Component, implement Standard Interface implementation available public source code form. “Major Component”, context, means major essential component (kernel, window system, ) specific operating system () executable work runs, compiler used produce work, object code interpreter used run . “Corresponding Source” work object code form means source code needed generate, install, (executable work) run object code modify work, including scripts control activities. However, include work’s System Libraries, general-purpose tools generally available free programs used unmodified performing activities part work. example, Corresponding Source includes interface definition files associated source files work, source code shared libraries dynamically linked subprograms work specifically designed require, intimate data communication control flow subprograms parts work. Corresponding Source need include anything users can regenerate automatically parts Corresponding Source. Corresponding Source work source code form work.","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/LICENSE.html","id":"id_2-basic-permissions","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"2. Basic Permissions","title":"GNU General Public License","text":"rights granted License granted term copyright Program, irrevocable provided stated conditions met. License explicitly affirms unlimited permission run unmodified Program. output running covered work covered License output, given content, constitutes covered work. License acknowledges rights fair use equivalent, provided copyright law. may make, run propagate covered works convey, without conditions long license otherwise remains force. may convey covered works others sole purpose make modifications exclusively , provide facilities running works, provided comply terms License conveying material control copyright. thus making running covered works must exclusively behalf, direction control, terms prohibit making copies copyrighted material outside relationship . Conveying circumstances permitted solely conditions stated . Sublicensing allowed; section 10 makes unnecessary.","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/LICENSE.html","id":"id_3-protecting-users-legal-rights-from-anti-circumvention-law","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"3. Protecting Users’ Legal Rights From Anti-Circumvention Law","title":"GNU General Public License","text":"covered work shall deemed part effective technological measure applicable law fulfilling obligations article 11 WIPO copyright treaty adopted 20 December 1996, similar laws prohibiting restricting circumvention measures. convey covered work, waive legal power forbid circumvention technological measures extent circumvention effected exercising rights License respect covered work, disclaim intention limit operation modification work means enforcing, work’s users, third parties’ legal rights forbid circumvention technological measures.","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/LICENSE.html","id":"id_4-conveying-verbatim-copies","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"4. Conveying Verbatim Copies","title":"GNU General Public License","text":"may convey verbatim copies Program’s source code receive , medium, provided conspicuously appropriately publish copy appropriate copyright notice; keep intact notices stating License non-permissive terms added accord section 7 apply code; keep intact notices absence warranty; give recipients copy License along Program. may charge price price copy convey, may offer support warranty protection fee.","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/LICENSE.html","id":"id_5-conveying-modified-source-versions","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"5. Conveying Modified Source Versions","title":"GNU General Public License","text":"may convey work based Program, modifications produce Program, form source code terms section 4, provided also meet conditions: ) work must carry prominent notices stating modified , giving relevant date. b) work must carry prominent notices stating released License conditions added section 7. requirement modifies requirement section 4 “keep intact notices”. c) must license entire work, whole, License anyone comes possession copy. License therefore apply, along applicable section 7 additional terms, whole work, parts, regardless packaged. License gives permission license work way, invalidate permission separately received . d) work interactive user interfaces, must display Appropriate Legal Notices; however, Program interactive interfaces display Appropriate Legal Notices, work need make . compilation covered work separate independent works, nature extensions covered work, combined form larger program, volume storage distribution medium, called “aggregate” compilation resulting copyright used limit access legal rights compilation’s users beyond individual works permit. Inclusion covered work aggregate cause License apply parts aggregate.","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/LICENSE.html","id":"id_6-conveying-non-source-forms","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"6. Conveying Non-Source Forms","title":"GNU General Public License","text":"may convey covered work object code form terms sections 4 5, provided also convey machine-readable Corresponding Source terms License, one ways: ) Convey object code , embodied , physical product (including physical distribution medium), accompanied Corresponding Source fixed durable physical medium customarily used software interchange. b) Convey object code , embodied , physical product (including physical distribution medium), accompanied written offer, valid least three years valid long offer spare parts customer support product model, give anyone possesses object code either (1) copy Corresponding Source software product covered License, durable physical medium customarily used software interchange, price reasonable cost physically performing conveying source, (2) access copy Corresponding Source network server charge. c) Convey individual copies object code copy written offer provide Corresponding Source. alternative allowed occasionally noncommercially, received object code offer, accord subsection 6b. d) Convey object code offering access designated place (gratis charge), offer equivalent access Corresponding Source way place charge. need require recipients copy Corresponding Source along object code. place copy object code network server, Corresponding Source may different server (operated third party) supports equivalent copying facilities, provided maintain clear directions next object code saying find Corresponding Source. Regardless server hosts Corresponding Source, remain obligated ensure available long needed satisfy requirements. e) Convey object code using peer--peer transmission, provided inform peers object code Corresponding Source work offered general public charge subsection 6d. separable portion object code, whose source code excluded Corresponding Source System Library, need included conveying object code work. “User Product” either (1) “consumer product”, means tangible personal property normally used personal, family, household purposes, (2) anything designed sold incorporation dwelling. determining whether product consumer product, doubtful cases shall resolved favor coverage. particular product received particular user, “normally used” refers typical common use class product, regardless status particular user way particular user actually uses, expects expected use, product. product consumer product regardless whether product substantial commercial, industrial non-consumer uses, unless uses represent significant mode use product. “Installation Information” User Product means methods, procedures, authorization keys, information required install execute modified versions covered work User Product modified version Corresponding Source. information must suffice ensure continued functioning modified object code case prevented interfered solely modification made. convey object code work section , , specifically use , User Product, conveying occurs part transaction right possession use User Product transferred recipient perpetuity fixed term (regardless transaction characterized), Corresponding Source conveyed section must accompanied Installation Information. requirement apply neither third party retains ability install modified object code User Product (example, work installed ROM). requirement provide Installation Information include requirement continue provide support service, warranty, updates work modified installed recipient, User Product modified installed. Access network may denied modification materially adversely affects operation network violates rules protocols communication across network. Corresponding Source conveyed, Installation Information provided, accord section must format publicly documented (implementation available public source code form), must require special password key unpacking, reading copying.","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/LICENSE.html","id":"id_7-additional-terms","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"7. Additional Terms","title":"GNU General Public License","text":"“Additional permissions” terms supplement terms License making exceptions one conditions. Additional permissions applicable entire Program shall treated though included License, extent valid applicable law. additional permissions apply part Program, part may used separately permissions, entire Program remains governed License without regard additional permissions. convey copy covered work, may option remove additional permissions copy, part . (Additional permissions may written require removal certain cases modify work.) may place additional permissions material, added covered work, can give appropriate copyright permission. Notwithstanding provision License, material add covered work, may (authorized copyright holders material) supplement terms License terms: ) Disclaiming warranty limiting liability differently terms sections 15 16 License; b) Requiring preservation specified reasonable legal notices author attributions material Appropriate Legal Notices displayed works containing ; c) Prohibiting misrepresentation origin material, requiring modified versions material marked reasonable ways different original version; d) Limiting use publicity purposes names licensors authors material; e) Declining grant rights trademark law use trade names, trademarks, service marks; f) Requiring indemnification licensors authors material anyone conveys material (modified versions ) contractual assumptions liability recipient, liability contractual assumptions directly impose licensors authors. non-permissive additional terms considered “restrictions” within meaning section 10. Program received , part , contains notice stating governed License along term restriction, may remove term. license document contains restriction permits relicensing conveying License, may add covered work material governed terms license document, provided restriction survive relicensing conveying. add terms covered work accord section, must place, relevant source files, statement additional terms apply files, notice indicating find applicable terms. Additional terms, permissive non-permissive, may stated form separately written license, stated exceptions; requirements apply either way.","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/LICENSE.html","id":"id_8-termination","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"8. Termination","title":"GNU General Public License","text":"may propagate modify covered work except expressly provided License. attempt otherwise propagate modify void, automatically terminate rights License (including patent licenses granted third paragraph section 11). However, cease violation License, license particular copyright holder reinstated () provisionally, unless copyright holder explicitly finally terminates license, (b) permanently, copyright holder fails notify violation reasonable means prior 60 days cessation. Moreover, license particular copyright holder reinstated permanently copyright holder notifies violation reasonable means, first time received notice violation License (work) copyright holder, cure violation prior 30 days receipt notice. Termination rights section terminate licenses parties received copies rights License. rights terminated permanently reinstated, qualify receive new licenses material section 10.","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/LICENSE.html","id":"id_9-acceptance-not-required-for-having-copies","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"9. Acceptance Not Required for Having Copies","title":"GNU General Public License","text":"required accept License order receive run copy Program. Ancillary propagation covered work occurring solely consequence using peer--peer transmission receive copy likewise require acceptance. However, nothing License grants permission propagate modify covered work. actions infringe copyright accept License. Therefore, modifying propagating covered work, indicate acceptance License .","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/LICENSE.html","id":"id_10-automatic-licensing-of-downstream-recipients","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"10. Automatic Licensing of Downstream Recipients","title":"GNU General Public License","text":"time convey covered work, recipient automatically receives license original licensors, run, modify propagate work, subject License. responsible enforcing compliance third parties License. “entity transaction” transaction transferring control organization, substantially assets one, subdividing organization, merging organizations. propagation covered work results entity transaction, party transaction receives copy work also receives whatever licenses work party’s predecessor interest give previous paragraph, plus right possession Corresponding Source work predecessor interest, predecessor can get reasonable efforts. may impose restrictions exercise rights granted affirmed License. example, may impose license fee, royalty, charge exercise rights granted License, may initiate litigation (including cross-claim counterclaim lawsuit) alleging patent claim infringed making, using, selling, offering sale, importing Program portion .","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/LICENSE.html","id":"id_11-patents","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"11. Patents","title":"GNU General Public License","text":"“contributor” copyright holder authorizes use License Program work Program based. work thus licensed called contributor’s “contributor version”. contributor’s “essential patent claims” patent claims owned controlled contributor, whether already acquired hereafter acquired, infringed manner, permitted License, making, using, selling contributor version, include claims infringed consequence modification contributor version. purposes definition, “control” includes right grant patent sublicenses manner consistent requirements License. contributor grants non-exclusive, worldwide, royalty-free patent license contributor’s essential patent claims, make, use, sell, offer sale, import otherwise run, modify propagate contents contributor version. following three paragraphs, “patent license” express agreement commitment, however denominated, enforce patent (express permission practice patent covenant sue patent infringement). “grant” patent license party means make agreement commitment enforce patent party. convey covered work, knowingly relying patent license, Corresponding Source work available anyone copy, free charge terms License, publicly available network server readily accessible means, must either (1) cause Corresponding Source available, (2) arrange deprive benefit patent license particular work, (3) arrange, manner consistent requirements License, extend patent license downstream recipients. “Knowingly relying” means actual knowledge , patent license, conveying covered work country, recipient’s use covered work country, infringe one identifiable patents country reason believe valid. , pursuant connection single transaction arrangement, convey, propagate procuring conveyance , covered work, grant patent license parties receiving covered work authorizing use, propagate, modify convey specific copy covered work, patent license grant automatically extended recipients covered work works based . patent license “discriminatory” include within scope coverage, prohibits exercise , conditioned non-exercise one rights specifically granted License. may convey covered work party arrangement third party business distributing software, make payment third party based extent activity conveying work, third party grants, parties receive covered work , discriminatory patent license () connection copies covered work conveyed (copies made copies), (b) primarily connection specific products compilations contain covered work, unless entered arrangement, patent license granted, prior 28 March 2007. Nothing License shall construed excluding limiting implied license defenses infringement may otherwise available applicable patent law.","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/LICENSE.html","id":"id_12-no-surrender-of-others-freedom","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"12. No Surrender of Others’ Freedom","title":"GNU General Public License","text":"conditions imposed (whether court order, agreement otherwise) contradict conditions License, excuse conditions License. convey covered work satisfy simultaneously obligations License pertinent obligations, consequence may convey . example, agree terms obligate collect royalty conveying convey Program, way satisfy terms License refrain entirely conveying Program.","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/LICENSE.html","id":"id_13-use-with-the-gnu-affero-general-public-license","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"13. Use with the GNU Affero General Public License","title":"GNU General Public License","text":"Notwithstanding provision License, permission link combine covered work work licensed version 3 GNU Affero General Public License single combined work, convey resulting work. terms License continue apply part covered work, special requirements GNU Affero General Public License, section 13, concerning interaction network apply combination .","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/LICENSE.html","id":"id_14-revised-versions-of-this-license","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"14. Revised Versions of this License","title":"GNU General Public License","text":"Free Software Foundation may publish revised /new versions GNU General Public License time time. new versions similar spirit present version, may differ detail address new problems concerns. version given distinguishing version number. Program specifies certain numbered version GNU General Public License “later version” applies , option following terms conditions either numbered version later version published Free Software Foundation. Program specify version number GNU General Public License, may choose version ever published Free Software Foundation. Program specifies proxy can decide future versions GNU General Public License can used, proxy’s public statement acceptance version permanently authorizes choose version Program. Later license versions may give additional different permissions. However, additional obligations imposed author copyright holder result choosing follow later version.","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/LICENSE.html","id":"id_15-disclaimer-of-warranty","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"15. Disclaimer of Warranty","title":"GNU General Public License","text":"WARRANTY PROGRAM, EXTENT PERMITTED APPLICABLE LAW. EXCEPT OTHERWISE STATED WRITING COPYRIGHT HOLDERS /PARTIES PROVIDE PROGRAM “” WITHOUT WARRANTY KIND, EITHER EXPRESSED IMPLIED, INCLUDING, LIMITED , IMPLIED WARRANTIES MERCHANTABILITY FITNESS PARTICULAR PURPOSE. ENTIRE RISK QUALITY PERFORMANCE PROGRAM . PROGRAM PROVE DEFECTIVE, ASSUME COST NECESSARY SERVICING, REPAIR CORRECTION.","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/LICENSE.html","id":"id_16-limitation-of-liability","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"16. Limitation of Liability","title":"GNU General Public License","text":"EVENT UNLESS REQUIRED APPLICABLE LAW AGREED WRITING COPYRIGHT HOLDER, PARTY MODIFIES /CONVEYS PROGRAM PERMITTED , LIABLE DAMAGES, INCLUDING GENERAL, SPECIAL, INCIDENTAL CONSEQUENTIAL DAMAGES ARISING USE INABILITY USE PROGRAM (INCLUDING LIMITED LOSS DATA DATA RENDERED INACCURATE LOSSES SUSTAINED THIRD PARTIES FAILURE PROGRAM OPERATE PROGRAMS), EVEN HOLDER PARTY ADVISED POSSIBILITY DAMAGES.","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/LICENSE.html","id":"id_17-interpretation-of-sections-15-and-16","dir":"","previous_headings":"TERMS AND CONDITIONS","what":"17. Interpretation of Sections 15 and 16","title":"GNU General Public License","text":"disclaimer warranty limitation liability provided given local legal effect according terms, reviewing courts shall apply local law closely approximates absolute waiver civil liability connection Program, unless warranty assumption liability accompanies copy Program return fee. END TERMS CONDITIONS","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/LICENSE.html","id":"how-to-apply-these-terms-to-your-new-programs","dir":"","previous_headings":"","what":"How to Apply These Terms to Your New Programs","title":"GNU General Public License","text":"develop new program, want greatest possible use public, best way achieve make free software everyone can redistribute change terms. , attach following notices program. safest attach start source file effectively state exclusion warranty; file least “copyright” line pointer full notice found. Also add information contact electronic paper mail. program terminal interaction, make output short notice like starts interactive mode: hypothetical commands show w show c show appropriate parts General Public License. course, program’s commands might different; GUI interface, use “box”. also get employer (work programmer) school, , sign “copyright disclaimer” program, necessary. information , apply follow GNU GPL, see <http://www.gnu.org/licenses/>. GNU General Public License permit incorporating program proprietary programs. program subroutine library, may consider useful permit linking proprietary applications library. want , use GNU Lesser General Public License instead License. first, please read <http://www.gnu.org/philosophy/--lgpl.html>.","code":"<one line to give the program's name and a brief idea of what it does.> Copyright (C) <year>  <name of author>  This program is free software: you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.  This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License for more details.  You should have received a copy of the GNU General Public License along with this program.  If not, see <http://www.gnu.org/licenses/>. <program>  Copyright (C) <year>  <name of author> This program comes with ABSOLUTELY NO WARRANTY; for details type 'show w'. This is free software, and you are welcome to redistribute it under certain conditions; type 'show c' for details."},{"path":"https://michaelhallquist.github.io/ggbrain/articles/ggbrain_aesthetics.html","id":"images-used-in-this-demo","dir":"Articles","previous_headings":"","what":"Images used in this demo","title":"Aesthetic refinements of ggbrain plots","text":"package includes several images demonstration purposes:","code":"# MNI 2009c anatomical underlay underlay_2mm <- system.file(\"extdata\", \"mni_template_2009c_2mm.nii.gz\", package = \"ggbrain\")  # Parametric modulator: entropy change following feedback in learning task echange_overlay_2mm <- system.file(\"extdata\", \"echange_ptfce_fwep_0.05_2mm.nii.gz\", package = \"ggbrain\")  # Signed reward prediction error following feedback  pe_overlay_2mm <- system.file(\"extdata\", \"pe_ptfce_fwep_0.05_2mm.nii.gz\", package = \"ggbrain\")  # Absolute reward prediction error abspe_overlay_2mm <- system.file(\"extdata\", \"abspe_ptfce_fwep_0.05_2mm.nii.gz\", package = \"ggbrain\")  # Schaefer 200-parcel atlas of cortex schaefer200_atlas_2mm <- system.file(\"extdata\", \"Schaefer_200_7networks_2009c_2mm.nii.gz\", package = \"ggbrain\")  # Labels for the Schaefer atlas schaefer_labels <- read.csv(   system.file(\"extdata\", \"Schaefer_200_7networks_labels.csv\", package = \"ggbrain\"),    na.strings = c(\"\", \"NA\") ) %>%   rename(value = roi_num) # ggbrain requires a 'value' column for merging"},{"path":"https://michaelhallquist.github.io/ggbrain/articles/ggbrain_aesthetics.html","id":"adjustments-to-the-appearance-of-image-layers","dir":"Articles","previous_headings":"","what":"Adjustments to the appearance of image layers","title":"Aesthetic refinements of ggbrain plots","text":"rendering brain slices, particularly functional activation maps, raw data often contains visual artifacts can distracting aesthetically unappealing. ggbrain provides several tools cleaning appearance image layers.","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/articles/ggbrain_aesthetics.html","id":"removing-small-specks-remove_specks","dir":"Articles","previous_headings":"Adjustments to the appearance of image layers","what":"Removing small specks (remove_specks)","title":"Aesthetic refinements of ggbrain plots","text":"times, slicing given image (especially functional activations), possible clusters small, yielding small ‘specks’ rendered slices. visually unappealing may merit removal. remove_specks argument specifies pixel threshold used remove clusters smaller certain size. example, remove_specks = 20 remove clusters smaller 20 pixels size slice rendered image.  Note removing specks can, extreme, misrepresent data, use feature judiciously.","code":"base_plot <- ggbrain(bg_color = \"gray80\", text_color = \"black\") +   images(c(underlay = underlay_2mm, overlay = pe_overlay_2mm)) +   slices(c(\"z = 4\", \"z = 20\")) +   geom_brain(definition = \"underlay\")  # Without removing specks p1 <- base_plot +   geom_brain(definition = \"overlay\", fill_scale = scale_fill_distiller(\"z\", palette = \"Reds\")) +   render() + plot_annotation(title = \"Without remove_specks\")  # With remove_specks = 20 p2 <- base_plot +   geom_brain(definition = \"overlay\", fill_scale = scale_fill_distiller(\"z\", palette = \"Reds\"),               remove_specks = 20) +   render() + plot_annotation(title = \"With remove_specks = 20\")  p1 / p2"},{"path":"https://michaelhallquist.github.io/ggbrain/articles/ggbrain_aesthetics.html","id":"filling-small-holes-fill_holes","dir":"Articles","previous_headings":"Adjustments to the appearance of image layers","what":"Filling small holes (fill_holes)","title":"Aesthetic refinements of ggbrain plots","text":"Another common aesthetic issue small holes inside clusters. may reflect voxels fall slightly statistical threshold. fill_holes argument specifies size holes (pixels) filled rendered slices using nearest neighbor imputation.  integer-valued categorical images, mode neighboring voxels used imputation rather mean.","code":"# Without filling holes p1 <- base_plot +   geom_brain(definition = \"overlay\", fill_scale = scale_fill_distiller(\"z\", palette = \"Reds\")) +   render() + plot_annotation(title = \"Without fill_holes\")  # With fill_holes = 100 p2 <- base_plot +   geom_brain(definition = \"overlay\", fill_scale = scale_fill_distiller(\"z\", palette = \"Reds\"),               fill_holes = 100) +   render() + plot_annotation(title = \"With fill_holes = 100\")  p1 / p2"},{"path":"https://michaelhallquist.github.io/ggbrain/articles/ggbrain_aesthetics.html","id":"trimming-threads-trim_threads","dir":"Articles","previous_headings":"Adjustments to the appearance of image layers","what":"Trimming threads (trim_threads)","title":"Aesthetic refinements of ggbrain plots","text":"trim_threads argument iteratively removes pixels fewer specified number neighboring pixels (including diagonals). helps clean thin “threads” isolated pixels can occur edges clusters.","code":"# Without trimming p1 <- base_plot +   geom_brain(definition = \"overlay\", fill_scale = scale_fill_distiller(\"z\", palette = \"Reds\")) +   render() + plot_annotation(title = \"Without trim_threads\")  # With trim_threads = TRUE (uses default of 3 neighbors) p2 <- base_plot +   geom_brain(definition = \"overlay\", fill_scale = scale_fill_distiller(\"z\", palette = \"Reds\"),               trim_threads = TRUE) +   render() + plot_annotation(title = \"With trim_threads = TRUE\")  p1 / p2"},{"path":"https://michaelhallquist.github.io/ggbrain/articles/ggbrain_aesthetics.html","id":"combining-image-cleaning-operations","dir":"Articles","previous_headings":"Adjustments to the appearance of image layers","what":"Combining image cleaning operations","title":"Aesthetic refinements of ggbrain plots","text":"best visual results, can combine three cleaning operations:","code":"gg_clean <- base_plot +   geom_brain(     definition = \"overlay\",      fill_scale = scale_fill_distiller(\"z-stat\", palette = \"Reds\"),     remove_specks = 20,     fill_holes = 100,     trim_threads = TRUE   )  plot(gg_clean)"},{"path":[]},{"path":"https://michaelhallquist.github.io/ggbrain/articles/ggbrain_aesthetics.html","id":"custom-color-scales","dir":"Articles","previous_headings":"Working with color scales","what":"Custom color scales","title":"Aesthetic refinements of ggbrain plots","text":"can use ggplot2 scale_fill_* function customize color mapping:","code":"gg_viridis <- ggbrain(bg_color = \"gray80\", text_color = \"black\") +   images(c(underlay = underlay_2mm, overlay = echange_overlay_2mm)) +   slices(c(\"x = 0\", \"y = 0\", \"z = 30\")) +   geom_brain(definition = \"underlay\") +   geom_brain(     definition = \"overlay\",      fill_scale = scale_fill_viridis_c(\"Entropy\\nChange\", option = \"magma\"),     remove_specks = 15   )  plot(gg_viridis)"},{"path":"https://michaelhallquist.github.io/ggbrain/articles/ggbrain_aesthetics.html","id":"bisided-color-scales","dir":"Articles","previous_headings":"Working with color scales","what":"Bisided color scales","title":"Aesthetic refinements of ggbrain plots","text":"maps positive negative values (e.g., signed prediction errors), use scale_fill_bisided() create separate color scales:","code":"gg_bisided <- ggbrain(bg_color = \"gray80\", text_color = \"black\") +   images(c(underlay = underlay_2mm, overlay = pe_overlay_2mm)) +   slices(c(\"x = 0\", \"y = 0\", \"z = 30\")) +   geom_brain(definition = \"underlay\") +   geom_brain(     definition = \"overlay\",     fill_scale = scale_fill_bisided(       name = \"Signed PE\",       neg_scale = scale_fill_distiller(palette = \"Blues\", direction = 1),       pos_scale = scale_fill_distiller(palette = \"Reds\"),       symmetric = TRUE     ),     remove_specks = 20   )  plot(gg_bisided)"},{"path":[]},{"path":"https://michaelhallquist.github.io/ggbrain/articles/ggbrain_aesthetics.html","id":"mapping-fills-to-label-columns","dir":"Articles","previous_headings":"Working with categorical images and labels","what":"Mapping fills to label columns","title":"Aesthetic refinements of ggbrain plots","text":"working labeled images (e.g., atlases), can map fill color label columns rather numeric values. requires adding labels image specifying appropriate aesthetic mapping:","code":"# Create a subset of labels for Dorsal Attention Network dan_labels <- schaefer_labels %>%   filter(network == \"DorsAttn\") %>%   mutate(     dan_group = case_when(       value %in% c(31, 32, 135, 136) ~ \"MT+\",       value %in% c(33:40, 137:144) ~ \"PPC\",       value %in% c(41:43, 145:147) ~ \"Premotor\"     ),     dan_group = ordered(dan_group, levels = c(\"MT+\", \"PPC\", \"Premotor\"))   )  # Define colors for DAN groups dan_colors <- c(\"MT+\" = \"#E41A1C\", \"PPC\" = \"#377EB8\", \"Premotor\" = \"#4DAF4A\")  gg_dan <- ggbrain(bg_color = \"gray90\", text_color = \"black\") +   images(c(underlay = underlay_2mm)) +   images(c(dan_atlas = schaefer200_atlas_2mm), labels = dan_labels) +   slices(c(\"x = -30\", \"z = 50\")) +   geom_brain(     definition = \"underlay\",      fill_scale = scale_fill_gradient(low = \"grey30\", high = \"grey80\"),      show_legend = FALSE   ) +   geom_brain(     definition = \"dan_atlas\",      mapping = aes(fill = dan_group),     fill_scale = scale_fill_manual(\"DAN Region\", values = dan_colors),     show_legend = TRUE,     remove_specks = 10,     fill_holes = 20   )  plot(gg_dan)"},{"path":"https://michaelhallquist.github.io/ggbrain/articles/ggbrain_aesthetics.html","id":"combining-fills-with-outlines","dir":"Articles","previous_headings":"Working with categorical images and labels","what":"Combining fills with outlines","title":"Aesthetic refinements of ggbrain plots","text":"powerful technique combine filled regions outlines highlight different groupings. example, might fill regions network outline individual parcels:","code":"gg_outlined <- ggbrain(bg_color = \"gray90\", text_color = \"black\") +   images(c(underlay = underlay_2mm)) +   images(c(dan_atlas = schaefer200_atlas_2mm), labels = dan_labels) +   slices(c(\"x = -30\", \"z = 50\")) +   geom_brain(     definition = \"underlay\",      fill_scale = scale_fill_gradient(low = \"grey30\", high = \"grey80\"),      show_legend = FALSE   ) +   geom_brain(     definition = \"dan_atlas\",      mapping = aes(fill = dan_group),     fill_scale = scale_fill_manual(\"DAN Region\", values = dan_colors),     show_legend = TRUE,     remove_specks = 10,     fill_holes = 20,     unify_scales = TRUE   ) +   # Add outlines for individual Schaefer regions   geom_outline(     definition = \"dan_atlas\",      size = 1,      mapping = aes(group = MNI_Glasser_HCP_v1.0),     outline = \"cyan\",     remove_specks = 10   )  plot(gg_outlined)"},{"path":[]},{"path":"https://michaelhallquist.github.io/ggbrain/articles/ggbrain_aesthetics.html","id":"using-geom_region_label_repel","dir":"Articles","previous_headings":"Adding region labels","what":"Using geom_region_label_repel","title":"Aesthetic refinements of ggbrain plots","text":"geom_region_label_repel() function adds text labels regions, using ggrepel prevent overlapping. extremely useful labeling multiple regions:","code":"# Add custom short labels for display dan_labels_short <- dan_labels %>%   mutate(     short_label = sub(\"Anterior\", \"Ant.\", MNI_Glasser_HCP_v1.0),     short_label = sub(\"Posterior\", \"Post.\", short_label),     short_label = sub(\"Superior\", \"Sup.\", short_label),     short_label = sub(\"Inferior\", \"Inf.\", short_label)   )  gg_labeled <- ggbrain(bg_color = \"gray90\", text_color = \"black\") +   images(c(underlay = underlay_2mm)) +   images(c(dan_atlas = schaefer200_atlas_2mm), labels = dan_labels_short) +   slices(c(\"x = -30\", \"z = 50\")) +   geom_brain(     definition = \"underlay\",      fill_scale = scale_fill_gradient(low = \"grey30\", high = \"grey80\"),      show_legend = FALSE   ) +   geom_brain(     definition = \"dan_atlas\",      mapping = aes(fill = dan_group),     fill_scale = scale_fill_manual(\"DAN Region\", values = dan_colors),     show_legend = TRUE,     remove_specks = 10,     fill_holes = 20   ) +   geom_region_label_repel(     image = \"dan_atlas\",      label_column = \"value\",     min.segment.length = 0,     size = 3,     color = \"black\",     force_pull = 0,     force = 1.5,     max.overlaps = Inf,     box.padding = 0.5,     label.padding = 0.15,     min_px = 10  # Only label regions with at least 10 pixels on the slice   )  plot(gg_labeled)"},{"path":[]},{"path":"https://michaelhallquist.github.io/ggbrain/articles/ggbrain_aesthetics.html","id":"coordinate-annotations","dir":"Articles","previous_headings":"Adding annotations","what":"Coordinate annotations","title":"Aesthetic refinements of ggbrain plots","text":"Use annotate_coordinates() add slice coordinate labels panel:","code":"gg_coords <- ggbrain(bg_color = \"gray90\", text_color = \"black\") +   images(c(underlay = underlay_2mm, overlay = pe_overlay_2mm)) +   slices(c(\"x = 0\", \"y = 0\", \"z = 30\")) +   geom_brain(definition = \"underlay\") +   geom_brain(     definition = \"overlay\",     fill_scale = scale_fill_bisided(),     remove_specks = 15   ) +   annotate_coordinates(hjust = 1, color = \"black\", x = \"right\", y = \"bottom\", size = 3)  plot(gg_coords)"},{"path":"https://michaelhallquist.github.io/ggbrain/articles/ggbrain_aesthetics.html","id":"orientation-annotations","dir":"Articles","previous_headings":"Adding annotations","what":"Orientation annotations","title":"Aesthetic refinements of ggbrain plots","text":"Use annotate_orientation() add neurological orientation labels (L/R, /P, S/):","code":"gg_orient <- ggbrain(bg_color = \"gray90\", text_color = \"black\") +   images(c(underlay = underlay_2mm, overlay = pe_overlay_2mm)) +   slices(c(\"x = 0\", \"y = 0\", \"z = 30\")) +   geom_brain(definition = \"underlay\") +   geom_brain(     definition = \"overlay\",     fill_scale = scale_fill_bisided(),     remove_specks = 15   ) +   annotate_orientation(size = 4, color = \"gray20\")  plot(gg_orient)"},{"path":"https://michaelhallquist.github.io/ggbrain/articles/ggbrain_aesthetics.html","id":"creating-reusable-plot-components","dir":"Articles","previous_headings":"","what":"Creating reusable plot components","title":"Aesthetic refinements of ggbrain plots","text":"creating multiple related plots, ’s efficient define common components can reused. similar creating ‘theme’ brain plots: Now can use common_parts across multiple plots different overlays slice selections.","code":"# Define common plot elements common_parts <-    images(c(underlay = underlay_2mm)) +   geom_brain(     definition = \"underlay\",      fill_scale = scale_fill_gradient(low = \"grey30\", high = \"grey80\"),      show_legend = FALSE   ) +   annotate_coordinates(hjust = 1, color = \"black\", x = \"right\", y = \"bottom\", size = 3)"},{"path":"https://michaelhallquist.github.io/ggbrain/articles/ggbrain_aesthetics.html","id":"combining-ggbrain-plots-with-patchwork","dir":"Articles","previous_headings":"","what":"Combining ggbrain plots with patchwork","title":"Aesthetic refinements of ggbrain plots","text":"patchwork package provides powerful tools combining multiple plots. rendering ggbrain plots, can use patchwork operators arrange .","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/articles/ggbrain_aesthetics.html","id":"basic-patchwork-combinations","dir":"Articles","previous_headings":"Combining ggbrain plots with patchwork","what":"Basic patchwork combinations","title":"Aesthetic refinements of ggbrain plots","text":"","code":"# Create two different brain plots gg_axial <- ggbrain(bg_color = \"gray90\", text_color = \"black\", title = \"Axial View\") +   images(c(underlay = underlay_2mm, overlay = pe_overlay_2mm)) +   slices(c(\"z = 20\", \"z = 40\")) +   geom_brain(definition = \"underlay\") +   geom_brain(definition = \"overlay\", fill_scale = scale_fill_bisided(), remove_specks = 20) +   render()  gg_sagittal <- ggbrain(bg_color = \"gray90\", text_color = \"black\", title = \"Sagittal View\") +   images(c(underlay = underlay_2mm, overlay = pe_overlay_2mm)) +   slices(c(\"x = -40\", \"x = 40\")) +   geom_brain(definition = \"underlay\") +   geom_brain(definition = \"overlay\", fill_scale = scale_fill_bisided(), remove_specks = 20) +   render()  # Combine using patchwork combined <- gg_axial / gg_sagittal +   plot_annotation(     title = \"Reward Prediction Error Activation\",     tag_levels = \"A\",     tag_suffix = \")\",     theme = theme(plot.title = element_text(size = 16, face = \"bold\"))   ) &   theme(plot.tag = element_text(face = \"bold\", size = 14))  combined"},{"path":"https://michaelhallquist.github.io/ggbrain/articles/ggbrain_aesthetics.html","id":"advanced-layout-with-shared-legend","dir":"Articles","previous_headings":"Combining ggbrain plots with patchwork","what":"Advanced layout with shared legend","title":"Aesthetic refinements of ggbrain plots","text":"combining multiple plots similar color scales, can extract share common legend:","code":"# Create plots without legends p1 <- ggbrain(bg_color = \"gray90\", text_color = \"black\", title = \"Entropy Change\") +   images(c(underlay = underlay_2mm, overlay = echange_overlay_2mm)) +   slices(c(\"x = 0\", \"z = 20\")) +   geom_brain(definition = \"underlay\") +   geom_brain(definition = \"overlay\",               fill_scale = scale_fill_viridis_c(\"z-stat\"),               remove_specks = 15) +   render()  p2 <- ggbrain(bg_color = \"gray90\", text_color = \"black\", title = \"Prediction Error\") +   images(c(underlay = underlay_2mm, overlay = abspe_overlay_2mm)) +   slices(c(\"x = 0\", \"z = 20\")) +   geom_brain(definition = \"underlay\") +   geom_brain(definition = \"overlay\",               fill_scale = scale_fill_viridis_c(\"z-stat\"),               remove_specks = 15) +   render()  # Combine with collected legends and tags final_plot <- (p1 | p2) +   plot_layout(guides = \"collect\") +   plot_annotation(     title = \"Learning-Related Brain Activation\",     tag_levels = \"A\",     theme = theme(plot.title = element_text(hjust = 0.5, size = 18, face = \"bold\"))   )  final_plot"},{"path":"https://michaelhallquist.github.io/ggbrain/articles/ggbrain_aesthetics.html","id":"saving-ggbrain-plots-to-file","dir":"Articles","previous_headings":"","what":"Saving ggbrain plots to file","title":"Aesthetic refinements of ggbrain plots","text":"save plots consistent styling, use ggsave() base R graphics devices. bg argument ensures background color extends full output device:","code":"# Using ggsave (recommended) ggsave(\"my_brain_plot.png\", render(gg_labeled), width = 10, height = 6, dpi = 300, bg = \"gray90\") ggsave(\"my_brain_plot.pdf\", render(gg_labeled), width = 10, height = 6)  # Using base R devices pdf(\"my_brain_plot.pdf\", width = 10, height = 6, bg = \"gray90\") plot(gg_labeled) dev.off()  png(\"my_brain_plot.png\", width = 10, height = 6, units = \"in\", res = 300, bg = \"gray90\") plot(gg_labeled) dev.off()"},{"path":"https://michaelhallquist.github.io/ggbrain/articles/ggbrain_aesthetics.html","id":"filtering-images-for-focused-displays","dir":"Articles","previous_headings":"","what":"Filtering images for focused displays","title":"Aesthetic refinements of ggbrain plots","text":"can filter image display certain regions using filter argument images(). useful want focus specific ROIs networks:","code":"# Get specific parcel values for Premotor regions premotor_parcels <- dan_labels %>%   filter(dan_group == \"Premotor\") %>%   pull(value)  # Create focused display of just Premotor regions gg_premotor <- ggbrain(bg_color = \"gray90\", text_color = \"black\", title = \"Premotor Regions\") +   images(c(underlay = underlay_2mm)) +   images(     c(premotor_atlas = schaefer200_atlas_2mm),      labels = dan_labels,      filter = premotor_parcels  # Only include Premotor parcels   ) +   slices(c(\"x = -45\", \"z = 50\", \"x = 50\")) +   geom_brain(     definition = \"underlay\",      fill_scale = scale_fill_gradient(low = \"grey30\", high = \"grey80\"),      show_legend = FALSE   ) +   geom_brain(     definition = \"premotor_atlas\",      mapping = aes(fill = dan_group),     fill_scale = scale_fill_manual(\"Region\", values = c(\"Premotor\" = \"#4DAF4A\")),     show_legend = TRUE,     remove_specks = 10   ) +   annotate_coordinates(hjust = 1, color = \"black\", x = \"right\", y = \"bottom\", size = 3)  plot(gg_premotor)"},{"path":"https://michaelhallquist.github.io/ggbrain/articles/ggbrain_aesthetics.html","id":"target-resolution-for-higher-quality-displays","dir":"Articles","previous_headings":"","what":"Target resolution for higher quality displays","title":"Aesthetic refinements of ggbrain plots","text":"Use target_resolution() upsample display smoother, higher-resolution figures:","code":"# Without upsampling (native 2mm resolution) p1 <- ggbrain(bg_color = \"gray90\", text_color = \"black\") +   images(c(underlay = underlay_2mm, overlay = pe_overlay_2mm)) +   slices(c(\"z = 30\")) +   geom_brain(definition = \"underlay\") +   geom_brain(definition = \"overlay\", fill_scale = scale_fill_bisided(), remove_specks = 15) +   render() + plot_annotation(title = \"Native 2mm resolution\")  # With upsampling to 1mm p2 <- ggbrain(bg_color = \"gray90\", text_color = \"black\") +   images(c(underlay = underlay_2mm, overlay = pe_overlay_2mm)) +   slices(c(\"z = 30\")) +   target_resolution(1.0, interpolation = \"cubic\") +   geom_brain(definition = \"underlay\") +   geom_brain(definition = \"overlay\", fill_scale = scale_fill_bisided(), remove_specks = 15) +   render() + plot_annotation(title = \"Upsampled to 1mm with cubic interpolation\")  p1 | p2"},{"path":[]},{"path":"https://michaelhallquist.github.io/ggbrain/articles/ggbrain_aesthetics.html","id":"resampling-images-externally","dir":"Articles","previous_headings":"Other considerations","what":"Resampling images externally","title":"Aesthetic refinements of ggbrain plots","text":"Users also consider resampling images externally using tools like AFNI’s 3dresample loading ggbrain. yield similar results te","code":"3dresample -input functional_overlay_3mm.nii.gz \\   -prefix functional_overlay_1mm.nii.gz \\   -master anatomical_template_1mm.nii.gz \\   -rmode NN"},{"path":"https://michaelhallquist.github.io/ggbrain/articles/ggbrain_aesthetics.html","id":"the-hierarchy-of-a-ggbrain-plot","dir":"Articles","previous_headings":"Other considerations","what":"The hierarchy of a ggbrain plot","title":"Aesthetic refinements of ggbrain plots","text":"Every ggbrain plot composed : Layers: Raster data mapped fill colors (underlays, overlays, atlas regions) Outlines: Boundaries clusters regions Annotations: Text geometric marks (coordinates, orientation labels) Region Labels: Text labels positioned region centroids Understanding hierarchy helps building complex, multi-layered visualizations.","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/articles/ggbrain_aesthetics.html","id":"tips-for-publication-quality-figures","dir":"Articles","previous_headings":"Other considerations","what":"Tips for publication-quality figures","title":"Aesthetic refinements of ggbrain plots","text":"Use consistent background colors across panels output device Clean specks fill holes improve visual appearance Choose appropriate color scales - consider colorblind-friendly palettes Add orientation coordinate labels interpretability Use patchwork tags (, B, C…) multi-panel figures Save vector formats (PDF, SVG) maximum quality editability Consider upsampling smoother appearance final figures","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/articles/ggbrain_introduction.html","id":"images-that-will-be-used-in-the-demo","dir":"Articles","previous_headings":"","what":"Images that will be used in the demo","title":"Introduction to ggbrain","text":"package includes images can used demonstrating capabilities. locations images machine listed .","code":"print(c(underlay_2mm, feedback_onset_2mm, echange_overlay_2mm, pe_overlay_2mm, abspe_overlay_2mm)) ## [1] \"/home/runner/work/_temp/Library/ggbrain/extdata/mni_template_2009c_2mm.nii.gz\"      ## [2] \"/home/runner/work/_temp/Library/ggbrain/extdata/feedback_onset_2mm.nii.gz\"          ## [3] \"/home/runner/work/_temp/Library/ggbrain/extdata/echange_ptfce_fwep_0.05_2mm.nii.gz\" ## [4] \"/home/runner/work/_temp/Library/ggbrain/extdata/pe_ptfce_fwep_0.05_2mm.nii.gz\"      ## [5] \"/home/runner/work/_temp/Library/ggbrain/extdata/abspe_ptfce_fwep_0.05_2mm.nii.gz\""},{"path":"https://michaelhallquist.github.io/ggbrain/articles/ggbrain_introduction.html","id":"installing-the-package","dir":"Articles","previous_headings":"","what":"Installing the package","title":"Introduction to ggbrain","text":"can install latest public version ggbrain package using install.packages(): can also install development version. may may new features bugfixes, though may also new bugs include works progress.","code":"install.packages(\"ggbrain\") devtools::install_github(\"michaelhallquist/ggbrain\")"},{"path":"https://michaelhallquist.github.io/ggbrain/articles/ggbrain_introduction.html","id":"building-a-ggbrain-plot-layer-by-layer","dir":"Articles","previous_headings":"","what":"Building a ggbrain plot layer by layer","title":"Introduction to ggbrain","text":"One can create empty ggbrain object using ggbrain function. akin creating empty ggplot object using ggplot(). point, trying plot ggbrain yields warning given data geometric layers added. Consistent ggplot2 approach, additional elements can added using + operator, elaborate . main thing know point need add ggbrain-specific elements adding typical ggplot components theme(). Also note order addition operations images slices (images slices, respectively) important. example order – adding images, slices, layers, labels – conceptually intuitive, reordered without altering plut. ggplot2, order geom_* layers matter, geom_* layers added later rendered top layers added earlier. example, geom_brain() layer underlay image added overlay.","code":"gg_obj <- ggbrain() plot(gg_obj) ## Warning in self$render(guides): No brain layers added to this object yet. Use + ## geom_brain() or + geom_outline() to add."},{"path":"https://michaelhallquist.github.io/ggbrain/articles/ggbrain_introduction.html","id":"add-images","dir":"Articles","previous_headings":"Building a ggbrain plot layer by layer","what":"Add images","title":"Introduction to ggbrain","text":"ggbrain plot must least one 3D image stored NIfTI format. images read ggbrain using RNifti package. images given plot must image dimensions (otherwise, error occur). present, ggbrain provides internal support interpolation combine images different resolutions. encourage use 3dresample AFNI purpose (see details ‘considerations’ section ). file names containing relevant images can passed arguments ggbrain can appended using images() either, important provide name image used internally refer image contrasts, labels, operations. provide name, see warning: Note image name ‘underlay’ special meaning package. Specifically, using name set default color scale grayscale show legend scale plot. don’t use ‘underlay’ can make things bit simpler conventional plot shows anatomical scan underneath functional activations. can add many images providing named vector: can add many images independent images steps. Note order addition important.","code":"Warning message: In private$set_images(images, fill_holes, clean_specks) :   The images vector does not contain any names. This may lead to weird behaviors downstream   if 'underlay' and 'overlay' are requested. gg_obj <- gg_obj + images(c(underlay = underlay_2mm)) gg_obj <- ggbrain() +    images(c(underlay = underlay_2mm, echange = echange_overlay_2mm)) gg_obj <- ggbrain() +   images(c(underlay = underlay_2mm)) +   images(c(echange = echange_overlay_2mm))"},{"path":"https://michaelhallquist.github.io/ggbrain/articles/ggbrain_introduction.html","id":"add-slices","dir":"Articles","previous_headings":"Building a ggbrain plot layer by layer","what":"Add slices","title":"Introduction to ggbrain","text":"adding images ggbrain object, next step specify slices displayed plot. achieved using slices() function. Following standard neuroimaging terminology, can add axial, sagittal, coronal slices. order addition operations, whether within single slices() call sequence calls like slices(\"x=12\") + slices(c(\"y=15\", \"z=10\")), determines order panels rendered plot upper left lower right (following standard facet_wrap() conventions ggplot2). Thus, consider order wish panels appear slice additions follow order.","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/articles/ggbrain_introduction.html","id":"adding-slices-by-spatial-position","dir":"Articles","previous_headings":"Building a ggbrain plot layer by layer > Add slices","what":"Adding slices by spatial position","title":"Introduction to ggbrain","text":"conventional approach add slices based spatial position along one three cardinal axes, x/sagittal, y/coronal, z/axial. can determine locations interest using interactive image viewer afni fsleyes. , described , add montage images, add coordinate labels panels, choose coordinates slices relevant. can add one slices using slices() passing character vector positions. add one sagittal slice (x=10), one coronal (y=50), one axis (z=15).","code":"gg_obj <- gg_obj + slices(c(\"x = 10\", \"y = 50\", \"z = 15\"))"},{"path":"https://michaelhallquist.github.io/ggbrain/articles/ggbrain_introduction.html","id":"adding-slices-by-quantile","dir":"Articles","previous_headings":"Building a ggbrain plot layer by layer > Add slices","what":"Adding slices by quantile","title":"Introduction to ggbrain","text":"want use standardized coordinates terms percentiles, rather spatial coordinates, can append % end slices() specification. find position corresponding slice along axis 0% 100%. percentiles computed based slices entirely empty (.e., zero).","code":"gg_obj <- gg_obj + slices(c(\"x = 25%\", \"y = 50%\", \"z = 90%\"))"},{"path":"https://michaelhallquist.github.io/ggbrain/articles/ggbrain_introduction.html","id":"adding-slices-with-additional-aesthetic-details","dir":"Articles","previous_headings":"Building a ggbrain plot layer by layer > Add slices","what":"Adding slices with additional aesthetic details","title":"Introduction to ggbrain","text":"like alter specific aesthetic elements slices panel title, border, axis labels, can added arguments slices(). Aesthetic arguments alter appearance relevant slices include: title: panel title bg_color: background color panel text_color: color text panel border_color: color border around panel border_size: size (thickness) border around panel. Default NULL (none). xlab: x axis label panel ylab: y axis label panel theme_custom: ggplot2 theme() (list theme calls) added panel customizes appearance.","code":"gg_obj <- gg_obj +   slices(     c(\"x = 25%\", \"x = 50%\"),     bg_color = \"gray25\", xlab = \"x axis\", theme_custom = theme(axis.text.x = element_text(size = 24))   )"},{"path":"https://michaelhallquist.github.io/ggbrain/articles/ggbrain_introduction.html","id":"adding-montages","dir":"Articles","previous_headings":"Building a ggbrain plot layer by layer > Add slices","what":"Adding montages","title":"Introduction to ggbrain","text":"like set slices along one image planes form montage, can use montage() convenience function specify inputs slices(). arguments plane: “sagittal”, “coronal”, “axial” (“x”, “y”, “z” also work) n: number slices render along plane min: lowest quantile included (0 1). Default: 0.1 max: highest quantile included (0 1). Default: 0.9 min_coord: lowest spatial position included. Mutually exclusive quantile approach. Default: NULL max_coord: highest spatial position included. Mutually exclusive quantile approach. Default: NULL code adds 10 axial slices 10th 90th percentiles. code adds 5 sagittal slices x = -10 x = 10 (millimeters, image coordinates).","code":"gg_obj <- gg_obj + slices(montage(\"axial\", 10, min = 0.1, max = 0.8)) gg_obj <- gg_obj + slices(montage(\"sagittal\", 5, min_coord = -10, max_coord = 10))"},{"path":"https://michaelhallquist.github.io/ggbrain/articles/ggbrain_introduction.html","id":"add-brain-overlay-layers","dir":"Articles","previous_headings":"Building a ggbrain plot layer by layer","what":"Add brain overlay layers","title":"Introduction to ggbrain","text":"Now defined images read slices render, need map numeric values slices points plot. achieved geom_brain(), essentially extension geom_raster() ggplot2. numeric values slices fill squares plot, essentially forming ‘pixels’. standard ggplot2 objects, fill color pixels determined scale_fill_* scale, allowing fine control coloration. Extending geom_raster(), geom_brain() layer supports following standards: interpolate: TRUE, geom_raster smooths layer, rather rendering discrete squares. alpha: number 0 1 controlling alpha transparency layer show_legend: TRUE (default), legend mapping numeric values color scale included panel fill: color used fill non-NA pixels. ggplot2 terms, ‘setting’ color pixels, opposed ‘mapping’ color numeric value via scale. mapping: aesthetic mapping data raster layer. general, default aes(fill=value) retained parametric layers (.e., color pixels map continuous scale). detailed subsequent section, fill can mapped label columns categorical image (e.g., atlas). Relative standard ggplot2 conventions, use geom_brain() requires specify details fill color scale layer added. results fact ggbrain objects re-use ‘fill’ geometry layers overlaid. example, anatomical underlay grayscale fill statistical overlay color fill, layer needs fill scale (scale_fill_* object). achieved internally using ggnewscale package. ‘take-home message’ need specify fill scale information part geom_brain() call. key arguments: limits: two-element vector provided, sets upper lower bounds scale breaks: function draw breaks scale. default integer_breaks(), draws integer-valued breaks (usually, 5) min max scale. unify_scale: TRUE (default), color scale across panels (slices) equated. FALSE, panel apply color scale independently min max slice-dependent. fill_scale: scale_fill_* object use mapping numeric values data fill channel plot. Standard scales scale_fill_viridis_c() can used continuous layers. Note package also provides scale_fill_bisided() option , added, creates separate color scales positive negative pixels plot. conventional approach displays fMRI activation maps , example, positive modulation mapped warm colors (reds) negative modulation mapped cool colors (blues). Note scale_fill_bisided() arguments neg_scale pos_scale allow scales used negative positive values, respectively, specified directly.","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/articles/ggbrain_introduction.html","id":"defining-an-image-layer","dir":"Articles","previous_headings":"Building a ggbrain plot layer by layer > Add brain overlay layers","what":"Defining an image layer","title":"Introduction to ggbrain","text":"geom_brain() function includes argument called definition. controls numeric values selected display layer. simplest definition name image displayed. Recall use images(), provide names images. used reference ggbrain interpret layer definitions. example, want render underlay overlay layers numeric values: Now geom_* layers ggbrain object, can finally plot figure see result.","code":"# define a reusable object that has the same images and slices gg_base <- ggbrain(bg_color = \"gray80\", text_color = \"black\") +   images(c(underlay = underlay_2mm, overlay = echange_overlay_2mm)) +   slices(c(\"x = 10\", \"y = 50\", \"z = 15\")) gg_obj <- gg_base +   geom_brain(definition = \"underlay\", fill_scale = scale_fill_gradient(low = \"grey8\", high = \"grey62\"), show_legend = FALSE) +   geom_brain(definition = \"overlay\", fill_scale = scale_fill_bisided(), show_legend = TRUE) plot(gg_obj)"},{"path":"https://michaelhallquist.github.io/ggbrain/articles/ggbrain_introduction.html","id":"defining-subset-layers","dir":"Articles","previous_headings":"Building a ggbrain plot layer by layer > Add brain overlay layers","what":"Defining subset layers","title":"Introduction to ggbrain","text":"Oftentimes, wish modify display selecting subset values display. One common applications thresholding voxelwise statistics small/nonsignificant values omitted. achieve , geom_brain() supports standard subsetting syntax used R. example thresholding overlay layer absolute (z) statistic 2.5:  Note ‘overlay’ treated R object subset using square brackets. subsetting expression inside brackets uses standard R syntax can reference images currently ggbrain object. example, display overlay values underlay greater 10:  Finally, note one can combine subsetting expressions using logical operators & | , standard R syntax vector operations. example, ’s include pixels abs(overlay) > 2.5 underlay > 20:","code":"gg_obj <- gg_base +   geom_brain(definition = \"overlay[abs(overlay) > 2.5]\", fill_scale = scale_fill_bisided(), show_legend = TRUE)  plot(gg_obj) gg_obj <- gg_base +   geom_brain(definition = \"underlay\") +   geom_brain(definition = \"overlay[underlay > 10]\", fill_scale = scale_fill_bisided(), show_legend = TRUE)  plot(gg_obj) gg_obj <- gg_base +   geom_brain(definition = \"underlay\") +   geom_brain(     definition = \"overlay[abs(overlay) > 2.5 & underlay > 20]\",     fill_scale = scale_fill_bisided(\"z\"), show_legend = TRUE   )  plot(gg_obj)"},{"path":"https://michaelhallquist.github.io/ggbrain/articles/ggbrain_introduction.html","id":"defining-a-contrast-layer","dir":"Articles","previous_headings":"Building a ggbrain plot layer by layer > Add brain overlay layers","what":"Defining a contrast layer","title":"Introduction to ggbrain","text":"ggbrain package also supports full contrasts images can added, subtracted, multiplied, divided. example, one might wish see difference one activation map another. course, many contrasts can computed GLM estimation, often useful compute certain contrasts fact. example, signed absolute reward prediction error maps simple reinforcement learning paradigm? might interested look areas strongly modulated signed absolute PEs. contrasts can either defined inline within definition field geom_brain geom_outline. , can added ggbrain object advance using define() function.  equivalent plot achieved including definition inline: advantage define() can re-use modify contrasts multiple layers. , subset difference voxels PE - abs(PE) contrast strongly favor signed PEs (.e., positive difference z-statistic > 3).","code":"gg_obj <- ggbrain(bg_color = \"gray80\", text_color = \"black\") +   images(c(underlay = underlay_2mm, pe = pe_overlay_2mm, abspe = abspe_overlay_2mm)) +   slices(c(\"x = 10\", \"y = 50\", \"z = 15\")) +   define(\"diff := pe - abspe\") +   geom_brain(definition = \"underlay\") +   geom_brain(definition = \"diff\", fill_scale = scale_fill_bisided(symmetric = FALSE), show_legend = TRUE)  plot(gg_obj) gg_obj <- ggbrain(bg_color = \"gray80\", text_color = \"black\") +   images(c(underlay = underlay_2mm, pe = pe_overlay_2mm, abspe = abspe_overlay_2mm)) +   slices(c(\"x = 10\", \"y = 50\", \"z = 15\")) +   geom_brain(definition = \"diff := pe - abspe\", fill_scale = scale_fill_bisided(symmetric = FALSE), show_legend = TRUE) gg_obj <- ggbrain(bg_color = \"gray80\", text_color = \"black\") +   images(c(underlay = underlay_2mm, pe = pe_overlay_2mm, abspe = abspe_overlay_2mm)) +   slices(c(\"x = 10\", \"y = 50\", \"z = 15\")) +   define(\"diff := pe - abspe\") +   geom_brain(definition = \"underlay\") +   geom_brain(definition = \"diff[diff > 3]\", fill_scale = scale_fill_distiller(\"PE > absPE\", palette=\"Reds\"), show_legend = TRUE)  plot(gg_obj)"},{"path":"https://michaelhallquist.github.io/ggbrain/articles/ggbrain_introduction.html","id":"add-outlines","dir":"Articles","previous_headings":"Building a ggbrain plot layer by layer","what":"Add outlines","title":"Introduction to ggbrain","text":"addition filling regions colors, brain plots often benefit able outline, rather fill, regions. accomplished using geom_outline(). geometry finds boundaries distinct clusters image/contrast traces boundaries line thickness (controlled size). continuous images (e.g., z-statistics), one typically sets outline color using geom_outline(outline=\"cyan\") whatever color desired. draws outlines non-NA voxels single color. categorical images (e.g., anatomical functional atlases), may useful map color outlines categorical label network region. accomplished geom_outline(mapping=aes(outline=roi_name)) whatever column data corresponds categories one wishes draw different colors. , might wish outline voxels whose z-statistics exceed \\(|z| > 3\\) feedback onset regressor. voxels represent areas sensitive onset feedback phase reinforcement learning trial.","code":"gg_obj <- ggbrain() +   slices(c(\"x = -2\", \"x=2\", \"y = 40\", \"z = 15\")) +   images(c(underlay = underlay_2mm, onset = feedback_onset_2mm)) +   geom_brain(definition = \"underlay\") +   geom_outline(definition = \"onset[abs(onset) > 3]\", size = 1, outline = \"cyan\")  plot(gg_obj)"},{"path":"https://michaelhallquist.github.io/ggbrain/articles/ggbrain_introduction.html","id":"converting-to-a-ggplot-object-and-displaying-the-plot","dir":"Articles","previous_headings":"Building a ggbrain plot layer by layer","what":"Converting to a ggplot object and displaying the plot","title":"Introduction to ggbrain","text":"reasons somewhat boring (R handles S3 operators like +), brain-related addition steps ggbrain object must come generic ggplot2 modifications plot. ggbrain object ggplot object, must rendered using render() function. function compiles images, layers, slices requested plot returns patchwork object. patchwork package extremely useful combining ggplot objects different layouts. details can found : https://patchwork.data-imaginist.com. ggbrain, panel ggplot object panels composited using wrap_plots patchwork. key message : place ggbrain-specific additions render() ggplot-specific additions afterwards. Using general approach provided patchwork, can add annotations aesthetic modifications overall plot using plot_annotation. Likewise, can modify overall theme information using theme() function, articulated .  Note don’t necessarily need use render() . call plot() ggbrain object, render happens automatically behind scenes, ’ve seen . want modify plot using ggplot patchwork functions plot_annotation theme, need first render() plot object converted patchwork.  Another point keeping plots ggbrain objects – adding render() – can continue add brain-related calls like geom_brain() annotate_coordinates() . Thus, may wish use render(brain_plot) + [ggplot2 stuff ] approach ggbrain object remains original form can modified prior display.","code":"# without a render step gg_obj <- ggbrain() +   slices(c(\"x = -2\", \"x=2\", \"y = 40\", \"z = 15\")) +   images(c(underlay = underlay_2mm, onset = feedback_onset_2mm)) +   geom_brain(definition=\"underlay\") +   geom_outline(definition = \"onset[abs(onset) > 3]\", size=1, outline=\"cyan\")  class(gg_obj) ## [1] \"ggb\" \"R6\" # note the different class after render gg_obj <- ggbrain() +   slices(c(\"x = -2\", \"x=2\", \"y = 40\", \"z = 15\")) +   images(c(underlay = underlay_2mm, onset = feedback_onset_2mm)) +   geom_brain(definition=\"underlay\") +   geom_outline(definition = \"onset[abs(onset) > 3]\", size=1, outline=\"cyan\") +   render()  class(gg_obj) ## [1] \"ggbrain_patchwork\" \"patchwork\"         \"ggplot2::ggplot\"   ## [4] \"ggplot\"            \"ggplot2::gg\"       \"S7_object\"         ## [7] \"gg\" # add a different theme to all panels and add an overall title gg_obj + plot_annotation(title=\"Overall title\") & theme_minimal() brain_plot <- ggbrain() +   slices(c(\"x = -2\", \"x=2\", \"y = 40\", \"z = 15\")) +   images(c(underlay = underlay_2mm, onset = feedback_onset_2mm)) +   geom_brain(definition=\"underlay\") +   geom_outline(definition = \"onset[abs(onset) > 3]\", size=1, outline=\"cyan\")  # display the rendered plot with an overall title render(brain_plot) + plot_annotation(title = \"Overall\") # or you can also simply store the rendered plot into a separate object rendered_gg <- render(brain_plot) + plot_annotation(title = \"Overall\")"},{"path":"https://michaelhallquist.github.io/ggbrain/articles/ggbrain_introduction.html","id":"saving-ggbrain-plots-to-file","dir":"Articles","previous_headings":"","what":"Saving ggbrain plots to file","title":"Introduction to ggbrain","text":"see brain plot screen, may soon wish image file publications presentation. standard ggplot objects, can use ggsave() usual graphics device (e.g., pdf) dev.() approach base R. Note pass ggbrain object directly ggsave, complain plot ggplot object. can just pass rendered version like : present, overall size plot may different size graphical output device. example, specify size 9 x 6 inches, plot aspect ratio closer 1:1, ’ll lot ‘white space’ around plot. Intuitively, bg_color argument overall ggbrain call capture , boring technical reasons directly related ggbrain, simple. present, ensure entire background plot uses color ggplot object, add bg argument output device, use ggsave command (), automatically uses background color plot extend output device/file. Like standard ggplot, one beautiful aspects saving files vector formats PDF can open edit elements plot using vector editors like Adobe Illustrator Inkscape! One small note: PDF viewers automatically interpolate ‘raster’ parts PDF, leading image look blurry even though isn’t really . seen recent version Apple Preview (otherwise nice piece software). Thus, want see precisely PDFs look coming ggbrain, suggest opening Adobe Acrobat Viewer.","code":"td <- tempdir() ggsave(filename=file.path(td, \"my_brain_plot.pdf\"), render(brain_plot), width=15, height=10) pdf(file.path(td, \"my_brain_plot_2.pdf\"), width=10, height=10) plot(brain_plot) invisible(dev.off()) pdf(file.path(td, \"my_brain_plot_2.pdf\"), width=10, height=10, bg=\"gray80\") plot(gg_obj) invisible(dev.off())"},{"path":"https://michaelhallquist.github.io/ggbrain/articles/ggbrain_introduction.html","id":"next-steps","dir":"Articles","previous_headings":"","what":"Next steps","title":"Introduction to ggbrain","text":"Now understand basics ggbrain plots, encourage read ggbrain aesthetics vignette, provides detailed guidance clean appearance brain displays add complex annotations.","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/articles/ggbrain_labels.html","id":"categorical-images-in-ggbrain","dir":"Articles","previous_headings":"","what":"Categorical images in ggbrain","title":"Working with annotations and labels in ggbrain","text":"Many visualizations brain data rely continuous-valued images containing intensities statistics. example, might wish visualize z-statistics general linear model. classic “statistical parametric maps.” Yet, many images contain integers whose values represent priori regions interest clusters identified using familywise error correction methods. Brain atlases common example integer-valued images. , demonstrate visualization cortical parcellation developed Schaefer colleagues (2018). Schaefer, ., Kong, R., Gordon, E. M., Laumann, T. O., Zuo, X.-N., Holmes, . J., Eickhoff, S. B., & Yeo, B. T. T. (2018). Local-global parcellation human cerebral cortex intrinsic functional connectivity MRI. Cerebral Cortex, 28, 3095-3114. version atlas contains 200 cortical parcels (paper, show 100-1000 parcels). basic level, can visualize image way continuous images, described ggbrain introduction document.  can see, however, continuous values represent discrete parcels atlas. Thus, may wish use categorical/discrete color scale visualize things. base ggplot2, can wrap fill column factor force conversion discrete data type. Note numeric value image ggbrain object always called value. thus, geom_brain geom_outline objects, default aesthetic mapping aes(fill=value).  lot take ! ’s especially easy resolve 70+ parcels color… use use subsetting syntax layer definition reduce number parcels. example, perhaps ’re interested just first 20.  manageable, though uninspiring.","code":"schaefer_img <- readNifti(schaefer200_atlas_file) length(unique(as.vector(schaefer_img))) ## [1] 201 gg_obj <- ggbrain() +   images(c(underlay = underlay_file, atlas = schaefer200_atlas_file)) +   slices(c(\"z = 30\", \"z=40\")) +   geom_brain(definition = \"underlay\", show_legend = TRUE, name=\"Anatomical\") +   geom_brain(definition = \"atlas\", name = \"Parcel number\")  plot(gg_obj) gg_obj <- ggbrain() +   images(c(underlay = underlay_file, atlas = schaefer200_atlas_file)) +   slices(c(\"z = 30\", \"z=40\")) +   geom_brain(definition = \"underlay\") +   geom_brain(definition = \"atlas\", name = \"Parcel number\",               mapping = aes(fill = factor(value)), fill_scale = scale_fill_hue())  plot(gg_obj) gg_obj <- ggbrain() +   images(c(underlay = underlay_file, atlas = schaefer200_atlas_file)) +   slices(c(\"z = 30\", \"z=40\")) +   geom_brain(definition = \"underlay\") +   geom_brain(definition = \"atlas[atlas < 20]\", name = \"Parcel number\",               mapping = aes(fill = factor(value)), fill_scale = scale_fill_hue()) +   render()  plot(gg_obj)"},{"path":"https://michaelhallquist.github.io/ggbrain/articles/ggbrain_labels.html","id":"mapping-image-values-to-labels","dir":"Articles","previous_headings":"","what":"Mapping image values to labels","title":"Working with annotations and labels in ggbrain","text":"Categorical images typically contain one integer value voxel. values cluster number clusterization procedure (e.g., AFNI’s 3dClusterize), region interest meta-analytically derived mask (e.g., NeuroSynth), atlas value stereotaxic atlas (e.g., Schaefer atlas used ). Regardless, conceptual view integer image represents category interest. Moreover, may wish label categories descriptive labels, simply integer value. Thus, integers image give us locations regions labeled, separate data table provides integers <-> labels mapping. labels region names, intrinsic networks, features wish highlight display. Regardless, two major ways labels can displayed ggbrain plot: mapping labels colors displayed legend adding text annotations locations regions. review two approaches turn. First, however, let’s see tell ggbrain merge labels integer-valued NIfTI image. , read CSV file containing labels regions Schaefer 200 parcellation. generated part using AFNI’s whereami command centroids region serving input. gives us automated labels may wish display plot. CSV also contains columns called network refers network mapping Yeo 2011 7-network parcellation. structure data.frame relatively flexible. primary requirement contain column called value maps numeric value corresponding NIfTI image interest. , column called roi_num maps integer values mask. , need rename value ggbrain accept lookup table labeling. Now , can add labels corresponding NIfTI image. step necessarily change plot, instead gives us access additional columns can use labeling. use labels argument images function.  Notice broken addition images object two images steps. allows unambiguous mapping labels singular NIfTI. alternative use named list sort: images(c(im1=file1, im2=file2), labels=list(im2=im2labels)). Also, plot identical earlier plot. mapped fill numeric value, another column labels file. use labels Eickhoff-Zilles macro labels N27?  Notice went four colors (one per number) previous plot three labels . happen? labels four regions unique lookup atlas. highlights useful point: can one--many mapping labels unique integer values NIfTI image. Indeed, often explicit goal. example, want see Yeo 7 networks assignments nodes two slices? (Note ’m removing filter atlas < 20 let parcels slices get play.)  provide color palette using fill_scale argument, defaults ColorBrewer’s “Set3”, scale_fill_brewer(palette = \"Set3\"). wanted use coloration original Yeo et al. 2011 paper? colors provided Yeo2011_7Networks_ColorLUT.txt file Freesurfer.","code":"schaefer200_atlas_labels <- schaefer200_atlas_labels %>%   dplyr::rename(value = roi_num) gg_base <- ggbrain() +   images(c(underlay = underlay_file)) +   images(c(atlas = schaefer200_atlas_file), labels=schaefer200_atlas_labels) +   slices(c(\"z = 30\", \"z=40\")) +   geom_brain(definition = \"underlay\")  gg_obj <- gg_base +   geom_brain(definition = \"atlas[atlas < 20]\", name = \"Parcel number\",               mapping = aes(fill = factor(value)), fill_scale = scale_fill_hue())  plot(gg_obj) ## Warning in melt.data.table(ll_df, measure.vars = label_columns, variable.name = ## \".label_col\", : 'measure.vars' [hemi, network, MNI_Glasser_HCP_v1.0, ## Brainnetome_1.0, ...] are not all of the same type. By order of hierarchy, the ## molten data value column will be of type 'character'. All measure variables not ## of type 'character' will be coerced too. Check DETAILS in ?melt.data.table for ## more on coercion. gg_obj <- gg_base +   geom_brain(definition = \"atlas[atlas < 20]\", name = \"Eickhoff-Zilles Label\",               mapping = aes(fill = CA_ML_18_MNI), fill_scale = scale_fill_hue()) +   render()  plot(gg_obj) schaefer200_atlas_labels %>% filter(value %in% c(12, 13, 14, 18)) %>% select(value, CA_ML_18_MNI) ##   value                  CA_ML_18_MNI ## 1    12                   Left Cuneus ## 2    13                   Left Cuneus ## 3    14 Left Superior Occipital Gyrus ## 4    18       Left Rolandic Operculum gg_obj <- gg_base +   geom_brain(definition = \"atlas\", name = \"Yeo 7 Assignment\",               mapping = aes(fill = network))  plot(gg_obj) yeo_colors <- read.table(system.file(\"extdata\", \"Yeo2011_7Networks_ColorLUT.txt\", package = \"ggbrain\")) %>%   setNames(c(\"index\", \"name\", \"r\", \"g\", \"b\", \"zero\")) %>% slice(-1)  # Convert RGB to hex. Also, using a named set of colors with scale_fill_manual ensures accurate value -> color mapping yeo7 <- as.character(glue::glue_data(yeo_colors, \"{sprintf('#%.2x%.2x%.2x', r, g, b)}\")) %>%   setNames(c(\"Vis\", \"SomMot\", \"DorsAttn\", \"SalVentAttn\", \"Limbic\", \"Cont\", \"Default\"))  gg_obj <- gg_base +   geom_brain(definition = \"atlas\", name = \"Yeo 7 Assignment\",               mapping = aes(fill = network), fill_scale = scale_fill_manual(values=yeo7))  plot(gg_obj)"},{"path":"https://michaelhallquist.github.io/ggbrain/articles/ggbrain_labels.html","id":"combining-filled-areas-with-outlines","dir":"Articles","previous_headings":"","what":"Combining filled areas with outlines","title":"Working with annotations and labels in ggbrain","text":"may useful map labels fill area draw outlines around areas using another label. example, regions nested within networks, might want outline networks certain color separate colors regions. can achieved adding geom_outline layer networks alongside geom_brain layer regions.  admittedly busy figure! get idea combine outlines fills categorical images.","code":"gg_obj <- gg_base +   geom_brain(definition = \"DAN Region := atlas[atlas.network == 'DorsAttn']\",               mapping=aes(fill=CA_ML_18_MNI), show_legend = TRUE) +    geom_outline(definition = \"atlas\", name = \"Yeo 7 Assignment\",                mapping = aes(outline = network),                 outline_scale = scale_fill_manual(values=yeo7), show_legend = TRUE)    plot(gg_obj)"},{"path":"https://michaelhallquist.github.io/ggbrain/articles/ggbrain_labels.html","id":"combining-quantitative-layers-with-labels","dir":"Articles","previous_headings":"","what":"Combining quantitative layers with labels","title":"Working with annotations and labels in ggbrain","text":"Another common use atlases (categorical images) contextualize pattern activity voxelwise analysis terms overlap atlas parcels/regions. can achieved combining quantitative layer ggbrain categorical one. , plot pattern activity associated absolute prediction errors study reinforcement learning overlay major regions Dorsal Attention Network, namely posterior parietal cortex (PPC), premotor (including frontal eye fields), middle temporal visual area (MT+).","code":"# first, divide relevant DAN parcels into groups dan_labels <- schaefer200_atlas_labels %>%   filter(network==\"DorsAttn\") %>%   mutate(     dan_group=case_when(       value %in% c(31, 32, 135, 136) ~ \"MT+\",       value %in% c(33:40, 137:144) ~ \"PPC\",       value %in% c(41:43, 145:147) ~ \"Premotor\"     )   )  abspe_gg <- ggbrain(bg_color = \"gray90\", text_color = \"black\",                      base_size = 16, title = \"Absolute reward prediction error\\n(feedback phase)\") +   images(c(underlay = underlay_file, overlay=abspe_overlay_3mm)) +   images(c(atlas = schaefer200_atlas_file), labels=dan_labels) +   slices(c(\"x = -42\", \"z = 49\")) +   geom_brain(definition = \"underlay\") +   geom_brain(definition = \"overlay\", fill_scale = scale_fill_gradient(\"z\", low=\"#006837\", high=\"#d9f0a3\"),               breaks = range_breaks()) +   geom_outline(definition = \"atlas\", mapping = aes(outline = dan_group),                 outline_scale = scale_fill_brewer(\"DAN\", palette = \"Dark2\"), show_legend = TRUE, size=2) +   annotate_coordinates(hjust = 1, color = \"black\", x = \"right\", y = \"bottom\")    render(abspe_gg) + plot_layout(nrow = 1, ncol = 2)"},{"path":"https://michaelhallquist.github.io/ggbrain/articles/ggbrain_labels.html","id":"adding-annotations","dir":"Articles","previous_headings":"","what":"Adding annotations","title":"Working with annotations and labels in ggbrain","text":"addition plotting categorical images, often wish annotate plots custom text margin labels overlaid certain areas. ggbrain provides annotate_slice function, allows add custom annotation one panel. function attaches ggplot2::annotate settings apply annotate_slice well. Relative typical annotations ggplot2, ggbrain, must also provide x y positions panel, well slice annotation added.  numbers provided x y positions, specify annotation placed coordinates pixel/voxel matrix. may especially intuitive since often don’t think things matrix (aka “ijk” space) NIfTI. , NIfTIs dimensions: 97, 115, 97. Alternatively, can use shorthand “left” “right” x coordinates “top” “bottom” y coordinates. shorthand “middle” also works x y.  Finally, can use quantiles/percentiles along axis position things relative space.  annotate ggplot2, annotate_slice function can also used add geometric shapes rectangles points. example, highlight occipital region .","code":"ann <- abspe_gg +   annotate_slice(x=20, y=20, slice_index=1, geom=\"text\", label=\"slice1\", color=\"gray40\", size=11, hjust=0) +   annotate_slice(x=20, y=40, slice_index=2, geom=\"text\", label=\"slice2\", color=\"gray40\", size=11, hjust=0)  plot(ann) ann <- abspe_gg +   annotate_slice(x=\"left\", y=\"top\", slice_index=1, geom=\"text\", label=\"slice1\", color=\"gray40\", size=11, hjust=0, vjust=1) +   annotate_slice(x=\"right\", y=\"bottom\", slice_index=2, geom=\"text\", label=\"slice2\", color=\"gray40\", size=11, hjust=1, vjust=0)  plot(ann) ann <- abspe_gg +   annotate_slice(x=\"q30\", y=\"q60\", slice_index=1, geom=\"text\", label=\"slice1\", color=\"gray40\", size=11, hjust=0, vjust=1) +   annotate_slice(x=\"q35\", y=\"q70\", slice_index=2, geom=\"text\", label=\"slice2\", color=\"gray40\", size=11, hjust=0.5, vjust=0)  plot(ann) ann <- abspe_gg +   annotate_slice(xmin=\"q0\", xmax=\"q38\", ymin=\"q25\", ymax=\"q59\", slice_index=1, geom=\"rect\",                   color=\"blue\", fill=\"transparent\", linewidth=1.5) plot(ann)"},{"path":"https://michaelhallquist.github.io/ggbrain/articles/ggbrain_labels.html","id":"adding-labels-systematically","dir":"Articles","previous_headings":"","what":"Adding labels systematically","title":"Working with annotations and labels in ggbrain","text":"Finally, may wish label points systematically based labeling data.frame, akin geom_text can used label many points. example, may want add region labels several regions plot. , ggbrain provides geom_region_text, geom_region_text_repel, geom_region_label, geom_region_label_repel. text versus label distinction matches ggplot2, “label” annotations rectangle behind “text” annotations . repel versions functions rely ggrepel, useful package pushing labels away specified coordinates avoid overplotting labels covering relevant data points. Extending plot , perhaps might like label Schaefer parcellation regions comprising three DAN areas MT+, PPC, Premotor. labels already exist schaefer200_atlas_labels data.frame. Let’s use MNI_Glasser_HCP_v1.0 labels.  ’s clearly busy! region labels pretty long. might instead use automated labels alongside domain knowledge create custom labels potentially accurate also easier read. , ’ve labeled regions DAN looking relevant literature comparing anatomical labels. Although labels imperfect, useful visualization long labels.","code":"ann <- abspe_gg +   geom_region_label(image=\"atlas\", label_column=\"MNI_Glasser_HCP_v1.0\", size=3, color=\"black\") #  #   geom_region_label_repel(image = \"dan_clust\", label_column = \"value\", min.segment.length = 0, size=3, #                           color=\"black\", force_pull=0, force=1.5, max.overlaps=Inf, box.padding = 0.5, label.padding=0.15, min_px = 20) +  plot(ann) ## [1] \"|MNI_Glasser_HCP_v1.0                 |custom_label |\" ## [2] \"|:------------------------------------|:------------|\" ## [3] \"|L_Area_PH                            |MT/MST       |\" ## [4] \"|L_Medial_Superior_Temporal_Area      |TPJ          |\" ## [5] \"|L_Area_V3A                           |iLIP         |\" ## [6] \"|L_Frontal_Eye_Fields                 |lFEF         |\" ann <- abspe_gg +   geom_region_label(image=\"atlas\", label_column=\"custom_label\", size=3, color=\"black\") #  #   geom_region_label_repel(image = \"dan_clust\", label_column = \"value\", min.segment.length = 0, size=3, #                           color=\"black\", force_pull=0, force=1.5, max.overlaps=Inf, box.padding = 0.5, label.padding=0.15, min_px = 20) +  plot(ann)"},{"path":"https://michaelhallquist.github.io/ggbrain/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Michael Hallquist. Author, maintainer.","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Hallquist M (2025). ggbrain: Create Images Volumetric Brain Data NIfTI Format Using 'ggplot2' Syntax. R package version 0.9.2, https://michaelhallquist.github.io/ggbrain/.","code":"@Manual{,   title = {ggbrain: Create Images of Volumetric Brain Data in NIfTI Format Using 'ggplot2' Syntax},   author = {Michael Hallquist},   year = {2025},   note = {R package version 0.9.2},   url = {https://michaelhallquist.github.io/ggbrain/}, }"},{"path":"https://michaelhallquist.github.io/ggbrain/index.html","id":"ggbrain","dir":"","previous_headings":"","what":"Create Images of Volumetric Brain Data in NIfTI Format Using ggplot2 Syntax","title":"Create Images of Volumetric Brain Data in NIfTI Format Using ggplot2 Syntax","text":"R package creating plots brains using ggplot.","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/annotate_coordinates.html","id":null,"dir":"Reference","previous_headings":"","what":"Adds the coordinate labels to each panel based on the location of the slice along the slicing axis (e.g., z = 15) — annotate_coordinates","title":"Adds the coordinate labels to each panel based on the location of the slice along the slicing axis (e.g., z = 15) — annotate_coordinates","text":"Adds coordinate labels panel based location slice along slicing axis (e.g., z = 15)","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/annotate_coordinates.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Adds the coordinate labels to each panel based on the location of the slice along the slicing axis (e.g., z = 15) — annotate_coordinates","text":"","code":"annotate_coordinates(x = \"right\", y = \"bottom\", ...)"},{"path":"https://michaelhallquist.github.io/ggbrain/reference/annotate_coordinates.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Adds the coordinate labels to each panel based on the location of the slice along the slicing axis (e.g., z = 15) — annotate_coordinates","text":"x x position coordinate label. numeric, assumed pixel position along x axis (e.g., 26). addition, convenience values \"left\", \"right\", \"q[1-100]\" can used look left-, right-, quantile-based positions along x axis. y y position coordinate label. numeric, assumed pixel position along y axis (e.g., 26). addition, convenience values 'top', \"bottom\", \"q[1-100]\" can used look top-, bottom-, quantile-based positions along y axis. ... arguments ggplot2::annotate, passed panel","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/annotate_coordinates.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Adds the coordinate labels to each panel based on the location of the slice along the slicing axis (e.g., z = 15) — annotate_coordinates","text":"ggb object action 'add_annotations', used ggbrain addition chain","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/annotate_orientation.html","id":null,"dir":"Reference","previous_headings":"","what":"Annotate orientation labels (L/R/A/P/S/I) on each panel using NIfTI header info — annotate_orientation","title":"Annotate orientation labels (L/R/A/P/S/I) on each panel using NIfTI header info — annotate_orientation","text":"Annotate orientation labels (L/R//P/S/) panel using NIfTI header info","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/annotate_orientation.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Annotate orientation labels (L/R/A/P/S/I) on each panel using NIfTI header info — annotate_orientation","text":"","code":"annotate_orientation(size = 3, color = \"white\", offset = 0, ...)"},{"path":"https://michaelhallquist.github.io/ggbrain/reference/annotate_orientation.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Annotate orientation labels (L/R/A/P/S/I) on each panel using NIfTI header info — annotate_orientation","text":"size Text size passed ggplot2::annotate color Text color passed ggplot2::annotate offset Offset (data units) nudge labels away image edge. Can scalar length 4 (left, right, bottom, top) ... Additional arguments passed ggplot2::annotate (e.g., fontface)","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/annotate_orientation.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Annotate orientation labels (L/R/A/P/S/I) on each panel using NIfTI header info — annotate_orientation","text":"ggb object action \"add_annotations\"","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/annotate_orientation.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Annotate orientation labels (L/R/A/P/S/I) on each panel using NIfTI header info — annotate_orientation","text":"Uses RNifti::orientation first image ggbrain object (cached slices object) infer axis labels places along edges panel. orientation determined, annotations added.","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/annotate_slice.html","id":null,"dir":"Reference","previous_headings":"","what":"Adds custom annotations to a single panel on the ggbrain plot — annotate_slice","title":"Adds custom annotations to a single panel on the ggbrain plot — annotate_slice","text":"Adds custom annotations single panel ggbrain plot","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/annotate_slice.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Adds custom annotations to a single panel on the ggbrain plot — annotate_slice","text":"","code":"annotate_slice(slice_index = NULL, ...)"},{"path":"https://michaelhallquist.github.io/ggbrain/reference/annotate_slice.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Adds custom annotations to a single panel on the ggbrain plot — annotate_slice","text":"slice_index slice number annotation added. numbered wrapping order patchwork::wrap_plots, normally go top-left bottom-right. ... Additional parameters passed ggplot2::annotate label geom","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/annotate_slice.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Adds custom annotations to a single panel on the ggbrain plot — annotate_slice","text":"ggb object relevant annotations field action \"add_annotations\"","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/annotate_slice.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Adds custom annotations to a single panel on the ggbrain plot — annotate_slice","text":"annotation coordinates x, y, xmin, may pass number. case, value specifies pixel position along relevant axis (e.g., x=26). addition, convenience values 'left', 'right', 'middle' can used x axis, 'top', 'bottom', 'middle' y axis. Finally, 'q[1-100]' can used look quantile-based positions along relevant axis. example, x=\"q25\" position annotation 25% mark along x axis. N.B. function adds single annotation single panel!","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/center_matrix.html","id":null,"dir":"Reference","previous_headings":"","what":"helper function to center a numeric matrix within a (larger) target matrix size — center_matrix","title":"helper function to center a numeric matrix within a (larger) target matrix size — center_matrix","text":"helper function center numeric matrix within (larger) target matrix size","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/center_matrix.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"helper function to center a numeric matrix within a (larger) target matrix size — center_matrix","text":"","code":"center_matrix(output_dim, mat, default_value = NA_real_, drop_zeros = TRUE)"},{"path":"https://michaelhallquist.github.io/ggbrain/reference/center_matrix.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"helper function to center a numeric matrix within a (larger) target matrix size — center_matrix","text":"output_dim desired dimensions output matrix mat 2D numeric matrix containing values centered output matrix default_value value fill padded rows columns output matrix drop_zeros TRUE, zero-valued rows columns mat dropped data centered within output matrix. useful matrix asymmetric, still want dead-center output.","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/center_matrix.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"helper function to center a numeric matrix within a (larger) target matrix size — center_matrix","text":"expanded matrix size output_dim input matrix mat centered within .","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/contrast_parser.html","id":null,"dir":"Reference","previous_headings":"","what":"helper function to calculate contrasts of one or more images using a combination of image arithmetic and logical subsetting — contrast_parser","title":"helper function to calculate contrasts of one or more images using a combination of image arithmetic and logical subsetting — contrast_parser","text":"helper function calculate contrasts one images using combination image arithmetic logical subsetting","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/contrast_parser.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"helper function to calculate contrasts of one or more images using a combination of image arithmetic and logical subsetting — contrast_parser","text":"","code":"contrast_parser(expr, data = NULL, default_val = NA_real_)"},{"path":"https://michaelhallquist.github.io/ggbrain/reference/contrast_parser.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"helper function to calculate contrasts of one or more images using a combination of image arithmetic and logical subsetting — contrast_parser","text":"expr string expression containing image calculation performed data data.frame containing variables used expr. used perform contrast calculations default_val value returned element contrast calculation pass arithmetic, either logical subsetting exactly zero. general, leave NA_real_ unless know .","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/contrast_parser.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"helper function to calculate contrasts of one or more images using a combination of image arithmetic and logical subsetting — contrast_parser","text":"Michael Hallquist","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/count_neighbors.html","id":null,"dir":"Reference","previous_headings":"","what":"This function counts the number of neighboring/touching pixels in a 2D binary image — count_neighbors","title":"This function counts the number of neighboring/touching pixels in a 2D binary image — count_neighbors","text":"function counts number neighboring/touching pixels 2D binary image","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/count_neighbors.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"This function counts the number of neighboring/touching pixels in a 2D binary image — count_neighbors","text":"im boolean matrix representing binary image diagonal Whether count diagonal elements valid neighbors","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/count_neighbors.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"This function counts the number of neighboring/touching pixels in a 2D binary image — count_neighbors","text":"matrix size im containing number neighboring pixels","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/count_neighbors.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"This function counts the number of neighboring/touching pixels in a 2D binary image — count_neighbors","text":"internal function used geom_outline clean outlines","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/count_neighbors.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"This function counts the number of neighboring/touching pixels in a 2D binary image — count_neighbors","text":"Michael Hallquist","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/define.html","id":null,"dir":"Reference","previous_headings":"","what":"Adds contrast definitions to the ggbrain plot — define","title":"Adds contrast definitions to the ggbrain plot — define","text":"Adds contrast definitions ggbrain plot","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/define.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Adds contrast definitions to the ggbrain plot — define","text":"","code":"define(contrasts = NULL)"},{"path":"https://michaelhallquist.github.io/ggbrain/reference/define.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Adds contrast definitions to the ggbrain plot — define","text":"contrasts character vector list containing contrasts computed part ggbrain object definition.","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/define.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Adds contrast definitions to the ggbrain plot — define","text":"ggb object relevant contrasts action 'add_contrasts'","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/define.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Adds contrast definitions to the ggbrain plot — define","text":"contrasts must take form <name> := <value expression> must use named vector. Note defining contrast directly impact appearance plot unless contrast named geom_* layer. Also note contrasts can specified definition layer. Thus, define function two primary virtues. First, allows conceptual separation contrast definition versus usage inside geom_* layer, particularly useful contrast used across several layers. Second, allows downstream layers modify contrast, compute ","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/define.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Adds contrast definitions to the ggbrain plot — define","text":"","code":"# T1-weighted template   t1 <- system.file(\"extdata\", \"mni_template_2009c_2mm.nii.gz\", package = \"ggbrain\")    # signed reward prediction error map   signed_pe <- system.file(\"extdata\", \"pe_ptfce_fwep_0.05_2mm.nii.gz\", package = \"ggbrain\")    # unsigned (absolute value) prediction error map   abspe <- system.file(\"extdata\", \"abspe_ptfce_fwep_0.05_2mm.nii.gz\", package = \"ggbrain\")    # simple example of a difference contrast, separating definition from usage in geom_brain   gg_obj <- ggbrain() +     images(c(underlay = t1, signed_pe = signed_pe, abspe = abspe)) +     slices(c(\"x = 25%\", \"x = 75%\")) +     define(\"signed_gt_abs := signed_pe - abspe\") +     geom_brain(\"signed_gt_abs\")    # you can also use a named vector in define(), which is equivalent   gg_obj <- ggbrain() +     images(c(underlay = t1, signed_pe = signed_pe, abspe = abspe)) +     slices(c(\"x = 25%\", \"x = 75%\")) +     define(c(signed_gt_abs = \"signed_pe - abspe\")) +     geom_brain(\"signed_gt_abs\")    # contrast definitions can also occur inline, yielding equivalent plots   gg_obj <- ggbrain() +     images(c(underlay = t1, signed_pe = signed_pe, abspe = abspe)) +     slices(c(\"x = 25%\", \"x = 75%\")) +     geom_brain(\"signed_pe - abspe\")    # The use of contrasts() is helpful when layers modify the contrast (e.g., subsetting)   gg_obj <- ggbrain() +     images(c(underlay = t1, signed_pe = signed_pe, abspe = abspe)) +     slices(c(\"x = 25%\", \"x = 75%\")) +     define(c(signed_gt_abs = \"signed_pe - abspe\")) +     geom_brain(       \"signed_gt_abs[signed_gt_abs > 0]\",       fill_scale=ggplot2::scale_fill_distiller(\"Pos diff\", palette = \"Reds\")     )"},{"path":"https://michaelhallquist.github.io/ggbrain/reference/df2mat.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert a 3-column data.frame (dim1, dim2, value) to a 2-D matrix — df2mat","title":"Convert a 3-column data.frame (dim1, dim2, value) to a 2-D matrix — df2mat","text":"Convert 3-column data.frame (dim1, dim2, value) 2-D matrix","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/df2mat.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert a 3-column data.frame (dim1, dim2, value) to a 2-D matrix — df2mat","text":"df data.frame representing melted 2-D matrix, columns dim1, dim2, value replace_na NULL, numeric value used replace NAs df resulting matrix. useful downstream code built handle missing values.","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/df2mat.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convert a 3-column data.frame (dim1, dim2, value) to a 2-D matrix — df2mat","text":"matrix form keyed data.frame object","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/df2mat.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Convert a 3-column data.frame (dim1, dim2, value) to a 2-D matrix — df2mat","text":"virtually input validation df. must pass data.frame dim1, dim2, value columns. Otherwise, work expected. much faster version acast function reshape2 works 2-D matrix conversions.","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/fill_from_edge.html","id":null,"dir":"Reference","previous_headings":"","what":"This function finds holes by flood filling TRUE into a 2D binary image, starting from the edge — fill_from_edge","title":"This function finds holes by flood filling TRUE into a 2D binary image, starting from the edge — fill_from_edge","text":"function finds holes flood filling TRUE 2D binary image, starting edge","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/fill_from_edge.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"This function finds holes by flood filling TRUE into a 2D binary image, starting from the edge — fill_from_edge","text":"im boolean matrix representing binary image nedges integer specifying many starting points along edge use filling TRUE. starts northwest (1), southwest (2), southeast (3), northeast (4). compute time increases number starts.","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/fill_from_edge.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"This function finds holes by flood filling TRUE into a 2D binary image, starting from the edge — fill_from_edge","text":"matrix size im containing number neighboring pixels","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/fill_from_edge.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"This function finds holes by flood filling TRUE into a 2D binary image, starting from the edge — fill_from_edge","text":"internal function used geom_outline clean outlines","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/fill_from_edge.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"This function finds holes by flood filling TRUE into a 2D binary image, starting from the edge — fill_from_edge","text":"Michael Hallquist","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/find_threads.html","id":null,"dir":"Reference","previous_headings":"","what":"This function finds 'threads' hanging off of the edges of blobs in an image, allowing the user to trim them — find_threads","title":"This function finds 'threads' hanging off of the edges of blobs in an image, allowing the user to trim them — find_threads","text":"function finds 'threads' hanging edges blobs image, allowing user trim ","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/find_threads.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"This function finds 'threads' hanging off of the edges of blobs in an image, allowing the user to trim them — find_threads","text":"im numeric matrix representing image, non-zero values representing pixels display min_neighbors minimum number neighbors pixel must retained maxit maximum number iterations run thread trimming algorithm. Default: 15. diagonal Whether count diagonal elements valid neighbors","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/find_threads.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"This function finds 'threads' hanging off of the edges of blobs in an image, allowing the user to trim them — find_threads","text":"logical matrix matrix size im containing number neighboring pixels","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/find_threads.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"This function finds 'threads' hanging off of the edges of blobs in an image, allowing the user to trim them — find_threads","text":"algorithm runs count_neighbors iteratively pixel exceeds trimming threshold min_neighbors maximum number iterations, maxit, reached. running iteratively, long tails trimmed sequentially pruning disconnected voxels. algorithm computes neighbor counts initially, uses incremental updates pixels removed. avoids redundant full-matrix scans iteration, providing significant speedup large images.","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/find_threads.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"This function finds 'threads' hanging off of the edges of blobs in an image, allowing the user to trim them — find_threads","text":"Michael Hallquist","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/flood_fill.html","id":null,"dir":"Reference","previous_headings":"","what":"This function flood fills a binary image with TRUE for any value of FALSE — flood_fill","title":"This function flood fills a binary image with TRUE for any value of FALSE — flood_fill","text":"function flood fills binary image TRUE value FALSE","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/flood_fill.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"This function flood fills a binary image with TRUE for any value of FALSE — flood_fill","text":"im boolean matrix reference representing binary image x starting x position fill y starting y position fill r number rows im c number columns im","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/flood_fill.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"This function flood fills a binary image with TRUE for any value of FALSE — flood_fill","text":"Nothing. matrix im modified place (reference)","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/flood_fill.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"This function flood fills a binary image with TRUE for any value of FALSE — flood_fill","text":"internal function used geom_outline clean outlines. Uses iterative approach explicit stack avoid stack overflow large images.","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/flood_fill.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"This function flood fills a binary image with TRUE for any value of FALSE — flood_fill","text":"Michael Hallquist","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/geom_brain.html","id":null,"dir":"Reference","previous_headings":"","what":"Adds a raster layer to the ggbrain plot, displaying pixels from the specified layer definition — geom_brain","title":"Adds a raster layer to the ggbrain plot, displaying pixels from the specified layer definition — geom_brain","text":"Adds raster layer ggbrain plot, displaying pixels specified layer definition","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/geom_brain.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Adds a raster layer to the ggbrain plot, displaying pixels from the specified layer definition — geom_brain","text":"","code":"geom_brain(   definition = NULL,   name = NULL,   fill = NULL,   fill_scale = NULL,   mapping = NULL,   limits = NULL,   breaks = NULL,   show_legend = TRUE,   interpolate = FALSE,   unify_scales = TRUE,   alpha = NULL,   blur_edge = NULL,   fill_holes = NULL,   remove_specks = NULL,   trim_threads = NULL )"},{"path":"https://michaelhallquist.github.io/ggbrain/reference/geom_brain.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Adds a raster layer to the ggbrain plot, displaying pixels from the specified layer definition — geom_brain","text":"definition character string contrast image definition used define layer. Can simple image name (e.g., 'underlay') contrast string (e.g., 'overlay[overlay > 5]') name name layer, used referencing layer panel modifications fill character string indicating color used fill non-NA pixels layer. used set fill color, distinction color mapping: mapping=aes(fill=<variable>). fill_scale ggplot scale_fill_* object used mapping fill column color pixels layer. mapping aesthetic mapping layer data display. aes() object supports fill (color filled pixels). Default aes(fill=value), maps numeric value layer data fill color squares spatial position. labeled data, might use aes(fill=<label_col_name>). limits provided, sets upper lower bounds scale breaks provided, function draw breaks fill scale show_legend TRUE, show fill scale plot legend. Default TRUE, except `name=\"underlay\"“ interpolate passes geom_raster controls whether fill interpolated continuous space unify_scales TRUE, layer reused across panels, unify scales match alpha number 0 1 sets alpha transparency layer. Default: 1 blur_edge standard deviation (sigma) Gaussian kernel applied edge layer smooth . makes layer less jagged appearance akin antialiasing. fill_holes optional positive integer specifying size holes (pixels) inside clusters filled nearest neighbor imputation. Default: 0. remove_specks optional positive integer specifying size specks (pixels) removed slice prior display. Specks small clusters may distracting contribute 'salt pepper' appearance. trim_threads minimum number neighboring pixels (including diagonals) must present keep pixel.","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/geom_brain.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Adds a raster layer to the ggbrain plot, displaying pixels from the specified layer definition — geom_brain","text":"ggb object populated relevant geom_brain action 'add_layers'","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/geom_brain.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Adds a raster layer to the ggbrain plot, displaying pixels from the specified layer definition — geom_brain","text":"Note fill_scale limits must specified time geom_brain creation order mapped properly within ggplot. overlay many raster layers ggplot object use fill aesthetic mapping, becomes hard map color scales layer created using typical + scale_fill_* syntax, similarly scale limits.","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/geom_brain.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Adds a raster layer to the ggbrain plot, displaying pixels from the specified layer definition — geom_brain","text":"","code":"# T1-weighted template   t1 <- system.file(\"extdata\", \"mni_template_2009c_2mm.nii.gz\", package = \"ggbrain\")    # signed reward prediction error map   signed_pe <- system.file(\"extdata\", \"pe_ptfce_fwep_0.05_2mm.nii.gz\", package = \"ggbrain\")    gg_obj <- ggbrain() +     images(c(underlay = t1, overlay = signed_pe)) +     slices(c(\"x = 25%\", \"x = 75%\")) +     geom_brain(\"underlay\") +     geom_brain(definition=\"overlay[overlay > 1]\", fill_scale=ggplot2::scale_fill_viridis_c(\"pos z\"))"},{"path":"https://michaelhallquist.github.io/ggbrain/reference/geom_outline.html","id":null,"dir":"Reference","previous_headings":"","what":"Adds an outline layer to the ggbrain plot, displaying outlines from the non-missing pixels in the specified layer definition — geom_outline","title":"Adds an outline layer to the ggbrain plot, displaying outlines from the non-missing pixels in the specified layer definition — geom_outline","text":"Adds outline layer ggbrain plot, displaying outlines non-missing pixels specified layer definition","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/geom_outline.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Adds an outline layer to the ggbrain plot, displaying outlines from the non-missing pixels in the specified layer definition — geom_outline","text":"","code":"geom_outline(   definition = NULL,   name = NULL,   outline = NULL,   outline_scale = NULL,   mapping = ggplot2::aes(outline = NULL, fill = NULL),   size = NULL,   limits = NULL,   breaks = integer_breaks(),   show_legend = TRUE,   interpolate = FALSE,   unify_scales = TRUE,   alpha = 1,   blur_edge = NULL,   fill_holes = NULL,   remove_specks = NULL,   trim_threads = NULL,   dil_ero = 0L )"},{"path":"https://michaelhallquist.github.io/ggbrain/reference/geom_outline.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Adds an outline layer to the ggbrain plot, displaying outlines from the non-missing pixels in the specified layer definition — geom_outline","text":"definition character string contrast image definition used define layer. Can simple image name (e.g., 'underlay') contrast string (e.g., 'overlay[overlay > 5]') name name layer, used referencing layer panel modifications outline character string indicating color used draw outlines layer. used set outline color, distinction outline color mapping: mapping=aes(outline=<variable>). outline_scale ggplot scale_fill_* object used mapping fill column color pixels layer. mapping aesthetic mapping layer data display. aes() object supports outline (outline color pixels). Default aes(outline=NULL), uses set outline color. size size outlines drawn pixel units. Default: 1 limits provided, sets upper lower bounds scale breaks provided, function draw breaks fill scale show_legend TRUE, show fill scale plot legend interpolate passes geom_raster controls whether fill interpolated continuous space unify_scales TRUE, layer reused across panels, unify scales match alpha number 0 1 sets alpha transparency layer. Default: 1 blur_edge standard deviation (sigma) Gaussian kernel applied edge layer smooth . makes layer less jagged appearance akin antialiasing. fill_holes optional positive integer specifying size holes (pixels) inside clusters filled nearest neighbor imputation. Default: 0. remove_specks optional positive integer specifying size specks (pixels) removed slice prior display. Specks small clusters may distracting contribute 'salt pepper' appearance. trim_threads minimum number neighboring pixels (including diagonals) must present keep pixel. dil_ero number pixels dilate (> 0) erode (< 0) outline display purposes. Default: 0L","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/geom_outline.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Adds an outline layer to the ggbrain plot, displaying outlines from the non-missing pixels in the specified layer definition — geom_outline","text":"ggb object populated geom_outline layer action 'add_layers'","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/geom_outline.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Adds an outline layer to the ggbrain plot, displaying outlines from the non-missing pixels in the specified layer definition — geom_outline","text":"Note fill_scale limits must specified time geom_brain creation order mapped properly within ggplot. overlay many raster layers ggplot object use fill aesthetic mapping, becomes hard map color scales layer created using typical + scale_fill_* syntax, similarly scale limits.","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/geom_outline.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Adds an outline layer to the ggbrain plot, displaying outlines from the non-missing pixels in the specified layer definition — geom_outline","text":"","code":"# T1-weighted template   t1 <- system.file(\"extdata\", \"mni_template_2009c_2mm.nii.gz\", package = \"ggbrain\")    # signed reward prediction error map   signed_pe <- system.file(\"extdata\", \"pe_ptfce_fwep_0.05_2mm.nii.gz\", package = \"ggbrain\")    gg_obj <- ggbrain() +     images(c(underlay = t1, overlay = signed_pe)) +     slices(c(\"x = 25%\", \"x = 75%\")) +     geom_brain(\"underlay\") +     geom_outline(definition=\"overlay[overlay > 2]\", outline=\"cyan\")"},{"path":"https://michaelhallquist.github.io/ggbrain/reference/geom_region_label.html","id":null,"dir":"Reference","previous_headings":"","what":"Variant of geom_label used for plotting region labels on slices — geom_region_label","title":"Variant of geom_label used for plotting region labels on slices — geom_region_label","text":"Variant geom_label used plotting region labels slices","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/geom_region_label.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Variant of geom_label used for plotting region labels on slices — geom_region_label","text":"","code":"geom_region_label(image, label_column = \"label\", min_px = 1L, ...)"},{"path":"https://michaelhallquist.github.io/ggbrain/reference/geom_region_label.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Variant of geom_label used for plotting region labels on slices — geom_region_label","text":"image name image within underlying ggbrain_slices object contains labeled data positions label_column column name name labels use within slice data min_px minimum number pixels present slice result text label. Default: 1 ... parameters passed geom_label","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/geom_region_label.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Variant of geom_label used for plotting region labels on slices — geom_region_label","text":"ggb object relevant ggbrain_label field action \"add_region_labels\"","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/geom_region_label_repel.html","id":null,"dir":"Reference","previous_headings":"","what":"Variant of geom_label_repel used for plotting region labels on slices with separation from other labels — geom_region_label_repel","title":"Variant of geom_label_repel used for plotting region labels on slices with separation from other labels — geom_region_label_repel","text":"Variant geom_label_repel used plotting region labels slices separation labels","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/geom_region_label_repel.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Variant of geom_label_repel used for plotting region labels on slices with separation from other labels — geom_region_label_repel","text":"","code":"geom_region_label_repel(image, label_column = \"label\", min_px = 1L, ...)"},{"path":"https://michaelhallquist.github.io/ggbrain/reference/geom_region_label_repel.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Variant of geom_label_repel used for plotting region labels on slices with separation from other labels — geom_region_label_repel","text":"image name image within underlying ggbrain_slices object contains labeled data positions label_column column name name labels use within slice data min_px minimum number pixels present slice result text label. Default: 1 ... parameters passed geom_label_repel","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/geom_region_label_repel.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Variant of geom_label_repel used for plotting region labels on slices with separation from other labels — geom_region_label_repel","text":"ggb object relevant ggbrain_label field action \"add_region_labels\"","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/geom_region_text.html","id":null,"dir":"Reference","previous_headings":"","what":"Variant of geom_text used for plotting region labels on slices — geom_region_text","title":"Variant of geom_text used for plotting region labels on slices — geom_region_text","text":"Variant geom_text used plotting region labels slices","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/geom_region_text.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Variant of geom_text used for plotting region labels on slices — geom_region_text","text":"","code":"geom_region_text(image, label_column = \"label\", min_px = 1L, ...)"},{"path":"https://michaelhallquist.github.io/ggbrain/reference/geom_region_text.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Variant of geom_text used for plotting region labels on slices — geom_region_text","text":"image name image within underlying ggbrain_slices object contains labeled data positions label_column column name name labels use within slice data min_px minimum number pixels present slice result text label. Default: 1 ... parameters passed geom_text","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/geom_region_text.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Variant of geom_text used for plotting region labels on slices — geom_region_text","text":"ggb object relevant ggbrain_label field action \"add_region_labels\"","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/geom_region_text_repel.html","id":null,"dir":"Reference","previous_headings":"","what":"Variant of geom_text_repel used for plotting region labels on slices with separation from other labels — geom_region_text_repel","title":"Variant of geom_text_repel used for plotting region labels on slices with separation from other labels — geom_region_text_repel","text":"Variant geom_text_repel used plotting region labels slices separation labels","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/geom_region_text_repel.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Variant of geom_text_repel used for plotting region labels on slices with separation from other labels — geom_region_text_repel","text":"","code":"geom_region_text_repel(image, label_column = \"label\", min_px = 1L, ...)"},{"path":"https://michaelhallquist.github.io/ggbrain/reference/geom_region_text_repel.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Variant of geom_text_repel used for plotting region labels on slices with separation from other labels — geom_region_text_repel","text":"image name image within underlying ggbrain_slices object contains labeled data positions label_column column name name labels use within slice data min_px minimum number pixels present slice result text label. Default: 1 ... parameters passed geom_text_repel","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/geom_region_text_repel.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Variant of geom_text_repel used for plotting region labels on slices with separation from other labels — geom_region_text_repel","text":"ggb object relevant ggbrain_label field action \"add_region_labels\"","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggb.html","id":null,"dir":"Reference","previous_headings":"","what":"Generic R6 base class that is used to support + semantics — ggb","title":"Generic R6 base class that is used to support + semantics — ggb","text":"Generic R6 base class used support + semantics Generic R6 base class used support + semantics","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggb.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Generic R6 base class that is used to support + semantics — ggb","text":"object becomes simple storage class contains relevant objects (e.g., ggbrain_images) required generate brain plot","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggb.html","id":"public-fields","dir":"Reference","previous_headings":"","what":"Public fields","title":"Generic R6 base class that is used to support + semantics — ggb","text":"ggb_images ggbrain_images object plot ggb_image_labels named list data.frames label corresponding images ggb_slices list slices extract plot ggb_contrasts character vector contrasts computed part plot ggb_layers list ggbrain_layer objects containing bottom--top layers plotted ggb_plot ggbrain_plot object containing specification plot ggb_annotations list annotation objects ggb_region_labels list ggbrain_label objects added text label regions ggb_target_resolution list target resolution settings (voxel_size, interpolation, interpolation_value) action ggb object contribute another added ?","code":""},{"path":[]},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggb.html","id":"public-methods","dir":"Reference","previous_headings":"","what":"Public methods","title":"Generic R6 base class that is used to support + semantics — ggb","text":"ggb$new() ggb$add_layers() ggb$add_slices() ggb$add_contrasts() ggb$add_annotations() ggb$add_image_labels() ggb$add_region_labels() ggb$render() ggb$get_slice_data() ggb$plot() ggb$clone()","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggb.html","id":"method-new-","dir":"Reference","previous_headings":"","what":"Method new()","title":"Generic R6 base class that is used to support + semantics — ggb","text":"create new ggb object. Note inputs always cloned avoid unintended modify--place behaviors R6 classes.","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggb.html","id":"usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generic R6 base class that is used to support + semantics — ggb","text":"","code":"ggb$new(   images = NULL,   slices = NULL,   contrasts = NULL,   layers = NULL,   labels = NULL,   annotations = NULL,   region_labels = NULL,   title = NULL,   bg_color = NULL,   text_color = NULL,   base_size = NULL,   action = NULL )"},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggb.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generic R6 base class that is used to support + semantics — ggb","text":"images ggbrain_images object containing relevant images slices character vector slices extract contrasts character vector contrasts define compute layers list ggbrain_layer objects labels list data.frames labels align one images annotations list data.frames annotations added specific slices region_labels list ggbrain_label objects text-based labels drawn plot title overall title plot bg_color background color overall plot text_color text color overall plot base_size base size text plot action action taken adding object existing ggb","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggb.html","id":"method-add-layers-","dir":"Reference","previous_headings":"","what":"Method add_layers()","title":"Generic R6 base class that is used to support + semantics — ggb","text":"add layers another ggb object one","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggb.html","id":"usage-1","dir":"Reference","previous_headings":"","what":"Usage","title":"Generic R6 base class that is used to support + semantics — ggb","text":"","code":"ggb$add_layers(ilist)"},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggb.html","id":"arguments-1","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generic R6 base class that is used to support + semantics — ggb","text":"ilist list ggbrain_layer objects. ggb object passed, get list obj$ggb_layers","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggb.html","id":"method-add-slices-","dir":"Reference","previous_headings":"","what":"Method add_slices()","title":"Generic R6 base class that is used to support + semantics — ggb","text":"add slices existing vector slices","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggb.html","id":"usage-2","dir":"Reference","previous_headings":"","what":"Usage","title":"Generic R6 base class that is used to support + semantics — ggb","text":"","code":"ggb$add_slices(slices = NULL)"},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggb.html","id":"arguments-2","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generic R6 base class that is used to support + semantics — ggb","text":"slices character vector slices appended existing slices","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggb.html","id":"method-add-contrasts-","dir":"Reference","previous_headings":"","what":"Method add_contrasts()","title":"Generic R6 base class that is used to support + semantics — ggb","text":"add contrast definitions plot object","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggb.html","id":"usage-3","dir":"Reference","previous_headings":"","what":"Usage","title":"Generic R6 base class that is used to support + semantics — ggb","text":"","code":"ggb$add_contrasts(contrasts)"},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggb.html","id":"arguments-3","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generic R6 base class that is used to support + semantics — ggb","text":"contrasts character vector contrasts compute part plot generation","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggb.html","id":"method-add-annotations-","dir":"Reference","previous_headings":"","what":"Method add_annotations()","title":"Generic R6 base class that is used to support + semantics — ggb","text":"add annotations panels","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggb.html","id":"usage-4","dir":"Reference","previous_headings":"","what":"Usage","title":"Generic R6 base class that is used to support + semantics — ggb","text":"","code":"ggb$add_annotations(annotations = NULL)"},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggb.html","id":"arguments-4","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generic R6 base class that is used to support + semantics — ggb","text":"annotations list data.frame containing annotations add panel. Minimally, list data.frame must contain position label columns define position text added. arguments pass ggplot2::annotate() can provided columns/elements annotations passed annotate","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggb.html","id":"method-add-image-labels-","dir":"Reference","previous_headings":"","what":"Method add_image_labels()","title":"Generic R6 base class that is used to support + semantics — ggb","text":"add labels given image","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggb.html","id":"usage-5","dir":"Reference","previous_headings":"","what":"Usage","title":"Generic R6 base class that is used to support + semantics — ggb","text":"","code":"ggb$add_image_labels(...)"},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggb.html","id":"arguments-5","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generic R6 base class that is used to support + semantics — ggb","text":"... named list arguments data.frame labels denoting corresponding images","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggb.html","id":"method-add-region-labels-","dir":"Reference","previous_headings":"","what":"Method add_region_labels()","title":"Generic R6 base class that is used to support + semantics — ggb","text":"add list ggbrain_label objects overall ggb compiling plot","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggb.html","id":"usage-6","dir":"Reference","previous_headings":"","what":"Usage","title":"Generic R6 base class that is used to support + semantics — ggb","text":"","code":"ggb$add_region_labels(labels = NULL)"},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggb.html","id":"arguments-6","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generic R6 base class that is used to support + semantics — ggb","text":"labels list data.frames region labels plotted slice. generated internally ggbrain_images$get_slices() $slice_labels field.","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggb.html","id":"method-render-","dir":"Reference","previous_headings":"","what":"Method render()","title":"Generic R6 base class that is used to support + semantics — ggb","text":"method converts ggb object compiled ggplot2 object can passed functions cowplot, ggplot2, patchwork. object rendered, longer retains underlying ggb fields contain elemental data.","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggb.html","id":"usage-7","dir":"Reference","previous_headings":"","what":"Usage","title":"Generic R6 base class that is used to support + semantics — ggb","text":"","code":"ggb$render(guides = \"collect\")"},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggb.html","id":"arguments-7","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generic R6 base class that is used to support + semantics — ggb","text":"guides Passes patchwork::plot_layout control legends combined across plots. default \"collect\", collects legends within given nesting level (removes duplicates).","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggb.html","id":"method-get-slice-data-","dir":"Reference","previous_headings":"","what":"Method get_slice_data()","title":"Generic R6 base class that is used to support + semantics — ggb","text":"get slice data rendered plot inspection","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggb.html","id":"usage-8","dir":"Reference","previous_headings":"","what":"Usage","title":"Generic R6 base class that is used to support + semantics — ggb","text":"","code":"ggb$get_slice_data(image_name = NULL, slice_index = NULL, as_matrix = FALSE)"},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggb.html","id":"arguments-8","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generic R6 base class that is used to support + semantics — ggb","text":"image_name optional character string specifying single image extract. NULL, returns images slice. slice_index optional integer vector specifying slices return. NULL, returns slices. as_matrix TRUE, convert data.frames matrices using df2mat(). Default: FALSE","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggb.html","id":"details-1","dir":"Reference","previous_headings":"","what":"Details","title":"Generic R6 base class that is used to support + semantics — ggb","text":"render() called yet, method call automatically populate slice data. useful verifying resampling/interpolation occurred expected using target_resolution().","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggb.html","id":"returns","dir":"Reference","previous_headings":"","what":"Returns","title":"Generic R6 base class that is used to support + semantics — ggb","text":"list slice data. image_name specified, returns list data.frames (matrices) image across slices. image_name NULL, returns nested list element contains images slice.","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggb.html","id":"method-plot-","dir":"Reference","previous_headings":"","what":"Method plot()","title":"Generic R6 base class that is used to support + semantics — ggb","text":"plot ggb object – just alias render","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggb.html","id":"usage-9","dir":"Reference","previous_headings":"","what":"Usage","title":"Generic R6 base class that is used to support + semantics — ggb","text":"","code":"ggb$plot(guides = \"collect\")"},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggb.html","id":"arguments-9","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generic R6 base class that is used to support + semantics — ggb","text":"guides Passes patchwork::plot_layout control legends combined across plots. default \"collect\", collects legends within given nesting level (removes duplicates).","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggb.html","id":"details-2","dir":"Reference","previous_headings":"","what":"Details","title":"Generic R6 base class that is used to support + semantics — ggb","text":"requires required elements place already.","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggb.html","id":"method-clone-","dir":"Reference","previous_headings":"","what":"Method clone()","title":"Generic R6 base class that is used to support + semantics — ggb","text":"objects class cloneable method.","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggb.html","id":"usage-10","dir":"Reference","previous_headings":"","what":"Usage","title":"Generic R6 base class that is used to support + semantics — ggb","text":"","code":"ggb$clone(deep = FALSE)"},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggb.html","id":"arguments-10","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generic R6 base class that is used to support + semantics — ggb","text":"deep Whether make deep clone.","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain.html","id":null,"dir":"Reference","previous_headings":"","what":"create ggb container object for a given plot — ggbrain","title":"create ggb container object for a given plot — ggbrain","text":"create ggb container object given plot","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"create ggb container object for a given plot — ggbrain","text":"","code":"ggbrain(   images = NULL,   slices = NULL,   title = NULL,   bg_color = \"grey8\",   text_color = \"grey92\",   base_size = 14 )"},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"create ggb container object for a given plot — ggbrain","text":"images character vector existing ggbrain_images object defining images included plot slices set slices added plot title overall title added plot bg_color background color overall plot text_color default text color overall plot (passes panels) base_size base size fonts used plot (cf. theme_minimal)","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"create ggb container object for a given plot — ggbrain","text":"ggb object containing basic information ggbrain plot background color, text color, font size","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_images.html","id":null,"dir":"Reference","previous_headings":"","what":"R6 class for compiling images to render in ggplot — ggbrain_images","title":"R6 class for compiling images to render in ggplot — ggbrain_images","text":"R6 class compiling images render ggplot R6 class compiling images render ggplot","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_images.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"R6 class for compiling images to render in ggplot — ggbrain_images","text":"ggbrain_images R6 class containing fields related set NIfTI images imported R","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_images.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"R6 class for compiling images to render in ggplot — ggbrain_images","text":"Note class exported power users rarely needs called directly typical use package. Instead, look images().","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_images.html","id":"active-bindings","dir":"Reference","previous_headings":"","what":"Active bindings","title":"R6 class for compiling images to render in ggplot — ggbrain_images","text":"zero_tol (positive) numeric value treated indistinguishable zero. value used set small values images exactly zero proper masking. Default 1e-6 slices character vector cached slice specifications used $get_slices() contrasts character vector cached contrast specifications used $get_slices()","code":""},{"path":[]},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_images.html","id":"public-methods","dir":"Reference","previous_headings":"","what":"Public methods","title":"R6 class for compiling images to render in ggplot — ggbrain_images","text":"ggbrain_images$new() ggbrain_images$add() ggbrain_images$add_labels() ggbrain_images$add_images() ggbrain_images$filter_images() ggbrain_images$dim() ggbrain_images$get_image_names() ggbrain_images$get_images() ggbrain_images$get_headers() ggbrain_images$remove_images() ggbrain_images$winsorize_images() ggbrain_images$na_images() ggbrain_images$summary() ggbrain_images$get_nz_indices() ggbrain_images$add_slices() ggbrain_images$add_contrasts() ggbrain_images$reset_slices() ggbrain_images$get_slices() ggbrain_images$get_slices_inplane() ggbrain_images$get_labels() ggbrain_images$get_orientation_labels() ggbrain_images$lookup_slices() ggbrain_images$clone()","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_images.html","id":"method-new-","dir":"Reference","previous_headings":"","what":"Method new()","title":"R6 class for compiling images to render in ggplot — ggbrain_images","text":"create ggbrain_images object consisting one NIfTI images","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_images.html","id":"usage","dir":"Reference","previous_headings":"","what":"Usage","title":"R6 class for compiling images to render in ggplot — ggbrain_images","text":"","code":"ggbrain_images$new(images = NULL, volumes = NULL, labels = NULL, filter = NULL)"},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_images.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"R6 class for compiling images to render in ggplot — ggbrain_images","text":"images character vector file names containing NIfTI images read volumes volumes read element images. default, 1, case first volume used, appropriate 3-D images. 4-D images, volumes gives flexibility volume display. labels named list data.frames labels map values integer-valued/atlas elements images. single data.frame passed, accepted single image passed, . assumed correspond filter named list filter expressions applied particular images. names list correspond names images provided. element list can either character vector denoting filtering expression (e.g., 'value < 100') numeric vector denoting values image retained (e.g., c(5, 10, 12)).","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_images.html","id":"method-add-","dir":"Reference","previous_headings":"","what":"Method add()","title":"R6 class for compiling images to render in ggplot — ggbrain_images","text":"method add another ggbrain_images object one","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_images.html","id":"usage-1","dir":"Reference","previous_headings":"","what":"Usage","title":"R6 class for compiling images to render in ggplot — ggbrain_images","text":"","code":"ggbrain_images$add(obj)"},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_images.html","id":"arguments-1","dir":"Reference","previous_headings":"","what":"Arguments","title":"R6 class for compiling images to render in ggplot — ggbrain_images","text":"obj ggbrain_images object combine one","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_images.html","id":"method-add-labels-","dir":"Reference","previous_headings":"","what":"Method add_labels()","title":"R6 class for compiling images to render in ggplot — ggbrain_images","text":"add labels data.frame connects integer-valued image set labels","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_images.html","id":"usage-2","dir":"Reference","previous_headings":"","what":"Usage","title":"R6 class for compiling images to render in ggplot — ggbrain_images","text":"","code":"ggbrain_images$add_labels(...)"},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_images.html","id":"arguments-2","dir":"Reference","previous_headings":"","what":"Arguments","title":"R6 class for compiling images to render in ggplot — ggbrain_images","text":"... named arguments containing data.frame objects image labeled. argument name match image name labeled value data.frame containing value label.","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_images.html","id":"details-1","dir":"Reference","previous_headings":"","what":"Details","title":"R6 class for compiling images to render in ggplot — ggbrain_images","text":"result $add_labels, $get_slices method always remap numeric values label images corresponding text-based labels label data. addition, new attribute returned called \"slice_labels\" contains row region represented slice.","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_images.html","id":"method-add-images-","dir":"Reference","previous_headings":"","what":"Method add_images()","title":"R6 class for compiling images to render in ggplot — ggbrain_images","text":"add one images ggbrain_images object","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_images.html","id":"usage-3","dir":"Reference","previous_headings":"","what":"Usage","title":"R6 class for compiling images to render in ggplot — ggbrain_images","text":"","code":"ggbrain_images$add_images(images = NULL, volumes = NULL)"},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_images.html","id":"arguments-3","dir":"Reference","previous_headings":"","what":"Arguments","title":"R6 class for compiling images to render in ggplot — ggbrain_images","text":"images character vector file names containing NIfTI images read volumes number indicating volume within images read. present, must single number – perhaps future, vector many timepoints 4-D image displayed.","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_images.html","id":"method-filter-images-","dir":"Reference","previous_headings":"","what":"Method filter_images()","title":"R6 class for compiling images to render in ggplot — ggbrain_images","text":"filters image based expression subsetting operation","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_images.html","id":"usage-4","dir":"Reference","previous_headings":"","what":"Usage","title":"R6 class for compiling images to render in ggplot — ggbrain_images","text":"","code":"ggbrain_images$filter_images(filter = NULL)"},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_images.html","id":"arguments-4","dir":"Reference","previous_headings":"","what":"Arguments","title":"R6 class for compiling images to render in ggplot — ggbrain_images","text":"filter character string numeric vector filter apply","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_images.html","id":"details-2","dir":"Reference","previous_headings":"","what":"Details","title":"R6 class for compiling images to render in ggplot — ggbrain_images","text":"expr numeric vector, values set retained. character string expression used, use variable name 'value' refer numeric values filtered, 'value > 10'.","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_images.html","id":"method-dim-","dir":"Reference","previous_headings":"","what":"Method dim()","title":"R6 class for compiling images to render in ggplot — ggbrain_images","text":"return 3D dimensions images contained object","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_images.html","id":"usage-5","dir":"Reference","previous_headings":"","what":"Usage","title":"R6 class for compiling images to render in ggplot — ggbrain_images","text":"","code":"ggbrain_images$dim()"},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_images.html","id":"method-get-image-names-","dir":"Reference","previous_headings":"","what":"Method get_image_names()","title":"R6 class for compiling images to render in ggplot — ggbrain_images","text":"return names images contained object","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_images.html","id":"usage-6","dir":"Reference","previous_headings":"","what":"Usage","title":"R6 class for compiling images to render in ggplot — ggbrain_images","text":"","code":"ggbrain_images$get_image_names()"},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_images.html","id":"method-get-images-","dir":"Reference","previous_headings":"","what":"Method get_images()","title":"R6 class for compiling images to render in ggplot — ggbrain_images","text":"return RNifti objects one images contained object","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_images.html","id":"usage-7","dir":"Reference","previous_headings":"","what":"Usage","title":"R6 class for compiling images to render in ggplot — ggbrain_images","text":"","code":"ggbrain_images$get_images(img_names = NULL, drop = TRUE)"},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_images.html","id":"arguments-5","dir":"Reference","previous_headings":"","what":"Arguments","title":"R6 class for compiling images to render in ggplot — ggbrain_images","text":"img_names names images return. Use $get_image_names() uncertain available. drop TRUE, single image returned RNifti object, rather single-element list containing object.","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_images.html","id":"method-get-headers-","dir":"Reference","previous_headings":"","what":"Method get_headers()","title":"R6 class for compiling images to render in ggplot — ggbrain_images","text":"return NIfTI headers one images contained object","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_images.html","id":"usage-8","dir":"Reference","previous_headings":"","what":"Usage","title":"R6 class for compiling images to render in ggplot — ggbrain_images","text":"","code":"ggbrain_images$get_headers(img_names = NULL, drop = TRUE)"},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_images.html","id":"arguments-6","dir":"Reference","previous_headings":"","what":"Arguments","title":"R6 class for compiling images to render in ggplot — ggbrain_images","text":"img_names names images whose header returned. Use $get_image_names() uncertain available. drop TRUE, single header returned niftiHeader object, rather single-element list containing object.","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_images.html","id":"method-remove-images-","dir":"Reference","previous_headings":"","what":"Method remove_images()","title":"R6 class for compiling images to render in ggplot — ggbrain_images","text":"method removing one images ggbrain_images object","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_images.html","id":"usage-9","dir":"Reference","previous_headings":"","what":"Usage","title":"R6 class for compiling images to render in ggplot — ggbrain_images","text":"","code":"ggbrain_images$remove_images(img_names)"},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_images.html","id":"arguments-7","dir":"Reference","previous_headings":"","what":"Arguments","title":"R6 class for compiling images to render in ggplot — ggbrain_images","text":"img_names names images remove object","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_images.html","id":"method-winsorize-images-","dir":"Reference","previous_headings":"","what":"Method winsorize_images()","title":"R6 class for compiling images to render in ggplot — ggbrain_images","text":"winsorize tails set images pull extreme values","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_images.html","id":"usage-10","dir":"Reference","previous_headings":"","what":"Usage","title":"R6 class for compiling images to render in ggplot — ggbrain_images","text":"","code":"ggbrain_images$winsorize_images(img_names, quantiles = c(0.001, 0.999))"},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_images.html","id":"arguments-8","dir":"Reference","previous_headings":"","what":"Arguments","title":"R6 class for compiling images to render in ggplot — ggbrain_images","text":"img_names names images ggbrain_images object winsorized quantiles lower upper quantiles used define thresholds winsorizing.","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_images.html","id":"method-na-images-","dir":"Reference","previous_headings":"","what":"Method na_images()","title":"R6 class for compiling images to render in ggplot — ggbrain_images","text":"method set values less threshold NA","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_images.html","id":"usage-11","dir":"Reference","previous_headings":"","what":"Usage","title":"R6 class for compiling images to render in ggplot — ggbrain_images","text":"","code":"ggbrain_images$na_images(img_names, threshold = NULL)"},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_images.html","id":"arguments-9","dir":"Reference","previous_headings":"","what":"Arguments","title":"R6 class for compiling images to render in ggplot — ggbrain_images","text":"img_names names images ggbrain_images object whose values set NA threshold threshold value whose absolute value used determine voxels set NA. NULL, use pvt_zero_tol field (default 1e-6).","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_images.html","id":"method-summary-","dir":"Reference","previous_headings":"","what":"Method summary()","title":"R6 class for compiling images to render in ggplot — ggbrain_images","text":"print summary ggbrain_images object","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_images.html","id":"usage-12","dir":"Reference","previous_headings":"","what":"Usage","title":"R6 class for compiling images to render in ggplot — ggbrain_images","text":"","code":"ggbrain_images$summary()"},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_images.html","id":"method-get-nz-indices-","dir":"Reference","previous_headings":"","what":"Method get_nz_indices()","title":"R6 class for compiling images to render in ggplot — ggbrain_images","text":"return indices non-zero voxels","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_images.html","id":"usage-13","dir":"Reference","previous_headings":"","what":"Usage","title":"R6 class for compiling images to render in ggplot — ggbrain_images","text":"","code":"ggbrain_images$get_nz_indices(img_names = NULL)"},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_images.html","id":"arguments-10","dir":"Reference","previous_headings":"","what":"Arguments","title":"R6 class for compiling images to render in ggplot — ggbrain_images","text":"img_names names images ggbrain_images object whose non-zero indices looked ","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_images.html","id":"details-3","dir":"Reference","previous_headings":"","what":"Details","title":"R6 class for compiling images to render in ggplot — ggbrain_images","text":"Note function looks non-zero voxels images specified img_names.","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_images.html","id":"method-add-slices-","dir":"Reference","previous_headings":"","what":"Method add_slices()","title":"R6 class for compiling images to render in ggplot — ggbrain_images","text":"adds one slices cached slices retrieved $get_slices() slices argument passed.","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_images.html","id":"usage-14","dir":"Reference","previous_headings":"","what":"Usage","title":"R6 class for compiling images to render in ggplot — ggbrain_images","text":"","code":"ggbrain_images$add_slices(slices = NULL)"},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_images.html","id":"arguments-11","dir":"Reference","previous_headings":"","what":"Arguments","title":"R6 class for compiling images to render in ggplot — ggbrain_images","text":"slices character vector containing one slices extracted $get_slices. Uses syntax \"<xyz>=<number>\". Example: c(\"x=10\", \"y=50%\")","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_images.html","id":"method-add-contrasts-","dir":"Reference","previous_headings":"","what":"Method add_contrasts()","title":"R6 class for compiling images to render in ggplot — ggbrain_images","text":"adds one contrasts cached contrasts retrieved $get_slices() contrasts argument passed.","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_images.html","id":"usage-15","dir":"Reference","previous_headings":"","what":"Usage","title":"R6 class for compiling images to render in ggplot — ggbrain_images","text":"","code":"ggbrain_images$add_contrasts(contrasts = NULL)"},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_images.html","id":"arguments-12","dir":"Reference","previous_headings":"","what":"Arguments","title":"R6 class for compiling images to render in ggplot — ggbrain_images","text":"contrasts character vector containing one contrasts extracted $get_slices. Uses syntax \"<img_name>[subset_expression] + <img_name>\".","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_images.html","id":"method-reset-slices-","dir":"Reference","previous_headings":"","what":"Method reset_slices()","title":"R6 class for compiling images to render in ggplot — ggbrain_images","text":"remove cached slice settings","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_images.html","id":"usage-16","dir":"Reference","previous_headings":"","what":"Usage","title":"R6 class for compiling images to render in ggplot — ggbrain_images","text":"","code":"ggbrain_images$reset_slices()"},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_images.html","id":"method-get-slices-","dir":"Reference","previous_headings":"","what":"Method get_slices()","title":"R6 class for compiling images to render in ggplot — ggbrain_images","text":"get slice data one slices based coordinates","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_images.html","id":"usage-17","dir":"Reference","previous_headings":"","what":"Usage","title":"R6 class for compiling images to render in ggplot — ggbrain_images","text":"","code":"ggbrain_images$get_slices(   slices = NULL,   img_names = NULL,   contrasts = NULL,   fill_labels = FALSE,   make_square = TRUE,   remove_null_space = TRUE,   target_resolution = NULL,   resample_interpolation = 5L )"},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_images.html","id":"arguments-13","dir":"Reference","previous_headings":"","what":"Arguments","title":"R6 class for compiling images to render in ggplot — ggbrain_images","text":"slices vector slice positions img_names character vector images contained ggbrain_images object sliced contrasts named character vector contrasts calculated slice fill_labels TRUE, numeric value image used value corresponding label labels data.frame. Default: FALSE make_square TRUE, make images square size remove_null_space TRUE, remove slices values approximately zero target_resolution Optional target voxel size mm resampling slices. provided, slices resampled resolution using specified interpolation method. resample_interpolation Integer specifying interpolation method imager::imresize. 1=nearest, 2=linear, 5=cubic (default), 6=lanczos.","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_images.html","id":"details-4","dir":"Reference","previous_headings":"","what":"Details","title":"R6 class for compiling images to render in ggplot — ggbrain_images","text":"function always returns data.frame row represents slice requested user. $slice_data element list-column element list slice data given layer/image (e.g., underlay overlay) . $slice_matrix list-column element list 2-D matrices, one per layer/image. @return ggbrain_slices object containing requested slices contrasts","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_images.html","id":"method-get-slices-inplane-","dir":"Reference","previous_headings":"","what":"Method get_slices_inplane()","title":"R6 class for compiling images to render in ggplot — ggbrain_images","text":"get_slices_inplane mostly internal funciton getting one slices given plane","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_images.html","id":"usage-18","dir":"Reference","previous_headings":"","what":"Usage","title":"R6 class for compiling images to render in ggplot — ggbrain_images","text":"","code":"ggbrain_images$get_slices_inplane(   imgs = NULL,   slice_numbers,   plane,   drop = FALSE )"},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_images.html","id":"arguments-14","dir":"Reference","previous_headings":"","what":"Arguments","title":"R6 class for compiling images to render in ggplot — ggbrain_images","text":"imgs names images slice slice_numbers numbers slices specified plant grab plane image plane slice. Must \"coronal\", \"sagittal\", \"axial\" drop TRUE, single slice returned 2D matrix instead 3D matrix singleton first dimension","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_images.html","id":"returns","dir":"Reference","previous_headings":"","what":"Returns","title":"R6 class for compiling images to render in ggplot — ggbrain_images","text":"3D matrix slices x dim1 x dim2","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_images.html","id":"method-get-labels-","dir":"Reference","previous_headings":"","what":"Method get_labels()","title":"R6 class for compiling images to render in ggplot — ggbrain_images","text":"return list data.frames containing labels given image","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_images.html","id":"usage-19","dir":"Reference","previous_headings":"","what":"Usage","title":"R6 class for compiling images to render in ggplot — ggbrain_images","text":"","code":"ggbrain_images$get_labels()"},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_images.html","id":"details-5","dir":"Reference","previous_headings":"","what":"Details","title":"R6 class for compiling images to render in ggplot — ggbrain_images","text":"names list correspond directly names images","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_images.html","id":"method-get-orientation-labels-","dir":"Reference","previous_headings":"","what":"Method get_orientation_labels()","title":"R6 class for compiling images to render in ggplot — ggbrain_images","text":"internal helper determine anatomical orientation labels first image","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_images.html","id":"usage-20","dir":"Reference","previous_headings":"","what":"Usage","title":"R6 class for compiling images to render in ggplot — ggbrain_images","text":"","code":"ggbrain_images$get_orientation_labels()"},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_images.html","id":"returns-1","dir":"Reference","previous_headings":"","what":"Returns","title":"R6 class for compiling images to render in ggplot — ggbrain_images","text":"list elements x, y, z giving orientation codes (e.g., c(\\\"L\\\", \\\"R\\\"))","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_images.html","id":"method-lookup-slices-","dir":"Reference","previous_headings":"","what":"Method lookup_slices()","title":"R6 class for compiling images to render in ggplot — ggbrain_images","text":"internal function lookup slices display along axis based quantile, xyz coordinate, ijk coordinate","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_images.html","id":"usage-21","dir":"Reference","previous_headings":"","what":"Usage","title":"R6 class for compiling images to render in ggplot — ggbrain_images","text":"","code":"ggbrain_images$lookup_slices(slices, ignore_null_space = TRUE)"},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_images.html","id":"arguments-15","dir":"Reference","previous_headings":"","what":"Arguments","title":"R6 class for compiling images to render in ggplot — ggbrain_images","text":"slices character vector coordinates slices display ignore_null_space TRUE, coordinates specified quantiles (e.g., x = 50%) use quantiles non-zero slices (ignoring blank sliaces)","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_images.html","id":"method-clone-","dir":"Reference","previous_headings":"","what":"Method clone()","title":"R6 class for compiling images to render in ggplot — ggbrain_images","text":"objects class cloneable method.","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_images.html","id":"usage-22","dir":"Reference","previous_headings":"","what":"Usage","title":"R6 class for compiling images to render in ggplot — ggbrain_images","text":"","code":"ggbrain_images$clone(deep = FALSE)"},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_images.html","id":"arguments-16","dir":"Reference","previous_headings":"","what":"Arguments","title":"R6 class for compiling images to render in ggplot — ggbrain_images","text":"deep Whether make deep clone.","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_label.html","id":null,"dir":"Reference","previous_headings":"","what":"R6 class for adding labels to a ggbrain_panel — ggbrain_label","title":"R6 class for adding labels to a ggbrain_panel — ggbrain_label","text":"R6 class adding labels ggbrain_panel R6 class adding labels ggbrain_panel","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_label.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"R6 class for adding labels to a ggbrain_panel — ggbrain_label","text":"ggbrain_label R6 class containing fields related ggbrain plot labels","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_label.html","id":"public-fields","dir":"Reference","previous_headings":"","what":"Public fields","title":"R6 class for adding labels to a ggbrain_panel — ggbrain_label","text":"addl_args named list additional argument passed geom_text/geom_label render","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_label.html","id":"active-bindings","dir":"Reference","previous_headings":"","what":"Active bindings","title":"R6 class for adding labels to a ggbrain_panel — ggbrain_label","text":"data data.frame containing labels printed panel. Must contain dim1, dim2, label columns. dim1 dim2 columns control labels appear panel image character string specifying image labels pertain label_column character string indicating data.frame column used drawing labels min_px positive integer indicating minimum number pixels present slice generate label","code":""},{"path":[]},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_label.html","id":"public-methods","dir":"Reference","previous_headings":"","what":"Public methods","title":"R6 class for adding labels to a ggbrain_panel — ggbrain_label","text":"ggbrain_label$new() ggbrain_label$add_to_gg() ggbrain_label$clone()","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_label.html","id":"method-new-","dir":"Reference","previous_headings":"","what":"Method new()","title":"R6 class for adding labels to a ggbrain_panel — ggbrain_label","text":"create new ggbrain_label object","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_label.html","id":"usage","dir":"Reference","previous_headings":"","what":"Usage","title":"R6 class for adding labels to a ggbrain_panel — ggbrain_label","text":"","code":"ggbrain_label$new(   data = NULL,   geom = \"text\",   image = NULL,   label_column = NULL,   min_px = NULL,   ... )"},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_label.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"R6 class for adding labels to a ggbrain_panel — ggbrain_label","text":"data data.frame containing labels printed panel. Must contain dim1, dim2, label columns. dim1 dim2 columns control labels appear panel geom geom type plotted. Must \"text\" \"label\", corresponding geom_text geom_label, respectively. image string specifying image labels pertain label_column column data drawn labels plot min_px minimum number pixels ... arguments passed directly geom_text geom_label hjust, size, color","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_label.html","id":"method-add-to-gg-","dir":"Reference","previous_headings":"","what":"Method add_to_gg()","title":"R6 class for adding labels to a ggbrain_panel — ggbrain_label","text":"add text layer existing ggplot object","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_label.html","id":"usage-1","dir":"Reference","previous_headings":"","what":"Usage","title":"R6 class for adding labels to a ggbrain_panel — ggbrain_label","text":"","code":"ggbrain_label$add_to_gg(base_gg)"},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_label.html","id":"arguments-1","dir":"Reference","previous_headings":"","what":"Arguments","title":"R6 class for adding labels to a ggbrain_panel — ggbrain_label","text":"base_gg ggplot object add layer","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_label.html","id":"method-clone-","dir":"Reference","previous_headings":"","what":"Method clone()","title":"R6 class for adding labels to a ggbrain_panel — ggbrain_label","text":"objects class cloneable method.","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_label.html","id":"usage-2","dir":"Reference","previous_headings":"","what":"Usage","title":"R6 class for adding labels to a ggbrain_panel — ggbrain_label","text":"","code":"ggbrain_label$clone(deep = FALSE)"},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_label.html","id":"arguments-2","dir":"Reference","previous_headings":"","what":"Arguments","title":"R6 class for adding labels to a ggbrain_panel — ggbrain_label","text":"deep Whether make deep clone.","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_layer.html","id":null,"dir":"Reference","previous_headings":"","what":"R6 class for a single layer of a ggbrain panel — ggbrain_layer","title":"R6 class for a single layer of a ggbrain panel — ggbrain_layer","text":"R6 class single layer ggbrain panel R6 class single layer ggbrain panel","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_layer.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"R6 class for a single layer of a ggbrain panel — ggbrain_layer","text":"ggbrain_layer R6 class containing fields related visual layer ggbrain plot","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_layer.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"R6 class for a single layer of a ggbrain panel — ggbrain_layer","text":"Note class exported power users rarely needs called directly typical use package. Instead, look geom_brain() geom_outline().","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_layer.html","id":"active-bindings","dir":"Reference","previous_headings":"","what":"Active bindings","title":"R6 class for a single layer of a ggbrain panel — ggbrain_layer","text":"name name layer, used referencing layer panel modifications all_na whether values layer NA data field definition character string specifying image name contrast defines layer source character string specifying layer source within relevant ggbrain_slices object. used lookup right layer information combining slices layers together Note multiple layers can potentially source, 1:1 mapping name work data data.frame containing relevant data layer. show_legend logical indicating whether show hide fill/color scale unify_scales logical indicating whether unify scale limits levels layer added across many panels bisided read-access whether layer uses bisided color scale categorical_fill read-access whether layer categorical fill scale fill_column read-access layer fill column fill_scale scale_fill_* object containing ggplot2 fill scale layer alpha sets alpha transparency layer. blur_edge controls standard deviation (sigma) Gaussian blur applied layer edge trim_threads iteratively trim pixels fewer number neighboring pixels fill_holes controls size holes filled display (pixels) remove_specks controls size specks removed (pixels)","code":""},{"path":[]},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_layer.html","id":"public-methods","dir":"Reference","previous_headings":"","what":"Public methods","title":"R6 class for a single layer of a ggbrain panel — ggbrain_layer","text":"ggbrain_layer$new() ggbrain_layer$set_limits() ggbrain_layer$set_pos_limits() ggbrain_layer$set_neg_limits() ggbrain_layer$set_breaks() ggbrain_layer$set_pos_breaks() ggbrain_layer$set_neg_breaks() ggbrain_layer$plot() ggbrain_layer$add_to_gg() ggbrain_layer$get_data() ggbrain_layer$is_empty() ggbrain_layer$clone()","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_layer.html","id":"method-new-","dir":"Reference","previous_headings":"","what":"Method new()","title":"R6 class for a single layer of a ggbrain panel — ggbrain_layer","text":"create new ggbrain_layer object","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_layer.html","id":"usage","dir":"Reference","previous_headings":"","what":"Usage","title":"R6 class for a single layer of a ggbrain panel — ggbrain_layer","text":"","code":"ggbrain_layer$new(   name = NULL,   definition = NULL,   limits = NULL,   breaks = integer_breaks(),   show_legend = TRUE,   interpolate = NULL,   unify_scales = TRUE,   alpha = NULL,   blur_edge = NULL,   fill_holes = NULL,   remove_specks = NULL,   trim_threads = NULL,   data = NULL )"},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_layer.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"R6 class for a single layer of a ggbrain panel — ggbrain_layer","text":"name name layer, used referencing layer panel modifications definition optional character string defining image contrast used lookup data ggbrain_slices object. mostly used internally ggbrain + syntax allow layers defined without data advance plot. limits provided, sets upper lower bounds scale breaks provided, function draw breaks color scale show_legend TRUE, show scale plot legend interpolate passes geom_raster controls whether fill interpolated continuous space unify_scales TRUE, layer reused across panels, unify scales match alpha fixed alpha transparency layer (use mapping alpha mapping`) blur_edge standard deviation (sigma) Gaussian kernel applied edge layer smooth . makes layer less jagged appearance akin antialiasing. fill_holes size holes (pixels) inside clusters filled nearest neighbor imputation prior display remove_specks size specks (pixels) removed slice prior display trim_threads minimum number neighboring pixels (including diagonals) must present keep pixel data data.frame containing image data layer. Must contain \"dim1\", \"dim2\", \"value\" columns","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_layer.html","id":"method-set-limits-","dir":"Reference","previous_headings":"","what":"Method set_limits()","title":"R6 class for a single layer of a ggbrain panel — ggbrain_layer","text":"set limits layer's scale","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_layer.html","id":"usage-1","dir":"Reference","previous_headings":"","what":"Usage","title":"R6 class for a single layer of a ggbrain panel — ggbrain_layer","text":"","code":"ggbrain_layer$set_limits(limits)"},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_layer.html","id":"arguments-1","dir":"Reference","previous_headings":"","what":"Arguments","title":"R6 class for a single layer of a ggbrain panel — ggbrain_layer","text":"limits 2-element numeric vector setting lower upper limits layer's scale","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_layer.html","id":"method-set-pos-limits-","dir":"Reference","previous_headings":"","what":"Method set_pos_limits()","title":"R6 class for a single layer of a ggbrain panel — ggbrain_layer","text":"set limits layer's positive scale (relevant bisided)","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_layer.html","id":"usage-2","dir":"Reference","previous_headings":"","what":"Usage","title":"R6 class for a single layer of a ggbrain panel — ggbrain_layer","text":"","code":"ggbrain_layer$set_pos_limits(limits)"},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_layer.html","id":"arguments-2","dir":"Reference","previous_headings":"","what":"Arguments","title":"R6 class for a single layer of a ggbrain panel — ggbrain_layer","text":"limits 2-element numeric vector setting lower upper limits layer's positive scale","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_layer.html","id":"method-set-neg-limits-","dir":"Reference","previous_headings":"","what":"Method set_neg_limits()","title":"R6 class for a single layer of a ggbrain panel — ggbrain_layer","text":"set limits layer's positive scale (relevant bisided)","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_layer.html","id":"usage-3","dir":"Reference","previous_headings":"","what":"Usage","title":"R6 class for a single layer of a ggbrain panel — ggbrain_layer","text":"","code":"ggbrain_layer$set_neg_limits(limits)"},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_layer.html","id":"arguments-3","dir":"Reference","previous_headings":"","what":"Arguments","title":"R6 class for a single layer of a ggbrain panel — ggbrain_layer","text":"limits 2-element numeric vector setting lower upper limits layer's positive scale","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_layer.html","id":"method-set-breaks-","dir":"Reference","previous_headings":"","what":"Method set_breaks()","title":"R6 class for a single layer of a ggbrain panel — ggbrain_layer","text":"set breaks element layer's scale","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_layer.html","id":"usage-4","dir":"Reference","previous_headings":"","what":"Usage","title":"R6 class for a single layer of a ggbrain panel — ggbrain_layer","text":"","code":"ggbrain_layer$set_breaks(breaks)"},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_layer.html","id":"arguments-4","dir":"Reference","previous_headings":"","what":"Arguments","title":"R6 class for a single layer of a ggbrain panel — ggbrain_layer","text":"breaks function used label breaks","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_layer.html","id":"method-set-pos-breaks-","dir":"Reference","previous_headings":"","what":"Method set_pos_breaks()","title":"R6 class for a single layer of a ggbrain panel — ggbrain_layer","text":"set breaks element layer's positive scale (relevant bisided)","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_layer.html","id":"usage-5","dir":"Reference","previous_headings":"","what":"Usage","title":"R6 class for a single layer of a ggbrain panel — ggbrain_layer","text":"","code":"ggbrain_layer$set_pos_breaks(breaks)"},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_layer.html","id":"arguments-5","dir":"Reference","previous_headings":"","what":"Arguments","title":"R6 class for a single layer of a ggbrain panel — ggbrain_layer","text":"breaks function used label positive breaks","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_layer.html","id":"method-set-neg-breaks-","dir":"Reference","previous_headings":"","what":"Method set_neg_breaks()","title":"R6 class for a single layer of a ggbrain panel — ggbrain_layer","text":"set breaks element layer's negative scale (relevant bisided)","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_layer.html","id":"usage-6","dir":"Reference","previous_headings":"","what":"Usage","title":"R6 class for a single layer of a ggbrain panel — ggbrain_layer","text":"","code":"ggbrain_layer$set_neg_breaks(breaks)"},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_layer.html","id":"arguments-6","dir":"Reference","previous_headings":"","what":"Arguments","title":"R6 class for a single layer of a ggbrain panel — ggbrain_layer","text":"breaks function used label negative breaks","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_layer.html","id":"method-plot-","dir":"Reference","previous_headings":"","what":"Method plot()","title":"R6 class for a single layer of a ggbrain panel — ggbrain_layer","text":"plot layer alone (mostly debugging)","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_layer.html","id":"usage-7","dir":"Reference","previous_headings":"","what":"Usage","title":"R6 class for a single layer of a ggbrain panel — ggbrain_layer","text":"","code":"ggbrain_layer$plot()"},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_layer.html","id":"method-add-to-gg-","dir":"Reference","previous_headings":"","what":"Method add_to_gg()","title":"R6 class for a single layer of a ggbrain panel — ggbrain_layer","text":"method add layer existing ggplot object","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_layer.html","id":"usage-8","dir":"Reference","previous_headings":"","what":"Usage","title":"R6 class for a single layer of a ggbrain panel — ggbrain_layer","text":"","code":"ggbrain_layer$add_to_gg(base_gg)"},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_layer.html","id":"arguments-7","dir":"Reference","previous_headings":"","what":"Arguments","title":"R6 class for a single layer of a ggbrain panel — ggbrain_layer","text":"base_gg ggplot object add layer","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_layer.html","id":"method-get-data-","dir":"Reference","previous_headings":"","what":"Method get_data()","title":"R6 class for a single layer of a ggbrain panel — ggbrain_layer","text":"return data.frame associated layer","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_layer.html","id":"usage-9","dir":"Reference","previous_headings":"","what":"Usage","title":"R6 class for a single layer of a ggbrain panel — ggbrain_layer","text":"","code":"ggbrain_layer$get_data(add_layer_name = FALSE)"},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_layer.html","id":"arguments-8","dir":"Reference","previous_headings":"","what":"Arguments","title":"R6 class for a single layer of a ggbrain panel — ggbrain_layer","text":"add_layer_name TRUE, adds layer_name column data.frame record-keeping. Default: FALSE.","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_layer.html","id":"method-is-empty-","dir":"Reference","previous_headings":"","what":"Method is_empty()","title":"R6 class for a single layer of a ggbrain panel — ggbrain_layer","text":"returns TRUE values NA data 0 rows","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_layer.html","id":"usage-10","dir":"Reference","previous_headings":"","what":"Usage","title":"R6 class for a single layer of a ggbrain panel — ggbrain_layer","text":"","code":"ggbrain_layer$is_empty()"},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_layer.html","id":"method-clone-","dir":"Reference","previous_headings":"","what":"Method clone()","title":"R6 class for a single layer of a ggbrain panel — ggbrain_layer","text":"objects class cloneable method.","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_layer.html","id":"usage-11","dir":"Reference","previous_headings":"","what":"Usage","title":"R6 class for a single layer of a ggbrain panel — ggbrain_layer","text":"","code":"ggbrain_layer$clone(deep = FALSE)"},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_layer.html","id":"arguments-9","dir":"Reference","previous_headings":"","what":"Arguments","title":"R6 class for a single layer of a ggbrain panel — ggbrain_layer","text":"deep Whether make deep clone.","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_layer_brain.html","id":null,"dir":"Reference","previous_headings":"","what":"R6 class for a single layer of a ggbrain panel using fill geom — ggbrain_layer_brain","title":"R6 class for a single layer of a ggbrain panel using fill geom — ggbrain_layer_brain","text":"R6 class single layer ggbrain panel using fill geom R6 class single layer ggbrain panel using fill geom","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_layer_brain.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"R6 class for a single layer of a ggbrain panel using fill geom — ggbrain_layer_brain","text":"ggbrain_layer_brain R6 class fields related brain visual layer (relates geom_brain)","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_layer_brain.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"R6 class for a single layer of a ggbrain panel using fill geom — ggbrain_layer_brain","text":"Note class exported power users rarely needs called directly typical use package. Instead, look geom_brain().","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_layer_brain.html","id":"super-class","dir":"Reference","previous_headings":"","what":"Super class","title":"R6 class for a single layer of a ggbrain panel using fill geom — ggbrain_layer_brain","text":"ggbrain::ggbrain_layer -> ggbrain_layer_brain","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_layer_brain.html","id":"active-bindings","dir":"Reference","previous_headings":"","what":"Active bindings","title":"R6 class for a single layer of a ggbrain panel using fill geom — ggbrain_layer_brain","text":"fill controls color filled pixels non-NA (valid) voxels. Note sets fill color, mapping=aes(fill=<value>) map fill column data, consistent ggplot2 logic. mapping ggplot2 aesthetic mapping data columns display","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_layer_brain.html","id":"methods","dir":"Reference","previous_headings":"","what":"Methods","title":"R6 class for a single layer of a ggbrain panel using fill geom — ggbrain_layer_brain","text":"ggbrain::ggbrain_layer$add_to_gg() ggbrain::ggbrain_layer$get_data() ggbrain::ggbrain_layer$is_empty() ggbrain::ggbrain_layer$plot() ggbrain::ggbrain_layer$set_breaks() ggbrain::ggbrain_layer$set_limits() ggbrain::ggbrain_layer$set_neg_breaks() ggbrain::ggbrain_layer$set_neg_limits() ggbrain::ggbrain_layer$set_pos_breaks() ggbrain::ggbrain_layer$set_pos_limits()","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_layer_brain.html","id":"public-methods","dir":"Reference","previous_headings":"","what":"Public methods","title":"R6 class for a single layer of a ggbrain panel using fill geom — ggbrain_layer_brain","text":"ggbrain_layer_brain$new() ggbrain_layer_brain$clone()","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_layer_brain.html","id":"method-new-","dir":"Reference","previous_headings":"","what":"Method new()","title":"R6 class for a single layer of a ggbrain panel using fill geom — ggbrain_layer_brain","text":"create new ggbrain_layer object","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_layer_brain.html","id":"usage","dir":"Reference","previous_headings":"","what":"Usage","title":"R6 class for a single layer of a ggbrain panel using fill geom — ggbrain_layer_brain","text":"","code":"ggbrain_layer_brain$new(   name = NULL,   definition = NULL,   limits = NULL,   breaks = integer_breaks(),   show_legend = TRUE,   interpolate = NULL,   unify_scales = TRUE,   alpha = NULL,   mapping = ggplot2::aes(fill = value),   fill = NULL,   fill_scale = NULL,   blur_edge = NULL,   fill_holes = NULL,   remove_specks = NULL,   trim_threads = NULL,   data = NULL )"},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_layer_brain.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"R6 class for a single layer of a ggbrain panel using fill geom — ggbrain_layer_brain","text":"name name layer, used referencing layer panel modifications definition optional character string defining image contrast used lookup data ggbrain_slices object. mostly used internally ggbrain + syntax allow layers defined without data advance plot. limits provided, sets upper lower bounds scale breaks provided, function draw breaks color scale show_legend TRUE, show scale plot legend interpolate passes geom_raster controls whether fill interpolated continuous space unify_scales TRUE, layer reused across panels, unify scales match alpha number 0 1 sets alpha transparency layer. Default: 1 mapping aesthetic mapping layer data display. aes() object supports fill (color filled pixels). Default aes(fill=value), maps numeric value layer data fill color squares spatial position. labeled data, might use aes(fill=<label_col_name>). fill character string indicating color used fill non-NA pixels layer. used distinction mapping=aes(fill=<variable>). fill_scale ggplot scale object used mapping value column fill color layer. blur_edge standard deviation (sigma) Gaussian kernel applied edge layer smooth . makes layer less jagged appearance akin antialiasing. fill_holes size holes (pixels) inside clusters filled nearest neighbor imputation prior display remove_specks size specks (pixels) removed slice prior display trim_threads minimum number neighboring pixels (including diagonals) must present keep pixel data data.frame containing image data layer. Must contain \"dim1\", \"dim2\", \"value\" columns","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_layer_brain.html","id":"details-1","dir":"Reference","previous_headings":"","what":"Details","title":"R6 class for a single layer of a ggbrain panel using fill geom — ggbrain_layer_brain","text":"set mapping, must provide ggplot2 aes() object. geom_brain() layer requires fill aesthetic mapping, controls fill color regions.","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_layer_brain.html","id":"method-clone-","dir":"Reference","previous_headings":"","what":"Method clone()","title":"R6 class for a single layer of a ggbrain panel using fill geom — ggbrain_layer_brain","text":"objects class cloneable method.","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_layer_brain.html","id":"usage-1","dir":"Reference","previous_headings":"","what":"Usage","title":"R6 class for a single layer of a ggbrain panel using fill geom — ggbrain_layer_brain","text":"","code":"ggbrain_layer_brain$clone(deep = FALSE)"},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_layer_brain.html","id":"arguments-1","dir":"Reference","previous_headings":"","what":"Arguments","title":"R6 class for a single layer of a ggbrain panel using fill geom — ggbrain_layer_brain","text":"deep Whether make deep clone.","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_layer_outline.html","id":null,"dir":"Reference","previous_headings":"","what":"R6 class for a single layer of a ggbrain panel using outline geom — ggbrain_layer_outline","title":"R6 class for a single layer of a ggbrain panel using outline geom — ggbrain_layer_outline","text":"R6 class single layer ggbrain panel using outline geom R6 class single layer ggbrain panel using outline geom","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_layer_outline.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"R6 class for a single layer of a ggbrain panel using outline geom — ggbrain_layer_outline","text":"ggbrain_layer_outline R6 class fields related brain visual layer (relates geom_outline)","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_layer_outline.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"R6 class for a single layer of a ggbrain panel using outline geom — ggbrain_layer_outline","text":"Note class exported power users rarely needs called directly typical use package. Instead, look geom_outline().","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_layer_outline.html","id":"super-class","dir":"Reference","previous_headings":"","what":"Super class","title":"R6 class for a single layer of a ggbrain panel using outline geom — ggbrain_layer_outline","text":"ggbrain::ggbrain_layer -> ggbrain_layer_outline","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_layer_outline.html","id":"active-bindings","dir":"Reference","previous_headings":"","what":"Active bindings","title":"R6 class for a single layer of a ggbrain panel using outline geom — ggbrain_layer_outline","text":"mapping ggplot2 aesthetic mapping data columns display outline controls color outline draw around non-NA (valid) voxels outline_scale scale_fill_* object containing ggplot2 outline color scale layer size controls size outline drawn around non-NA (valid) voxels dil_ero controls number pixels dilate (> 0) erode (< 0) outline","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_layer_outline.html","id":"methods","dir":"Reference","previous_headings":"","what":"Methods","title":"R6 class for a single layer of a ggbrain panel using outline geom — ggbrain_layer_outline","text":"ggbrain::ggbrain_layer$add_to_gg() ggbrain::ggbrain_layer$get_data() ggbrain::ggbrain_layer$is_empty() ggbrain::ggbrain_layer$plot() ggbrain::ggbrain_layer$set_breaks() ggbrain::ggbrain_layer$set_limits() ggbrain::ggbrain_layer$set_neg_breaks() ggbrain::ggbrain_layer$set_neg_limits() ggbrain::ggbrain_layer$set_pos_breaks() ggbrain::ggbrain_layer$set_pos_limits()","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_layer_outline.html","id":"public-methods","dir":"Reference","previous_headings":"","what":"Public methods","title":"R6 class for a single layer of a ggbrain panel using outline geom — ggbrain_layer_outline","text":"ggbrain_layer_outline$new() ggbrain_layer_outline$clone()","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_layer_outline.html","id":"method-new-","dir":"Reference","previous_headings":"","what":"Method new()","title":"R6 class for a single layer of a ggbrain panel using outline geom — ggbrain_layer_outline","text":"create new ggbrain_layer object","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_layer_outline.html","id":"usage","dir":"Reference","previous_headings":"","what":"Usage","title":"R6 class for a single layer of a ggbrain panel using outline geom — ggbrain_layer_outline","text":"","code":"ggbrain_layer_outline$new(   name = NULL,   definition = NULL,   limits = NULL,   breaks = integer_breaks(),   show_legend = TRUE,   interpolate = NULL,   unify_scales = TRUE,   alpha = NULL,   mapping = ggplot2::aes(outline = NULL, fill = NULL),   outline = NULL,   outline_scale = NULL,   size = NULL,   blur_edge = NULL,   fill_holes = NULL,   remove_specks = NULL,   trim_threads = NULL,   dil_ero = NULL,   data = NULL )"},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_layer_outline.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"R6 class for a single layer of a ggbrain panel using outline geom — ggbrain_layer_outline","text":"name name layer, used referencing layer panel modifications definition optional character string defining image contrast used lookup data ggbrain_slices object. mostly used internally ggbrain + syntax allow layers defined without data advance plot. limits provided, sets upper lower bounds scale breaks provided, function draw breaks color scale show_legend TRUE, show scale plot legend interpolate passes geom_raster controls whether fill interpolated continuous space unify_scales TRUE, layer reused across panels, unify scales match alpha number 0 1 sets alpha transparency layer. Default: 1 mapping aesthetic mapping layer data display. aes() object supports outline (color outline around clusters). Default aes(outline=value), maps numeric value layer data outline color squares around spatial regions. labeled data, might use aes(fill=<label_col_name>). outline character string indicating color used outline non-NA pixels layer. used distinction mapping=aes(outline=<variable>). outline_scale ggplot scale object used mapping value column outline color layer. size controls thickness outlines blur_edge standard deviation (sigma) Gaussian kernel applied edge layer smooth . makes layer less jagged appearance akin antialiasing. fill_holes size holes (pixels) inside clusters filled nearest neighbor imputation prior display remove_specks size specks (pixels) removed slice prior display trim_threads minimum number neighboring pixels (including diagonals) must present keep pixel dil_ero number pixels dilate (> 0) erode (<0) outline. data data.frame containing image data layer. Must contain \"dim1\", \"dim2\", \"value\" columns","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_layer_outline.html","id":"details-1","dir":"Reference","previous_headings":"","what":"Details","title":"R6 class for a single layer of a ggbrain panel using outline geom — ggbrain_layer_outline","text":"set mapping, must provide ggplot2 aes() object. geom_outline() layer requires outline aesthetic mapping, controls color outlines drawn around regions. note ggbrain_layer_outline class maps onto *_fill fields","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_layer_outline.html","id":"method-clone-","dir":"Reference","previous_headings":"","what":"Method clone()","title":"R6 class for a single layer of a ggbrain panel using outline geom — ggbrain_layer_outline","text":"objects class cloneable method.","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_layer_outline.html","id":"usage-1","dir":"Reference","previous_headings":"","what":"Usage","title":"R6 class for a single layer of a ggbrain panel using outline geom — ggbrain_layer_outline","text":"","code":"ggbrain_layer_outline$clone(deep = FALSE)"},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_layer_outline.html","id":"arguments-1","dir":"Reference","previous_headings":"","what":"Arguments","title":"R6 class for a single layer of a ggbrain panel using outline geom — ggbrain_layer_outline","text":"deep Whether make deep clone.","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_panel.html","id":null,"dir":"Reference","previous_headings":"","what":"R6 class for a single panel of a ggbrain image — ggbrain_panel","title":"R6 class for a single panel of a ggbrain image — ggbrain_panel","text":"R6 class single panel ggbrain image R6 class single panel ggbrain image","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_panel.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"R6 class for a single panel of a ggbrain image — ggbrain_panel","text":"ggbrain_panel R6 class fields related panel ggbrain plot","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_panel.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"R6 class for a single panel of a ggbrain image — ggbrain_panel","text":"Note class exported power users rarely needs called directly typical use package. Instead, look slices().","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_panel.html","id":"public-fields","dir":"Reference","previous_headings":"","what":"Public fields","title":"R6 class for a single panel of a ggbrain image — ggbrain_panel","text":"gg ggplot object contains panel","code":""},{"path":[]},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_panel.html","id":"public-methods","dir":"Reference","previous_headings":"","what":"Public methods","title":"R6 class for a single panel of a ggbrain image — ggbrain_panel","text":"ggbrain_panel$new() ggbrain_panel$reset_limits() ggbrain_panel$plot() ggbrain_panel$add_to_gg() ggbrain_panel$add_layer() ggbrain_panel$remove_layers() ggbrain_panel$get_data() ggbrain_panel$get_layer_names() ggbrain_panel$get_layers() ggbrain_panel$set_layer_order() ggbrain_panel$clone()","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_panel.html","id":"method-new-","dir":"Reference","previous_headings":"","what":"Method new()","title":"R6 class for a single panel of a ggbrain image — ggbrain_panel","text":"create new ggbrain_panel object","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_panel.html","id":"usage","dir":"Reference","previous_headings":"","what":"Usage","title":"R6 class for a single panel of a ggbrain image — ggbrain_panel","text":"","code":"ggbrain_panel$new(   layers = NULL,   title = NULL,   bg_color = NULL,   text_color = NULL,   border_color = NULL,   border_size = NULL,   xlab = NULL,   ylab = NULL,   theme_custom = NULL,   annotations = NULL,   region_labels = NULL )"},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_panel.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"R6 class for a single panel of a ggbrain image — ggbrain_panel","text":"layers list ggbrain_layer objects form panel title title panel added ggplot object using ggtitle() bg_color color used background plot. Default: 'gray10' (nearly black) text_color color used text displayed plot. Default: 'white'. border_color color used drawing border around plot. Default: 'gray50' (though borders drawn default). border_size size border line drawn around panel. Default: NULL. value greater zero, border size color border_color drawn around panel xlab label place x axis. Default NULL. ylab label place y axis. Default NULL. theme_custom custom theme() settings added plot annotations data.frame containing annotations added plot. row cleaned passed ggplot2::annotate() region_labels list ggbrain_label objects data plotting region labels panel","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_panel.html","id":"method-reset-limits-","dir":"Reference","previous_headings":"","what":"Method reset_limits()","title":"R6 class for a single panel of a ggbrain image — ggbrain_panel","text":"Reset scale limits specified layers","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_panel.html","id":"usage-1","dir":"Reference","previous_headings":"","what":"Usage","title":"R6 class for a single panel of a ggbrain image — ggbrain_panel","text":"","code":"ggbrain_panel$reset_limits(layer_names)"},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_panel.html","id":"arguments-1","dir":"Reference","previous_headings":"","what":"Arguments","title":"R6 class for a single panel of a ggbrain image — ggbrain_panel","text":"layer_names implemented yet","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_panel.html","id":"method-plot-","dir":"Reference","previous_headings":"","what":"Method plot()","title":"R6 class for a single panel of a ggbrain image — ggbrain_panel","text":"plot panel","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_panel.html","id":"usage-2","dir":"Reference","previous_headings":"","what":"Usage","title":"R6 class for a single panel of a ggbrain image — ggbrain_panel","text":"","code":"ggbrain_panel$plot(use_global_limits = TRUE)"},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_panel.html","id":"arguments-2","dir":"Reference","previous_headings":"","what":"Arguments","title":"R6 class for a single panel of a ggbrain image — ggbrain_panel","text":"use_global_limits implemented present","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_panel.html","id":"method-add-to-gg-","dir":"Reference","previous_headings":"","what":"Method add_to_gg()","title":"R6 class for a single panel of a ggbrain image — ggbrain_panel","text":"add one custom ggplot settings panel","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_panel.html","id":"usage-3","dir":"Reference","previous_headings":"","what":"Usage","title":"R6 class for a single panel of a ggbrain image — ggbrain_panel","text":"","code":"ggbrain_panel$add_to_gg(list_args)"},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_panel.html","id":"arguments-3","dir":"Reference","previous_headings":"","what":"Arguments","title":"R6 class for a single panel of a ggbrain image — ggbrain_panel","text":"list_args list containing elements add ggplot object","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_panel.html","id":"details-1","dir":"Reference","previous_headings":"","what":"Details","title":"R6 class for a single panel of a ggbrain image — ggbrain_panel","text":"Note passing expression theme_bw() + ggtitle(\"hello\") work creates object added sequentially ggplot. noted ggplot2's documentation (https://ggplot2.tidyverse.org/reference/gg-add.html), programmatically add elements ggplot, pass list element added sequentially","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_panel.html","id":"method-add-layer-","dir":"Reference","previous_headings":"","what":"Method add_layer()","title":"R6 class for a single panel of a ggbrain image — ggbrain_panel","text":"adds ggplot_layer object panel","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_panel.html","id":"usage-4","dir":"Reference","previous_headings":"","what":"Usage","title":"R6 class for a single panel of a ggbrain image — ggbrain_panel","text":"","code":"ggbrain_panel$add_layer(layer_obj)"},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_panel.html","id":"arguments-4","dir":"Reference","previous_headings":"","what":"Arguments","title":"R6 class for a single panel of a ggbrain image — ggbrain_panel","text":"layer_obj ggbrain_layer object add panel","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_panel.html","id":"method-remove-layers-","dir":"Reference","previous_headings":"","what":"Method remove_layers()","title":"R6 class for a single panel of a ggbrain image — ggbrain_panel","text":"removes one layers name","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_panel.html","id":"usage-5","dir":"Reference","previous_headings":"","what":"Usage","title":"R6 class for a single panel of a ggbrain image — ggbrain_panel","text":"","code":"ggbrain_panel$remove_layers(layer_names)"},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_panel.html","id":"arguments-5","dir":"Reference","previous_headings":"","what":"Arguments","title":"R6 class for a single panel of a ggbrain image — ggbrain_panel","text":"layer_names character string layers remove panel","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_panel.html","id":"method-get-data-","dir":"Reference","previous_headings":"","what":"Method get_data()","title":"R6 class for a single panel of a ggbrain image — ggbrain_panel","text":"returns data layers object","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_panel.html","id":"usage-6","dir":"Reference","previous_headings":"","what":"Usage","title":"R6 class for a single panel of a ggbrain image — ggbrain_panel","text":"","code":"ggbrain_panel$get_data()"},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_panel.html","id":"method-get-layer-names-","dir":"Reference","previous_headings":"","what":"Method get_layer_names()","title":"R6 class for a single panel of a ggbrain image — ggbrain_panel","text":"returns names layers panel, ordered bottom top","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_panel.html","id":"usage-7","dir":"Reference","previous_headings":"","what":"Usage","title":"R6 class for a single panel of a ggbrain image — ggbrain_panel","text":"","code":"ggbrain_panel$get_layer_names()"},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_panel.html","id":"method-get-layers-","dir":"Reference","previous_headings":"","what":"Method get_layers()","title":"R6 class for a single panel of a ggbrain image — ggbrain_panel","text":"returns list ggbrain_layer objects comprise panel","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_panel.html","id":"usage-8","dir":"Reference","previous_headings":"","what":"Usage","title":"R6 class for a single panel of a ggbrain image — ggbrain_panel","text":"","code":"ggbrain_panel$get_layers()"},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_panel.html","id":"method-set-layer-order-","dir":"Reference","previous_headings":"","what":"Method set_layer_order()","title":"R6 class for a single panel of a ggbrain image — ggbrain_panel","text":"sets order layers bottom top based layer names provided","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_panel.html","id":"usage-9","dir":"Reference","previous_headings":"","what":"Usage","title":"R6 class for a single panel of a ggbrain image — ggbrain_panel","text":"","code":"ggbrain_panel$set_layer_order(ordered_names = NULL)"},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_panel.html","id":"arguments-6","dir":"Reference","previous_headings":"","what":"Arguments","title":"R6 class for a single panel of a ggbrain image — ggbrain_panel","text":"ordered_names names layers desired order bottom top. layer names must provided, just subset","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_panel.html","id":"method-clone-","dir":"Reference","previous_headings":"","what":"Method clone()","title":"R6 class for a single panel of a ggbrain image — ggbrain_panel","text":"objects class cloneable method.","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_panel.html","id":"usage-10","dir":"Reference","previous_headings":"","what":"Usage","title":"R6 class for a single panel of a ggbrain image — ggbrain_panel","text":"","code":"ggbrain_panel$clone(deep = FALSE)"},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_panel.html","id":"arguments-7","dir":"Reference","previous_headings":"","what":"Arguments","title":"R6 class for a single panel of a ggbrain image — ggbrain_panel","text":"deep Whether make deep clone.","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_plot.html","id":null,"dir":"Reference","previous_headings":"","what":"An R6 class for constructing a ggbrain plot from a ggbrain_slices object — ggbrain_plot","title":"An R6 class for constructing a ggbrain plot from a ggbrain_slices object — ggbrain_plot","text":"R6 class constructing ggbrain plot ggbrain_slices object R6 class constructing ggbrain plot ggbrain_slices object","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_plot.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"An R6 class for constructing a ggbrain plot from a ggbrain_slices object — ggbrain_plot","text":"ggbrain_plot R6 class containing fields related ggbrain plot object","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_plot.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"An R6 class for constructing a ggbrain plot from a ggbrain_slices object — ggbrain_plot","text":"Note class exported power users rarely needs called directly typical use package. Instead, look ggbrain().","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_plot.html","id":"active-bindings","dir":"Reference","previous_headings":"","what":"Active bindings","title":"An R6 class for constructing a ggbrain plot from a ggbrain_slices object — ggbrain_plot","text":"slices ggbrain_slices object containing slice data plot layers list ggbrain_layer objects plot. Note assignment, input can list ggbrain_layer objects, list lists inner element specifies settings layer. Example: list(list(name='hello', fill_scale=scale_fill_distiller()) annotations list annotations added plot region_labels list region_labels added plot panel_settings list panel settings (aesthetics) added plot title overall plot title, added composite plot patchwork::plot_annotation() bg_color background color plot text_color color text use across panels (can overridden panel settings) base_size base size text used ggplot theming","code":""},{"path":[]},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_plot.html","id":"public-methods","dir":"Reference","previous_headings":"","what":"Public methods","title":"An R6 class for constructing a ggbrain plot from a ggbrain_slices object — ggbrain_plot","text":"ggbrain_plot$new() ggbrain_plot$add_layers() ggbrain_plot$reset_layers() ggbrain_plot$generate_plot() ggbrain_plot$plot() ggbrain_plot$clone()","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_plot.html","id":"method-new-","dir":"Reference","previous_headings":"","what":"Method new()","title":"An R6 class for constructing a ggbrain plot from a ggbrain_slices object — ggbrain_plot","text":"instantiate new instance ggbrain_plot object","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_plot.html","id":"usage","dir":"Reference","previous_headings":"","what":"Usage","title":"An R6 class for constructing a ggbrain plot from a ggbrain_slices object — ggbrain_plot","text":"","code":"ggbrain_plot$new(   title = NULL,   bg_color = NULL,   text_color = NULL,   base_size = NULL,   slice_data = NULL )"},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_plot.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"An R6 class for constructing a ggbrain plot from a ggbrain_slices object — ggbrain_plot","text":"title overall plot title bg_color background color plot text_color text color plot base_size base size text used ggplot theming slice_data ggbrain_slices object generated ggbrain_images$get_slices()","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_plot.html","id":"method-add-layers-","dir":"Reference","previous_headings":"","what":"Method add_layers()","title":"An R6 class for constructing a ggbrain plot from a ggbrain_slices object — ggbrain_plot","text":"adds one ggbrain_layer objects plot","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_plot.html","id":"usage-1","dir":"Reference","previous_headings":"","what":"Usage","title":"An R6 class for constructing a ggbrain plot from a ggbrain_slices object — ggbrain_plot","text":"","code":"ggbrain_plot$add_layers(layers = NULL)"},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_plot.html","id":"arguments-1","dir":"Reference","previous_headings":"","what":"Arguments","title":"An R6 class for constructing a ggbrain plot from a ggbrain_slices object — ggbrain_plot","text":"layers list ggbrain_layer objects (can also list just specifies names, definitions, etc.)","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_plot.html","id":"method-reset-layers-","dir":"Reference","previous_headings":"","what":"Method reset_layers()","title":"An R6 class for constructing a ggbrain plot from a ggbrain_slices object — ggbrain_plot","text":"removes existing layers ggbrain_plot object","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_plot.html","id":"usage-2","dir":"Reference","previous_headings":"","what":"Usage","title":"An R6 class for constructing a ggbrain plot from a ggbrain_slices object — ggbrain_plot","text":"","code":"ggbrain_plot$reset_layers()"},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_plot.html","id":"method-generate-plot-","dir":"Reference","previous_headings":"","what":"Method generate_plot()","title":"An R6 class for constructing a ggbrain plot from a ggbrain_slices object — ggbrain_plot","text":"generate plot","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_plot.html","id":"usage-3","dir":"Reference","previous_headings":"","what":"Usage","title":"An R6 class for constructing a ggbrain plot from a ggbrain_slices object — ggbrain_plot","text":"","code":"ggbrain_plot$generate_plot(layers = NULL, slice_indices = NULL)"},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_plot.html","id":"arguments-2","dir":"Reference","previous_headings":"","what":"Arguments","title":"An R6 class for constructing a ggbrain plot from a ggbrain_slices object — ggbrain_plot","text":"layers list layers displayed panel, order yields bottom--drawing order within ggplot2. element layers list follows approximate structure ggbrain_layer class, minimally including layer name, used lookup data images contrasts within slice_data object. NULL, layers slices object plotted. character string passed, layers plotted default scales. slice_indices optional subset slice indices display stored slice data","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_plot.html","id":"details-1","dir":"Reference","previous_headings":"","what":"Details","title":"An R6 class for constructing a ggbrain plot from a ggbrain_slices object — ggbrain_plot","text":"addition name, elements layer can include fill_scale ggplot2 scale object coloring layer. scale_fill_* object. limits numeric limits use color scale layer breaks scale breaks use color scale layer show_legend FALSE, color scale appear legend","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_plot.html","id":"method-plot-","dir":"Reference","previous_headings":"","what":"Method plot()","title":"An R6 class for constructing a ggbrain plot from a ggbrain_slices object — ggbrain_plot","text":"return plot panels patchwork object","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_plot.html","id":"usage-4","dir":"Reference","previous_headings":"","what":"Usage","title":"An R6 class for constructing a ggbrain plot from a ggbrain_slices object — ggbrain_plot","text":"","code":"ggbrain_plot$plot(guides = \"collect\", ...)"},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_plot.html","id":"arguments-3","dir":"Reference","previous_headings":"","what":"Arguments","title":"An R6 class for constructing a ggbrain plot from a ggbrain_slices object — ggbrain_plot","text":"guides Passes patchwork::plot_layout control legends combined across plots. default \"collect\", collects legends within given nesting level (removes duplicates). ... additional arguments. used currently","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_plot.html","id":"method-clone-","dir":"Reference","previous_headings":"","what":"Method clone()","title":"An R6 class for constructing a ggbrain plot from a ggbrain_slices object — ggbrain_plot","text":"objects class cloneable method.","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_plot.html","id":"usage-5","dir":"Reference","previous_headings":"","what":"Usage","title":"An R6 class for constructing a ggbrain plot from a ggbrain_slices object — ggbrain_plot","text":"","code":"ggbrain_plot$clone(deep = FALSE)"},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_plot.html","id":"arguments-4","dir":"Reference","previous_headings":"","what":"Arguments","title":"An R6 class for constructing a ggbrain plot from a ggbrain_slices object — ggbrain_plot","text":"deep Whether make deep clone.","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_slices.html","id":null,"dir":"Reference","previous_headings":"","what":"R6 class for managing slice data for ggbrain plots — ggbrain_slices","title":"R6 class for managing slice data for ggbrain plots — ggbrain_slices","text":"R6 class managing slice data ggbrain plots R6 class managing slice data ggbrain plots","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_slices.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"R6 class for managing slice data for ggbrain plots — ggbrain_slices","text":"Michael Hallquist","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_slices.html","id":"active-bindings","dir":"Reference","previous_headings":"","what":"Active bindings","title":"R6 class for managing slice data for ggbrain plots — ggbrain_slices","text":"slice_index read-access slice_index containing slice numbers coord_input input string used lookup slices coord_label calculated x, y, z coordinate relevant slice slice_number slice number along relevant axis 3D image matrix slice_data nested list data.frames element contains data relevant slice list elements within given image slice_matrix slice data matrix form slice_labels data.frame slice containing coordinates labels available drawn layer_names character vector layer names within slice orientation_labels axis labels inherited source images","code":""},{"path":[]},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_slices.html","id":"public-methods","dir":"Reference","previous_headings":"","what":"Public methods","title":"R6 class for managing slice data for ggbrain plots — ggbrain_slices","text":"ggbrain_slices$new() ggbrain_slices$get_orientation_labels() ggbrain_slices$compute_contrasts() ggbrain_slices$as_tibble() ggbrain_slices$get_ranges() ggbrain_slices$get_uvals() ggbrain_slices$clone()","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_slices.html","id":"method-new-","dir":"Reference","previous_headings":"","what":"Method new()","title":"R6 class for managing slice data for ggbrain plots — ggbrain_slices","text":"create ggbrain_slices object based","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_slices.html","id":"usage","dir":"Reference","previous_headings":"","what":"Usage","title":"R6 class for managing slice data for ggbrain plots — ggbrain_slices","text":"","code":"ggbrain_slices$new(slice_df = NULL)"},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_slices.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"R6 class for managing slice data for ggbrain plots — ggbrain_slices","text":"slice_df data.frame generated ggbrain_images$get_slices()","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_slices.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"R6 class for managing slice data for ggbrain plots — ggbrain_slices","text":"becomes user-facing/exported class, may want friendly constructor","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_slices.html","id":"method-get-orientation-labels-","dir":"Reference","previous_headings":"","what":"Method get_orientation_labels()","title":"R6 class for managing slice data for ggbrain plots — ggbrain_slices","text":"return orientation labels inherited source ggbrain_images object","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_slices.html","id":"usage-1","dir":"Reference","previous_headings":"","what":"Usage","title":"R6 class for managing slice data for ggbrain plots — ggbrain_slices","text":"","code":"ggbrain_slices$get_orientation_labels()"},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_slices.html","id":"method-compute-contrasts-","dir":"Reference","previous_headings":"","what":"Method compute_contrasts()","title":"R6 class for managing slice data for ggbrain plots — ggbrain_slices","text":"computes contrasts sliced image data","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_slices.html","id":"usage-2","dir":"Reference","previous_headings":"","what":"Usage","title":"R6 class for managing slice data for ggbrain plots — ggbrain_slices","text":"","code":"ggbrain_slices$compute_contrasts(contrast_list = NULL)"},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_slices.html","id":"arguments-1","dir":"Reference","previous_headings":"","what":"Arguments","title":"R6 class for managing slice data for ggbrain plots — ggbrain_slices","text":"contrast_list named list character vector containing contrasts computed. names list form contrast names, values character strings use standard R syntax logical tests, subsetting, arithmetic","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_slices.html","id":"method-as-tibble-","dir":"Reference","previous_headings":"","what":"Method as_tibble()","title":"R6 class for managing slice data for ggbrain plots — ggbrain_slices","text":"convert slices object data.frame list-columns slice data elements","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_slices.html","id":"usage-3","dir":"Reference","previous_headings":"","what":"Usage","title":"R6 class for managing slice data for ggbrain plots — ggbrain_slices","text":"","code":"ggbrain_slices$as_tibble()"},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_slices.html","id":"method-get-ranges-","dir":"Reference","previous_headings":"","what":"Method get_ranges()","title":"R6 class for managing slice data for ggbrain plots — ggbrain_slices","text":"calculates numeric ranges image/contrast object, across constituent slices. useful setting scale limits shared across panels","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_slices.html","id":"usage-4","dir":"Reference","previous_headings":"","what":"Usage","title":"R6 class for managing slice data for ggbrain plots — ggbrain_slices","text":"","code":"ggbrain_slices$get_ranges(slice_indices = NULL)"},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_slices.html","id":"arguments-2","dir":"Reference","previous_headings":"","what":"Arguments","title":"R6 class for managing slice data for ggbrain plots — ggbrain_slices","text":"slice_indices optional integer vector slice indices used subset calculation","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_slices.html","id":"returns","dir":"Reference","previous_headings":"","what":"Returns","title":"R6 class for managing slice data for ggbrain plots — ggbrain_slices","text":"tibble keyed 'layer' overall low high values, well split pos/neg","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_slices.html","id":"method-get-uvals-","dir":"Reference","previous_headings":"","what":"Method get_uvals()","title":"R6 class for managing slice data for ggbrain plots — ggbrain_slices","text":"returns data.frame unique values label layer, across constituent slices","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_slices.html","id":"usage-5","dir":"Reference","previous_headings":"","what":"Usage","title":"R6 class for managing slice data for ggbrain plots — ggbrain_slices","text":"","code":"ggbrain_slices$get_uvals(slice_indices = NULL, add_labels = NULL)"},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_slices.html","id":"arguments-3","dir":"Reference","previous_headings":"","what":"Arguments","title":"R6 class for managing slice data for ggbrain plots — ggbrain_slices","text":"slice_indices optional integer vector slice indices used subset calculation add_labels optional named list indicating label columns add given layer. names list specify layer labels added values character vectors specifying names columns serve labels layer. always added existing label columns layer.","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_slices.html","id":"details-1","dir":"Reference","previous_headings":"","what":"Details","title":"R6 class for managing slice data for ggbrain plots — ggbrain_slices","text":"add_labels provided categorical columns specified inline layer definition using factor .factor, aes(fill=factor(value)). Otherwise, best input data labels first place labels described data structure .","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_slices.html","id":"method-clone-","dir":"Reference","previous_headings":"","what":"Method clone()","title":"R6 class for managing slice data for ggbrain plots — ggbrain_slices","text":"objects class cloneable method.","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_slices.html","id":"usage-6","dir":"Reference","previous_headings":"","what":"Usage","title":"R6 class for managing slice data for ggbrain plots — ggbrain_slices","text":"","code":"ggbrain_slices$clone(deep = FALSE)"},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggbrain_slices.html","id":"arguments-4","dir":"Reference","previous_headings":"","what":"Arguments","title":"R6 class for managing slice data for ggbrain plots — ggbrain_slices","text":"deep Whether make deep clone.","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggplot_add.ggbrain_label.html","id":null,"dir":"Reference","previous_headings":"","what":"S3 method to support adding ggbrain_label objects to an existing ggplot object — ggplot_add.ggbrain_label","title":"S3 method to support adding ggbrain_label objects to an existing ggplot object — ggplot_add.ggbrain_label","text":"S3 method support adding ggbrain_label objects existing ggplot object","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggplot_add.ggbrain_label.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"S3 method to support adding ggbrain_label objects to an existing ggplot object — ggplot_add.ggbrain_label","text":"","code":"# S3 method for class 'ggbrain_label' ggplot_add(object, plot, object_name, ...)"},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggplot_add.ggbrain_label.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"S3 method to support adding ggbrain_label objects to an existing ggplot object — ggplot_add.ggbrain_label","text":"object ggbrain_layer object added existing ggplot plot ggplot object object_name used, required ggplot_add ... additional arguments, currently used","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggplot_add.ggbrain_layer.html","id":null,"dir":"Reference","previous_headings":"","what":"S3 method to support adding ggbrain_layer objects to an existing ggplot object — ggplot_add.ggbrain_layer","title":"S3 method to support adding ggbrain_layer objects to an existing ggplot object — ggplot_add.ggbrain_layer","text":"S3 method support adding ggbrain_layer objects existing ggplot object","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggplot_add.ggbrain_layer.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"S3 method to support adding ggbrain_layer objects to an existing ggplot object — ggplot_add.ggbrain_layer","text":"","code":"# S3 method for class 'ggbrain_layer' ggplot_add(object, plot, object_name, ...)"},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggplot_add.ggbrain_layer.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"S3 method to support adding ggbrain_layer objects to an existing ggplot object — ggplot_add.ggbrain_layer","text":"object ggbrain_layer object added existing ggplot plot ggplot object object_name used, required ggplot_add ... additional arguments, currently used","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggplot_add.ggbrain_panel.html","id":null,"dir":"Reference","previous_headings":"","what":"S3 method to support adding ggbrain_layer objects to an existing ggplot object — ggplot_add.ggbrain_panel","title":"S3 method to support adding ggbrain_layer objects to an existing ggplot object — ggplot_add.ggbrain_panel","text":"S3 method support adding ggbrain_layer objects existing ggplot object","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggplot_add.ggbrain_panel.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"S3 method to support adding ggbrain_layer objects to an existing ggplot object — ggplot_add.ggbrain_panel","text":"","code":"# S3 method for class 'ggbrain_panel' ggplot_add(object, plot, object_name, ...)"},{"path":"https://michaelhallquist.github.io/ggbrain/reference/ggplot_add.ggbrain_panel.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"S3 method to support adding ggbrain_layer objects to an existing ggplot object — ggplot_add.ggbrain_panel","text":"object ggbrain_layer object added existing ggplot plot ggplot object object_name used, required ggplot_add ... additional arguments, currently used","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/images.html","id":null,"dir":"Reference","previous_headings":"","what":"Add images to a ggbrain object — images","title":"Add images to a ggbrain object — images","text":"Add images ggbrain object","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/images.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Add images to a ggbrain object — images","text":"","code":"images(images = NULL, volumes = NULL, labels = NULL, filter = NULL)"},{"path":"https://michaelhallquist.github.io/ggbrain/reference/images.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Add images to a ggbrain object — images","text":"images character vector ggbrain_images object containing NIfTI images add plot volumes number indicating volume within images display. present, must single number – perhaps future, vector many timepoints 4-D image displayed. labels data.frame named list data.frame objects corresponding images labeled. can provide data.frame single image added. multiple images added, names labels list used align labels given matching image. filter named list character string specifying expression values retain image, numeric vector values retain. Calls ggbrain_images$filter_image()","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/images.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Add images to a ggbrain object — images","text":"ggb object relevant images action 'add_images'","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/images.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Add images to a ggbrain object — images","text":"","code":"t1 <- system.file(\"extdata\", \"mni_template_2009c_2mm.nii.gz\", package = \"ggbrain\")   gg_obj <- ggbrain() +     images(c(underlay = t1))"},{"path":"https://michaelhallquist.github.io/ggbrain/reference/integer_breaks.html","id":null,"dir":"Reference","previous_headings":"","what":"breaks function to encourage integer-valued breaks, based on input from pretty — integer_breaks","title":"breaks function to encourage integer-valued breaks, based on input from pretty — integer_breaks","text":"breaks function encourage integer-valued breaks, based input pretty","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/integer_breaks.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"breaks function to encourage integer-valued breaks, based on input from pretty — integer_breaks","text":"","code":"integer_breaks(n = 5, ...)"},{"path":"https://michaelhallquist.github.io/ggbrain/reference/integer_breaks.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"breaks function to encourage integer-valued breaks, based on input from pretty — integer_breaks","text":"n number breaks (default = 5) ... Additional arguments passed pretty() function","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/integer_breaks.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"breaks function to encourage integer-valued breaks, based on input from pretty — integer_breaks","text":"function generating integer-valued breaks continuous scale","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/integer_breaks.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"breaks function to encourage integer-valued breaks, based on input from pretty — integer_breaks","text":"Code : https://joshuacook.netlify.app/post/integer-values-ggplot-axis/","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/integer_mode.html","id":null,"dir":"Reference","previous_headings":"","what":"Finds the mode of an integer vector — integer_mode","title":"Finds the mode of an integer vector — integer_mode","text":"Finds mode integer vector","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/integer_mode.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Finds the mode of an integer vector — integer_mode","text":"v vector integers demote_zeros TRUE, zero allowed mode","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/integer_mode.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Finds the mode of an integer vector — integer_mode","text":"integer representing mode vector. multiple modes found, lowest-valued mode returned","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/mat2df.html","id":null,"dir":"Reference","previous_headings":"","what":"Fast conversion of 2D mat to 3-column data.frame with dim1, dim2, value — mat2df","title":"Fast conversion of 2D mat to 3-column data.frame with dim1, dim2, value — mat2df","text":"Converts 2D numeric matrix 3-column data.frame","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/mat2df.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fast conversion of 2D mat to 3-column data.frame with dim1, dim2, value — mat2df","text":"mat matrix convert data.frame","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/mat2df.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fast conversion of 2D mat to 3-column data.frame with dim1, dim2, value — mat2df","text":"3-column data.frame dim1, dim2, value","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/mat2df.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Fast conversion of 2D mat to 3-column data.frame with dim1, dim2, value — mat2df","text":"function faster version reshape2::melt simple 2-D case. 2.5x faster melt.","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/mat2df.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Fast conversion of 2D mat to 3-column data.frame with dim1, dim2, value — mat2df","text":"Michael Hallquist","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/montage.html","id":null,"dir":"Reference","previous_headings":"","what":"Convenience function to add many slices in a montage along one of the 3D planes — montage","title":"Convenience function to add many slices in a montage along one of the 3D planes — montage","text":"Convenience function add many slices montage along one 3D planes","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/montage.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convenience function to add many slices in a montage along one of the 3D planes — montage","text":"","code":"montage(   plane = NULL,   n = 12,   min = 0.1,   max = 0.9,   min_coord = NULL,   max_coord = NULL )"},{"path":"https://michaelhallquist.github.io/ggbrain/reference/montage.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convenience function to add many slices in a montage along one of the 3D planes — montage","text":"plane character string specifying 3D plane: \"sagittal\", \"axial\", \"coronal\", \"x\", \"y\", \"z\" n number slices add plane. Default: 12 min lowest quantile included montage (0 1). Default: 0.1 max highest quantile included montage (0 1). Default: 0.9 min_coord lowest spatial position (image coordinate space) included montage. max_coord highest spatial position (image coordinate space) included montage.","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/montage.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convenience function to add many slices in a montage along one of the 3D planes — montage","text":"character string containing slice positions along requested axis","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/montage.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Convenience function to add many slices in a montage along one of the 3D planes — montage","text":"can used slices make quick montage, slices(montage(\"axial\", 10). Also note use standardized coordinates (quantiles, using min max) mutually exclusive image coordinate specifications min_coord max_coord.","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/montage.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Convenience function to add many slices in a montage along one of the 3D planes — montage","text":"","code":"t1 <- system.file(\"extdata\", \"mni_template_2009c_2mm.nii.gz\", package = \"ggbrain\")   gg_obj <- ggbrain() +     images(c(underlay = t1)) +     slices(montage(\"sagittal\", 15))"},{"path":"https://michaelhallquist.github.io/ggbrain/reference/named_list.html","id":null,"dir":"Reference","previous_headings":"","what":"little helper function to create named list from objects — named_list","title":"little helper function to create named list from objects — named_list","text":"little helper function create named list objects","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/named_list.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"little helper function to create named list from objects — named_list","text":"","code":"named_list(...)"},{"path":"https://michaelhallquist.github.io/ggbrain/reference/named_list.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"little helper function to create named list from objects — named_list","text":"... set arguments compiled list","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/named_list.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"little helper function to create named list from objects — named_list","text":"names objects form names list elements","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/nearest_pts.html","id":null,"dir":"Reference","previous_headings":"","what":"Finds the nearest non-missing neighbors of a target point in a 2D matrix — nearest_pts","title":"Finds the nearest non-missing neighbors of a target point in a 2D matrix — nearest_pts","text":"Finds nearest non-missing neighbors target point 2D matrix","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/nearest_pts.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Finds the nearest non-missing neighbors of a target point in a 2D matrix — nearest_pts","text":"x 0-based row index point whose neighbors found within in_mat y 0-based column index point whose neighbors found within in_mat in_mat 2D matrix search neighbors pt neighbors number closest non-NA neighboring values return within in_mat radius radius around pt search. Default: 8. ignore_zeros TRUE, zero valid imputation value (since data NIfTIs)","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/nearest_pts.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Finds the nearest non-missing neighbors of a target point in a 2D matrix — nearest_pts","text":"vector neighbors closest neighboring values around pt","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/nn_impute.html","id":null,"dir":"Reference","previous_headings":"","what":"Imputes missing values in a 2D matrix based on the nearest non-missing neighbors in a given radius — nn_impute","title":"Imputes missing values in a 2D matrix based on the nearest non-missing neighbors in a given radius — nn_impute","text":"Imputes missing values 2D matrix based nearest non-missing neighbors given radius","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/nn_impute.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Imputes missing values in a 2D matrix based on the nearest non-missing neighbors in a given radius — nn_impute","text":"in_mat 2D matrix fill using nearest neighbors neighbors number closest non-NA neighboring values return within in_mat. Default 4. radius radius (pixels) around missing value search non-missing neighbors. Default 8. aggfun function used aggregate neighbors imputation. Supports \"mean\", \"median\", \"mode.\" ignore_zeros TRUE, zero valid imputation value (since data NIfTIs)","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/nn_impute.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Imputes missing values in a 2D matrix based on the nearest non-missing neighbors in a given radius — nn_impute","text":"copy matrix NA values imputed nearest neighbors","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/nn_impute.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Imputes missing values in a 2D matrix based on the nearest non-missing neighbors in a given radius — nn_impute","text":"\"mode\" aggfun used matrix in_mat can converted integers without loss information (.e., data integerish values already).","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/plot.ggb.html","id":null,"dir":"Reference","previous_headings":"","what":"S3 method to allow for plot(x) syntax with ggbrain (ggb) objects — plot.ggb","title":"S3 method to allow for plot(x) syntax with ggbrain (ggb) objects — plot.ggb","text":"S3 method allow plot(x) syntax ggbrain (ggb) objects","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/plot.ggb.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"S3 method to allow for plot(x) syntax with ggbrain (ggb) objects — plot.ggb","text":"","code":"# S3 method for class 'ggb' plot(x, ...)"},{"path":"https://michaelhallquist.github.io/ggbrain/reference/plot.ggb.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"S3 method to allow for plot(x) syntax with ggbrain (ggb) objects — plot.ggb","text":"x ggb object plotted ... additional arguments passed plot method","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/plot.ggb.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"S3 method to allow for plot(x) syntax with ggbrain (ggb) objects — plot.ggb","text":"NULL, invisibly","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/plot.ggb.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"S3 method to allow for plot(x) syntax with ggbrain (ggb) objects — plot.ggb","text":"plot ggbrain object current graphics device","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/plot.ggbrain_panel.html","id":null,"dir":"Reference","previous_headings":"","what":"S3 method to allow for plot() syntax with ggbrain_panel objects — plot.ggbrain_panel","title":"S3 method to allow for plot() syntax with ggbrain_panel objects — plot.ggbrain_panel","text":"S3 method allow plot() syntax ggbrain_panel objects","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/plot.ggbrain_panel.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"S3 method to allow for plot() syntax with ggbrain_panel objects — plot.ggbrain_panel","text":"","code":"# S3 method for class 'ggbrain_panel' plot(x, ...)"},{"path":"https://michaelhallquist.github.io/ggbrain/reference/plot.ggbrain_panel.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"S3 method to allow for plot() syntax with ggbrain_panel objects — plot.ggbrain_panel","text":"x ggbrain_panel object plotted ... additional argument passed plot method","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/plot.ggbrain_patchwork.html","id":null,"dir":"Reference","previous_headings":"","what":"S3 method to allow for plot() syntax with rendered ggbrain patchwork objects — plot.ggbrain_patchwork","title":"S3 method to allow for plot() syntax with rendered ggbrain patchwork objects — plot.ggbrain_patchwork","text":"S3 method allow plot() syntax rendered ggbrain patchwork objects default S3 method ggbrain_patchwork objects (post-render)","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/plot.ggbrain_patchwork.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"S3 method to allow for plot() syntax with rendered ggbrain patchwork objects — plot.ggbrain_patchwork","text":"","code":"# S3 method for class 'ggbrain_patchwork' plot(x, ...)  # S3 method for class 'ggbrain_patchwork' print(x, ...)"},{"path":"https://michaelhallquist.github.io/ggbrain/reference/plot.ggbrain_patchwork.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"S3 method to allow for plot() syntax with rendered ggbrain patchwork objects — plot.ggbrain_patchwork","text":"x ggbrain_patchwork object plotted ... additional arguments. currently used","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/plot.ggbrain_patchwork.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"S3 method to allow for plot() syntax with rendered ggbrain patchwork objects — plot.ggbrain_patchwork","text":"patchworkGrob object, invisibly","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/plot.ggbrain_plot.html","id":null,"dir":"Reference","previous_headings":"","what":"S3 method to allow for plot() syntax with ggbrain_panel objects — plot.ggbrain_plot","title":"S3 method to allow for plot() syntax with ggbrain_panel objects — plot.ggbrain_plot","text":"S3 method allow plot() syntax ggbrain_panel objects","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/plot.ggbrain_plot.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"S3 method to allow for plot() syntax with ggbrain_panel objects — plot.ggbrain_plot","text":"","code":"# S3 method for class 'ggbrain_plot' plot(x, ...)"},{"path":"https://michaelhallquist.github.io/ggbrain/reference/plot.ggbrain_plot.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"S3 method to allow for plot() syntax with ggbrain_panel objects — plot.ggbrain_plot","text":"x ggbrain_plot object plotted ... additional argument passed plot method","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/plus-.ggb.html","id":null,"dir":"Reference","previous_headings":"","what":"addition operator for ggb object to support ggplot-like syntax — +.ggb","title":"addition operator for ggb object to support ggplot-like syntax — +.ggb","text":"addition operator ggb object support ggplot-like syntax","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/plus-.ggb.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"addition operator for ggb object to support ggplot-like syntax — +.ggb","text":"","code":"# S3 method for class 'ggb' o1 + o2"},{"path":"https://michaelhallquist.github.io/ggbrain/reference/plus-.ggb.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"addition operator for ggb object to support ggplot-like syntax — +.ggb","text":"o1 first object inheriting ggb class o2 second object inheriting ggb class","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/plus-.ggb.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"addition operator for ggb object to support ggplot-like syntax — +.ggb","text":"modified version o1 object o2 added ","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/plus-.ggb.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"addition operator for ggb object to support ggplot-like syntax — +.ggb","text":"Note addition operator always clones underlying o1 object rather modifying place","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/plus-.ggbrain_images.html","id":null,"dir":"Reference","previous_headings":"","what":"summary S3 method for ggbrain_images objects addition operator for combining ggbrain_images objects — +.ggbrain_images","title":"summary S3 method for ggbrain_images objects addition operator for combining ggbrain_images objects — +.ggbrain_images","text":"summary S3 method ggbrain_images objects addition operator combining ggbrain_images objects","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/plus-.ggbrain_images.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"summary S3 method for ggbrain_images objects addition operator for combining ggbrain_images objects — +.ggbrain_images","text":"","code":"# S3 method for class 'ggbrain_images' o1 + o2"},{"path":"https://michaelhallquist.github.io/ggbrain/reference/plus-.ggbrain_images.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"summary S3 method for ggbrain_images objects addition operator for combining ggbrain_images objects — +.ggbrain_images","text":"o1 first ggbrain_images object o2 second ggbrain_images object","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/plus-.ggbrain_images.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"summary S3 method for ggbrain_images objects addition operator for combining ggbrain_images objects — +.ggbrain_images","text":"combined ggbrain_images object","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/plus-.ggbrain_images.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"summary S3 method for ggbrain_images objects addition operator for combining ggbrain_images objects — +.ggbrain_images","text":"note addition modify either existing object. Rather, first object cloned second added . want add one ggbrain_images object another place (.e., modifying extant object), use $add() method.","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/range_breaks.html","id":null,"dir":"Reference","previous_headings":"","what":"breaks function for including min + max with labels, and a few unlabeled ticks in between — range_breaks","title":"breaks function for including min + max with labels, and a few unlabeled ticks in between — range_breaks","text":"breaks function including min + max labels, unlabeled ticks ","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/range_breaks.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"breaks function for including min + max with labels, and a few unlabeled ticks in between — range_breaks","text":"","code":"range_breaks(n = 3, digits = 2)"},{"path":"https://michaelhallquist.github.io/ggbrain/reference/range_breaks.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"breaks function for including min + max with labels, and a few unlabeled ticks in between — range_breaks","text":"n number breaks added within min-max range digits number decimal places display","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/range_breaks.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"breaks function for including min + max with labels, and a few unlabeled ticks in between — range_breaks","text":"function generating breaks continuous scale min max labeled","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/render.ggb.html","id":null,"dir":"Reference","previous_headings":"","what":"S3 method to allow for render(x) syntax with ggbrain (ggb) objects — render.ggb","title":"S3 method to allow for render(x) syntax with ggbrain (ggb) objects — render.ggb","text":"S3 method allow render(x) syntax ggbrain (ggb) objects","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/render.ggb.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"S3 method to allow for render(x) syntax with ggbrain (ggb) objects — render.ggb","text":"","code":"# S3 method for class 'ggb' render(x, ...)"},{"path":"https://michaelhallquist.github.io/ggbrain/reference/render.ggb.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"S3 method to allow for render(x) syntax with ggbrain (ggb) objects — render.ggb","text":"x ggb object rendered ggbrain_patchwork object ... additional arguments passed render method","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/render.ggb.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"S3 method to allow for render(x) syntax with ggbrain (ggb) objects — render.ggb","text":"ggbrain_patchwork object can handed patchwork ggplot2 functions.","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/render.html","id":null,"dir":"Reference","previous_headings":"","what":"Function to convert ggb object to ggplot/patchwork object — render","title":"Function to convert ggb object to ggplot/patchwork object — render","text":"Function convert ggb object ggplot/patchwork object","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/render.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Function to convert ggb object to ggplot/patchwork object — render","text":"","code":"render(x, ...)"},{"path":"https://michaelhallquist.github.io/ggbrain/reference/render.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Function to convert ggb object to ggplot/patchwork object — render","text":"x optional. ggb object rendered ggbrain_patchwork object. ... additional arguments passed $render method x.","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/render.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Function to convert ggb object to ggplot/patchwork object — render","text":"ggbrain_patchwork object rendered ggbrain plot","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/render.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Function to convert ggb object to ggplot/patchwork object — render","text":"x argument passed , function can used ggbrain addition chain render plot ggplot-friendly object additional ggplot patchwork calls added theme(). x passed argument, return rendered plot ggbrain_patchwork object.","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/render.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Function to convert ggb object to ggplot/patchwork object — render","text":"","code":"t1 <- system.file(\"extdata\", \"mni_template_2009c_2mm.nii.gz\", package = \"ggbrain\")      # version where render is added to the object in a ggplot-style chain   gg_obj <- ggbrain() +     images(c(underlay = t1)) +      slices(c(\"x = 25%\", \"x = 75%\")) +     geom_brain(\"underlay\") +      render() + # convert to ggplot-friendly object     ggplot2::theme(text=ggplot2::element_text(family=\"Serif\"))       # version where a ggbrain object is created in one step, then rendered in another  brain_obj <- ggbrain() +     images(c(underlay = t1)) +      slices(c(\"x = 25%\", \"x = 75%\")) +     geom_brain(\"underlay\")       gg_obj <- render(brain_obj) + patchwork::plot_annotation(title=\"Overall title\")"},{"path":"https://michaelhallquist.github.io/ggbrain/reference/scale_fill_bisided.html","id":null,"dir":"Reference","previous_headings":"","what":"scale for plotting separate color gradients for positive and negative values — scale_fill_bisided","title":"scale for plotting separate color gradients for positive and negative values — scale_fill_bisided","text":"scale plotting separate color gradients positive negative values","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/scale_fill_bisided.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"scale for plotting separate color gradients for positive and negative values — scale_fill_bisided","text":"","code":"scale_fill_bisided(   name = ggplot2::waiver(),   neg_scale = scale_fill_distiller(palette = \"Blues\", direction = 1),   pos_scale = scale_fill_distiller(palette = \"Reds\"),   symmetric = TRUE )"},{"path":"https://michaelhallquist.github.io/ggbrain/reference/scale_fill_bisided.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"scale for plotting separate color gradients for positive and negative values — scale_fill_bisided","text":"name scale name printed legend (positive scale) neg_scale scale_fill_* object used negative values pos_scale scale_fill_* object used positive values symmetric TRUE, limits positive scale equal inverse limits negative scale. Said differently, makes positive negative scales symmetric","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/scale_fill_bisided.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"scale for plotting separate color gradients for positive and negative values — scale_fill_bisided","text":"ggplot2 scale type ScaleContinuous includes negative positive fill scales internally $neg_scale $pos_scale elements","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/scale_fill_bisided.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"scale for plotting separate color gradients for positive and negative values — scale_fill_bisided","text":"Note absolutely work general purpose ggplot2 scale! positive/negative combination achieved adding two layers/geoms behind scenes different color scale.","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/slices.html","id":null,"dir":"Reference","previous_headings":"","what":"Adds slices to the ggbrain plot, including additional panel aesthetics — slices","title":"Adds slices to the ggbrain plot, including additional panel aesthetics — slices","text":"Adds slices ggbrain plot, including additional panel aesthetics","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/slices.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Adds slices to the ggbrain plot, including additional panel aesthetics — slices","text":"","code":"slices(   coordinates = NULL,   title = NULL,   bg_color = NULL,   text_color = NULL,   border_color = NULL,   border_size = NULL,   xlab = NULL,   ylab = NULL,   theme_custom = NULL )"},{"path":"https://michaelhallquist.github.io/ggbrain/reference/slices.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Adds slices to the ggbrain plot, including additional panel aesthetics — slices","text":"coordinates character vector specifying x, y, z coordinates slices added. title title slice panels added ggplot object using ggtitle() bg_color color used background panels. Default: 'gray10' (nearly black) text_color color used text displayed panels. Default: 'white'. border_color color used drawing border around panels. Default: 'gray50' (though borders drawn default). border_size size border line drawn around panels. Default: NULL. value greater zero, border size color border_color drawn around panels. xlab label place x axis. Default NULL. ylab label place y axis. Default NULL. theme_custom custom theme() settings added panels.","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/slices.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Adds slices to the ggbrain plot, including additional panel aesthetics — slices","text":"ggb object relevant slices action 'add_slices'","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/slices.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Adds slices to the ggbrain plot, including additional panel aesthetics — slices","text":"note pass multiple coordinates (vector), title, bg_color, attributes reused slices added operation. Thus, want customize specific slices groups slices, use multiple addition operations, slices(c('x=10', 'y=15'), bg_color='white') + slices(c('x=18', 'y=22'), bg_color='black').","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/slices.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Adds slices to the ggbrain plot, including additional panel aesthetics — slices","text":"","code":"t1 <- system.file(\"extdata\", \"mni_template_2009c_2mm.nii.gz\", package = \"ggbrain\")   gg_obj <- ggbrain() +     images(c(underlay = t1)) +     slices(c(\"x = 25%\", \"x = 75%\"), border_color = \"blue\")"},{"path":"https://michaelhallquist.github.io/ggbrain/reference/sort_mat.html","id":null,"dir":"Reference","previous_headings":"","what":"Sort Matrix by Column — sort_mat","title":"Sort Matrix by Column — sort_mat","text":"Sorts given matrix specific column retain elements row.","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/sort_mat.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Sort Matrix by Column — sort_mat","text":"x matrix sort col int indicates column matrix sort .","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/sort_mat.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Sort Matrix by Column — sort_mat","text":"matrix sorted values specified column.","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/sort_mat.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Sort Matrix by Column — sort_mat","text":"functions sorts matrix based one column, keeping rows together. Note col zero-based index x (.e., first column 0).","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/target_resolution.html","id":null,"dir":"Reference","previous_headings":"","what":"Set the target resolution for resampling slices in a ggbrain plot — target_resolution","title":"Set the target resolution for resampling slices in a ggbrain plot — target_resolution","text":"Set target resolution resampling slices ggbrain plot","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/target_resolution.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Set the target resolution for resampling slices in a ggbrain plot — target_resolution","text":"","code":"target_resolution(voxel_size, interpolation = \"cubic\")"},{"path":"https://michaelhallquist.github.io/ggbrain/reference/target_resolution.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Set the target resolution for resampling slices in a ggbrain plot — target_resolution","text":"voxel_size positive number specifying target voxel size millimeters (e.g., 1 1mm isotropic). slices resampled resolution display. input images larger voxels (e.g., 2.5mm), upsampled target resolution. input images smaller voxels (e.g., 0.5mm), downsampled. interpolation character string specifying interpolation method use. Options : \"nearest\" (value 1): Nearest neighbor interpolation. Fast can produce blocky results. \"linear\" (value 2): Linear interpolation. Smooth may blur edges. \"cubic\" (value 5): Cubic interpolation (default). Good balance smoothness edge preservation. \"lanczos\" (value 6): Lanczos interpolation. High quality slower.","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/target_resolution.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Set the target resolution for resampling slices in a ggbrain plot — target_resolution","text":"ggb object target resolution settings action 'set_target_resolution'","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/target_resolution.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Set the target resolution for resampling slices in a ggbrain plot — target_resolution","text":"function allows display brain images different resolution native voxel size. example, functional MRI data 2.5mm voxels want display 1mm resolution publication-quality figures, can use target_resolution(1) upsample. Conversely, high-resolution images (e.g., 0.5mm) slow render result large file sizes, can downsample using target_resolution(2) display 2mm. resampling performed 2D slice extraction, efficient resampling entire 3D volume. interpolation applied images plot. labeled/categorical images, nearest neighbor interpolation always used preserve integer values. Note upsampling add information image – simply provides smoother visual representation. highest quality results functional overlays anatomical underlays, consider using high-resolution anatomical template (e.g., 1mm) underlay.","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/reference/target_resolution.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Set the target resolution for resampling slices in a ggbrain plot — target_resolution","text":"","code":"t1 <- system.file(\"extdata\", \"mni_template_2009c_2mm.nii.gz\", package = \"ggbrain\")   overlay <- system.file(\"extdata\", \"pe_ptfce_fwep_0.05_2mm.nii.gz\", package = \"ggbrain\")    # Display 2mm images at 1mm resolution (upsampling) using cubic interpolation   gg_obj <- ggbrain() +     images(c(underlay = t1, overlay = overlay)) +     slices(c(\"x = 0\", \"z = 20\")) +     target_resolution(1, interpolation = \"cubic\") +     geom_brain(\"underlay\") +     geom_brain(\"overlay\")    # Downsample to 4mm for faster rendering or smaller file sizes   gg_obj_small <- ggbrain() +     images(c(underlay = t1)) +     slices(c(\"x = 0\", \"z = 20\")) +     target_resolution(4, interpolation = \"linear\") +     geom_brain(\"underlay\")"},{"path":"https://michaelhallquist.github.io/ggbrain/news/index.html","id":"ggbrain-092-3dec2025","dir":"Changelog","previous_headings":"","what":"ggbrain 0.9.2 (3Dec2025)","title":"ggbrain 0.9.2 (3Dec2025)","text":"feature: added target_resolution() function resample slices different resolution display. allows users upsample images finer resolution (e.g., show 2.5mm data 1mm) downsample faster rendering smaller file sizes. Supports nearest, linear, cubic (default), lanczos interpolation methods. feature: added annotate_orientation() function add anatomical orientation labels plots bugfix: avoid double calls refine_image() unifying categorical scales releveling data assignment bugfix: ensure fill_holes uses mode categorical/labeled data (even fixed outlines) cap imputation radius small slices bugfix: replace deprecated aes_string() tidy-eval aes() mappings rasters labels bugfix: replace deprecated rlang::flatten() internal flatten_list_once() helper bugfix: correct row/column swap eastward check count_neighbors. bugfix: switched flood_fill stack-based approach avoid overflow due recursion. bugfix: Correct invalid 1-based indexing assumption nearest_pts used filling holes. feature: Improve speed find_threads decrementing neighbor counts pixels identified initial full scan. tests: add core vignette-style integration tests covering rendering, outlines, labeled atlas slices; add tests refine_image call count hole filling","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/news/index.html","id":"ggbrain-091-22aug2025","dir":"Changelog","previous_headings":"","what":"ggbrain 0.9.1 (22Aug2025)","title":"ggbrain 0.9.1 (22Aug2025)","text":"CRAN release: 2025-08-22 updated ggplot_add methods compatible ggplot2 4.0","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/news/index.html","id":"ggbrain-090-18mar2025","dir":"Changelog","previous_headings":"","what":"ggbrain 0.9.0 (18Mar2025)","title":"ggbrain 0.9.0 (18Mar2025)","text":"CRAN release: 2025-03-20 notice: annotate_panel now called annotate_slice consistency notice: plot() method now works rendered un-rendered objects, always drawing current graphics device feature: Support use label columns contrast specification feature: Support use inline factor() specification aes() geom_outline geom_brain layer feature: layer definition uses := syntax, use lefthand side layer name name provided bugfix: Allow quantile “q” specifications label position can 1-100 (percentile) 0-1 (quantile) bugfix: throw error contrast specification includes equals sign (logical tests) bugfix: use := syntax naming contrasts. compound contrast expressions, use  = ;  = bugfix: Pass label_columns attribute inline contrast definitions form  = bugfix: Handle fixed fill ggbrain_layers alpha < 1 bugfix: retain order ordered factors labels unify_scales = TRUE bugfix: copy label columns simple subset contrasts bugfix: extend background color rectangle cover entire plot legend large bugfix: support ggplot2 3.5.0+, working around collision ggnewscale categorical images","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/news/index.html","id":"ggbrain-081-21mar2023","dir":"Changelog","previous_headings":"","what":"ggbrain 0.8.1 (21Mar2023)","title":"ggbrain 0.8.1 (21Mar2023)","text":"CRAN release: 2023-03-21 feature: ggbrain objects can added together, allowing common parts across plots reused feature: geom_outline now supports dilation erosion using dil_ero argument feature: geom_region_label* geom_region_text* now support min_px argument controls minimum number pixels slice result label. Helps reduce labeling small regions feature: support aes(outline=, group=) geom_outline, allowing subdivision outlines bugfix: add workaround show.legend bug multiple fill layers: https://github.com/eliocamp/ggnewscale/issues/32 bugfix: switch linewidth instead size borders ggbrain_panel object bugfix: default cyan color (message) geom_outline added without color information bugfix: correction pass forward data.frame fill_holes algorithm applied bugfix: nn interpolation fill_holes now takes mean neighbors continuous-valued data bugfix: use correct fill column using remove_specks categorical image","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/news/index.html","id":"ggbrain-08-21oct2022","dir":"Changelog","previous_headings":"","what":"ggbrain 0.8 (21Oct2022)","title":"ggbrain 0.8 (21Oct2022)","text":"first public release package CRAN (hooray!) feature: add define() function support contrast definition ggbrain pipeline outside given layer feature: fixed fill colors now supported geom_brain using geom_brain(fill='color_here') feature: images() supports volumes argument volumes 4-D images can visualized feature: plot() ggbrain object supports guides argument passes plot_layout() patchwork. Also, default now guides=\"collect\", combines shared legends. feature: support min_coord max_coord montage function coordinate-based ranges update: archive ggbrain_legacy remove cowplot dependency update: add_images() now images() nonredundancy update: add_slices() now slices() nonredundancy update: renamed outline_size just size geom_outline consistency ggplot2 logic (e.g., geom_contour). update: removed add_slice() favor slices(). attributes bg_color set slices(), slice operation. bugfix: properly display geom_outline continuous images","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/news/index.html","id":"ggbrain-07-23sep2022","dir":"Changelog","previous_headings":"","what":"ggbrain 0.7 (23Sep2022)","title":"ggbrain 0.7 (23Sep2022)","text":"feature: abstract fill_holes, trim_threads, remove_specks ggbrain_layer – exposed geom_brain geom_outline. allows modifications made contrast layers. feature: fill_holes now supported geom_brain geom_outline objects. Uses flood fill algorithm find interior holes, uses nearest neighbor imputation, taking mode categorical images mean continuous images. feature: annotations, q syntax now allows quantiles 1 0, 2 = 200% max -1 -100% min. allows annotations placed outside image boundaries. feature: implement Rcpp-based flood fill algorithm finding interior holes slices. Used fill_holes. feature: implement Rcpp-based pixel neighbor counting algorithm clean frayed edges outlines fills. feature: switch Rcpp mat2df function instead reshape2::melt speed. Remove reshape2 dependency bugfix: geom_raster provided alpha na.value=‘transparent’, draws semi-transparent squares. Switched na.omit() alpha < 1. bugfix: ggbrain_slices still returns data layers NA layers dropped range calculations. bugfix: add ggbrain_layer plot values NA. Adds all_na field. bugfix: properly handle ggbrain_images filter integer vector provided bugfix: fix simple_subset contrast_parser brackets expression bugfix: correct contrast_parser conjunctions numeric value label returned. Also now use := syntax values. bugfix: fully remove assumption “label” column categorical layers, fixing calculation unique values categorical layer bugfix: convert NAs 0s within contrast parsing numeric logical comparisons always yield TRUE/FALSE NA.","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/news/index.html","id":"ggbrain-06-9aug2022","dir":"Changelog","previous_headings":"","what":"ggbrain 0.6 (9Aug2022)","title":"ggbrain 0.6 (9Aug2022)","text":"feature: labeled images, clean_specks now counts specks ROI/mask value feature: support filter expression add_image() filter (subset) data given image. Useful thresholding subsetting atlas retain certain values. feature: montage() function make adding many slices plane easy feature: support plot() ggbrain() objects ggbrain settings can amended prior render plot steps feature: support overall plot aesthetics including title, base_size, bg_color, text_color. arguments ggbrain() feature: set tiny values slice NA support transparency image boundaries (e.g., ‘dead space’ structural) feature: add_slice() function adds single slice supports panel-specific aesthetics title text_color feature: contrasts simple subsetting operation labeled image retain labels contrast data bugfix: correct accidental resetting unified scale limits bisided scale empty one side bugfix: correct range_breaks() empty data bugfix: pass breaks layers regardless whether scale breaks set first bugfix: cleaning specks longer fails slice empty bugfix: refactor outlines empty slices generate completely filled layer","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/news/index.html","id":"ggbrain-051-2aug2022","dir":"Changelog","previous_headings":"","what":"ggbrain 0.5.1 (2Aug2022)","title":"ggbrain 0.5.1 (2Aug2022)","text":"abstract geom_brain geom_outline different R6 classes inherit ggbrain_layer support blur_edge allow blurred outlines less jagged support clean_specks =  remove regions size smaller slices support alpha transparency geom_brain geom_outline layers alpha=<number> syntax support control outlines grouped/calculated labeled images using geom_outline(mapping=aes(group=<label_col>)) bugfix: allow empty annotations overall plot","code":""},{"path":"https://michaelhallquist.github.io/ggbrain/news/index.html","id":"ggbrain-05-29jul2022","dir":"Changelog","previous_headings":"","what":"ggbrain 0.5 (29Jul2022)","title":"ggbrain 0.5 (29Jul2022)","text":"Initial internal release ggbrain package","code":""}]
