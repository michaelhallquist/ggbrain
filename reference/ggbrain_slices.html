<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>R6 class for managing slice data for ggbrain plots — ggbrain_slices • ggbrain</title><!-- mathjax math --><script src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script><script>
  window.MathJax = {
    chtml: {
      fontURL: "https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/output/chtml/fonts/woff-v2"
    }
  };
</script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="R6 class for managing slice data for ggbrain plots — ggbrain_slices"><meta name="description" content="R6 class for managing slice data for ggbrain plots
R6 class for managing slice data for ggbrain plots"><meta property="og:description" content="R6 class for managing slice data for ggbrain plots
R6 class for managing slice data for ggbrain plots"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">ggbrain</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.9.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/ggbrain_aesthetics.html">Aesthetic refinements of ggbrain plots</a></li>
    <li><a class="dropdown-item" href="../articles/ggbrain_introduction.html">Introduction to ggbrain</a></li>
    <li><a class="dropdown-item" href="../articles/ggbrain_labels.html">Working with annotations and labels in ggbrain</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/michaelhallquist/ggbrain/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>R6 class for managing slice data for ggbrain plots</h1>
      <small class="dont-index">Source: <a href="https://github.com/michaelhallquist/ggbrain/blob/main/R/ggbrain_slices.R" class="external-link"><code>R/ggbrain_slices.R</code></a></small>
      <div class="d-none name"><code>ggbrain_slices.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>R6 class for managing slice data for ggbrain plots</p>
<p>R6 class for managing slice data for ggbrain plots</p>
    </div>


    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Michael Hallquist</p>
    </div>
    <div class="section level2">
    <h2 id="active-bindings">Active bindings<a class="anchor" aria-label="anchor" href="#active-bindings"></a></h2>
    <p></p><div class="r6-active-bindings"><dl><dt><code>slice_index</code></dt>
<dd><p>read-only access to the slice_index containing the slice numbers</p></dd>


<dt><code>coord_input</code></dt>
<dd><p>the input string used to lookup the slices</p></dd>


<dt><code>coord_label</code></dt>
<dd><p>the calculated x, y, or z coordinate of the relevant slice</p></dd>


<dt><code>slice_number</code></dt>
<dd><p>the slice number along the relevant axis of the 3D image matrix</p></dd>


<dt><code>slice_data</code></dt>
<dd><p>a nested list of data.frames where each element contains all data relevant to
that slice and the list elements within are each a given image</p></dd>


<dt><code>slice_matrix</code></dt>
<dd><p>the slice data in matrix form</p></dd>


<dt><code>slice_labels</code></dt>
<dd><p>a data.frame for each slice containing the coordinates of labels available to be drawn</p></dd>


<dt><code>layer_names</code></dt>
<dd><p>a character vector of layer names within each slice</p></dd>


</dl><p></p></div>
    </div>
    <div class="section level2">
    <h2 id="methods">Methods<a class="anchor" aria-label="anchor" href="#methods"></a></h2>

<div class="section">
<h3 id="public-methods">Public methods<a class="anchor" aria-label="anchor" href="#public-methods"></a></h3>

<ul><li><p><a href="#method-ggbrain_slices-new"><code>ggbrain_slices$new()</code></a></p></li>
<li><p><a href="#method-ggbrain_slices-compute_contrasts"><code>ggbrain_slices$compute_contrasts()</code></a></p></li>
<li><p><a href="#method-ggbrain_slices-as_tibble"><code>ggbrain_slices$as_tibble()</code></a></p></li>
<li><p><a href="#method-ggbrain_slices-get_ranges"><code>ggbrain_slices$get_ranges()</code></a></p></li>
<li><p><a href="#method-ggbrain_slices-get_uvals"><code>ggbrain_slices$get_uvals()</code></a></p></li>
<li><p><a href="#method-ggbrain_slices-clone"><code>ggbrain_slices$clone()</code></a></p></li>
</ul></div><p></p><hr><a id="method-ggbrain_slices-new"></a><div class="section">
<h3 id="method-new-">Method <code>new()</code><a class="anchor" aria-label="anchor" href="#method-new-"></a></h3>
<p>create a ggbrain_slices object based</p><div class="section">
<h4 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va"><a href="../reference/ggbrain_slices.html">ggbrain_slices</a></span><span class="op">$</span><span class="fu">new</span><span class="op">(</span>slice_df <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h4>
<p></p><div class="arguments"><dl><dt><code>slice_df</code></dt>
<dd><p>a data.frame generated by ggbrain_images$get_slices()</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h4>
<p>If this becomes a user-facing/exported class, we may want a more friendly constructor</p>
</div>


</div><p></p><hr><a id="method-ggbrain_slices-compute_contrasts"></a><div class="section">
<h3 id="method-compute-contrasts-">Method <code>compute_contrasts()</code><a class="anchor" aria-label="anchor" href="#method-compute-contrasts-"></a></h3>
<p>computes contrasts of the sliced image data</p><div class="section">
<h4 id="usage-1">Usage<a class="anchor" aria-label="anchor" href="#usage-1"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">ggbrain_slices</span><span class="op">$</span><span class="fu">compute_contrasts</span><span class="op">(</span>contrast_list <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-1">Arguments<a class="anchor" aria-label="anchor" href="#arguments-1"></a></h4>
<p></p><div class="arguments"><dl><dt><code>contrast_list</code></dt>
<dd><p>a named list or character vector containing contrasts to be computed.
The names of the list form the contrast names, while the values should be character strings
that use standard R syntax for logical tests, subsetting, and arithmetic</p></dd>


</dl><p></p></div>
</div>

</div><p></p><hr><a id="method-ggbrain_slices-as_tibble"></a><div class="section">
<h3 id="method-as-tibble-">Method <code>as_tibble()</code><a class="anchor" aria-label="anchor" href="#method-as-tibble-"></a></h3>
<p>convert the slices object into a data.frame with list-columns for slice data elements</p><div class="section">
<h4 id="usage-2">Usage<a class="anchor" aria-label="anchor" href="#usage-2"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">ggbrain_slices</span><span class="op">$</span><span class="fu">as_tibble</span><span class="op">(</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>


</div><p></p><hr><a id="method-ggbrain_slices-get_ranges"></a><div class="section">
<h3 id="method-get-ranges-">Method <code>get_ranges()</code><a class="anchor" aria-label="anchor" href="#method-get-ranges-"></a></h3>
<p>calculates the numeric ranges of each image/contrast in this object, across all
constituent slices. This is useful for setting scale limits that are shared across panels</p><div class="section">
<h4 id="usage-3">Usage<a class="anchor" aria-label="anchor" href="#usage-3"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">ggbrain_slices</span><span class="op">$</span><span class="fu">get_ranges</span><span class="op">(</span>slice_indices <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-2">Arguments<a class="anchor" aria-label="anchor" href="#arguments-2"></a></h4>
<p></p><div class="arguments"><dl><dt><code>slice_indices</code></dt>
<dd><p>an optional integer vector of slice indices to be used as a subset in the calculation</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="returns">Returns<a class="anchor" aria-label="anchor" href="#returns"></a></h4>
<p>a tibble keyed by 'layer' with overall low and high values, as well as split by pos/neg</p>
</div>

</div><p></p><hr><a id="method-ggbrain_slices-get_uvals"></a><div class="section">
<h3 id="method-get-uvals-">Method <code>get_uvals()</code><a class="anchor" aria-label="anchor" href="#method-get-uvals-"></a></h3>
<p>returns a data.frame with the unique values for each label layer, across all
constituent slices</p><div class="section">
<h4 id="usage-4">Usage<a class="anchor" aria-label="anchor" href="#usage-4"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">ggbrain_slices</span><span class="op">$</span><span class="fu">get_uvals</span><span class="op">(</span>slice_indices <span class="op">=</span> <span class="cn">NULL</span>, add_labels <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-3">Arguments<a class="anchor" aria-label="anchor" href="#arguments-3"></a></h4>
<p></p><div class="arguments"><dl><dt><code>slice_indices</code></dt>
<dd><p>an optional integer vector of slice indices to be used as a subset in the calculation</p></dd>


<dt><code>add_labels</code></dt>
<dd><p>an optional named list indicating the label columns to add to a given layer. The names
of the list specify the layer to which labels are added and the values should be character vectors
specifying the names of columns that serve as labels for the layer. These are always <em>added</em> to any
existing label columns for the layer.</p></dd>


</dl><p></p></div>
</div>
<div class="section">
<h4 id="details-1">Details<a class="anchor" aria-label="anchor" href="#details-1"></a></h4>
<p><code>add_labels</code> is provided here for any categorical columns that were specified inline in the
layer definition using factor or as.factor, such as aes(fill=factor(value)). Otherwise, it's best
to input data with labels in the first place so that labels are described in the data structure itself.</p>
</div>


</div><p></p><hr><a id="method-ggbrain_slices-clone"></a><div class="section">
<h3 id="method-clone-">Method <code>clone()</code><a class="anchor" aria-label="anchor" href="#method-clone-"></a></h3>
<p>The objects of this class are cloneable with this method.</p><div class="section">
<h4 id="usage-5">Usage<a class="anchor" aria-label="anchor" href="#usage-5"></a></h4>
<p></p><div class="r"><div class="sourceCode"><pre><code><span><span class="va">ggbrain_slices</span><span class="op">$</span><span class="fu">clone</span><span class="op">(</span>deep <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div><p></p></div>
</div>

<div class="section">
<h4 id="arguments-4">Arguments<a class="anchor" aria-label="anchor" href="#arguments-4"></a></h4>
<p></p><div class="arguments"><dl><dt><code>deep</code></dt>
<dd><p>Whether to make a deep clone.</p></dd>


</dl><p></p></div>
</div>

</div>

    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Michael Hallquist.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

